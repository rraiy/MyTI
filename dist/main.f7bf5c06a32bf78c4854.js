/*! For license information please see main.f7bf5c06a32bf78c4854.js.LICENSE.txt */
(()=>{var e={224:(e,t,n)=>{"use strict";var r=n(99),i=n(909),o=n(655),a=n(589),s=n(594);function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c,l=u(r),h=((c={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",c["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",c["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",c["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",c["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",c["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",c["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",c["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",c["recaptcha-error"]="ReCAPTCHA error.",c),f=new a.ErrorFactory("appCheck","AppCheck",h),d=new Map,p={activated:!1,tokenListeners:[]},g={enabled:!1};function m(e){return d.get(e)||p}function v(e,t){d.set(e,t)}function y(){return g}function _(){return self.grecaptcha}function b(e){if(!m(e).activated)throw f.create("use-before-activation",{appName:e.name})}function w(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:return b(e),[4,m(e).reCAPTCHAState.initialized.promise];case 1:return t=n.sent(),[2,new Promise((function(n,r){var i=m(e).reCAPTCHAState;t.ready((function(){n(t.execute(i.widgetId,{action:"fire_app_check"}))}))}))]}}))}))}function E(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),a=m(e);v(e,o.__assign(o.__assign({},a),{reCAPTCHAState:o.__assign(o.__assign({},a.reCAPTCHAState),{widgetId:i})}))}var I="https://content-firebaseappcheck.googleapis.com/v1beta",S=function(){function e(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return e.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((function(){}))},e.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},e.prototype.isRunning=function(){return!!this.pending},e.prototype.process=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new a.Deferred,[4,(r=this.getNextRun(e),new Promise((function(e){setTimeout(e,r)})))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new a.Deferred,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch((function(){})),[3,7];case 6:return t=n.sent(),this.retryPolicy(t)?this.process(!1).catch((function(){})):this.stop(),[3,7];case 7:return[2]}var r}))}))},e.prototype.getNextRun=function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t},e}();function k(e,t){var n=e.url,r=e.body;return o.__awaiter(this,void 0,void 0,(function(){var e,i,a,s,u,c,l,h,d,p;return o.__generator(this,(function(o){switch(o.label){case 0:e={"Content-Type":"application/json"},(i=t.getImmediate({optional:!0}))&&(e["X-Firebase-Client"]=i.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:e},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return s=o.sent(),[3,4];case 3:throw u=o.sent(),f.create("fetch-network-error",{originalErrorMessage:u.message});case 4:if(200!==s.status)throw f.create("fetch-status-error",{httpStatus:s.status});o.label=5;case 5:return o.trys.push([5,7,,8]),[4,s.json()];case 6:return c=o.sent(),[3,8];case 7:throw l=o.sent(),f.create("fetch-parse-error",{originalErrorMessage:l.message});case 8:if(!(h=c.ttl.match(/^([\d.]+)(s)$/))||!h[2]||isNaN(Number(h[1])))throw f.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+c.ttl});return d=1e3*Number(h[1]),p=Date.now(),[2,{token:c.attestationToken,expireTimeMillis:p+d,issuedAtTimeMillis:p}]}}))}))}function T(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:I+"/projects/"+r+"/apps/"+i+":exchangeRecaptchaToken?key="+o,body:{recaptcha_token:t}}}function C(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:I+"/projects/"+r+"/apps/"+i+":exchangeDebugToken?key="+o,body:{debug_token:t}}}var x="firebase-app-check-store",N="debug-token",A=null;function P(){return A||(A=new Promise((function(e,t){try{var n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=function(t){e(t.target.result)},n.onerror=function(e){var n;t(f.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(e){var t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(x,{keyPath:"compositeKey"})}}}catch(e){t(f.create("storage-open",{originalErrorMessage:e.message}))}})))}function R(e){return D(L(e))}function O(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,a;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,P()];case 1:return n=o.sent(),r=n.transaction(x,"readwrite"),i=r.objectStore(x),a=i.put({compositeKey:e,value:t}),[2,new Promise((function(e,t){a.onsuccess=function(t){e()},r.onerror=function(e){var n;t(f.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function D(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n,r,i;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,P()];case 1:return t=o.sent(),n=t.transaction(x,"readonly"),r=n.objectStore(x),i=r.get(e),[2,new Promise((function(e,t){i.onsuccess=function(t){var n=t.target.result;e(n?n.value:void 0)},n.onerror=function(e){var n;t(f.create("storage-get",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function L(e){return e.options.appId+"-"+e.name}var M=new s.Logger("@firebase/app-check");function F(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!a.isIndexedDBAvailable())return[3,5];t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,R(e)];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),M.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,t];case 5:return[2,void 0]}}))}))}function U(e,t){return a.isIndexedDBAvailable()?function(e,t){return O(L(e),t)}(e,t).catch((function(e){M.warn("Failed to write token to indexeddb. Error: "+e)})):Promise.resolve()}function j(){return y().enabled}function q(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){if((e=y()).enabled&&e.token)return[2,e.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")}))}))}var V={error:"UNKNOWN_ERROR"};function B(e,t,n){return void 0===n&&(n=!1),o.__awaiter(this,void 0,void 0,(function(){var r,i,s,u,c,l,h,d,p,g,y,_,E;return o.__generator(this,(function(I){switch(I.label){case 0:return b(e),j()?(r=k,i=C,s=[e],[4,q()]):[3,3];case 1:return[4,r.apply(void 0,[i.apply(void 0,s.concat([I.sent()])),t])];case 2:return[2,{token:I.sent().token}];case 3:return u=m(e),c=u.token,l=void 0,c?[3,5]:[4,F(e)];case 4:(h=I.sent())&&K(h)&&(c=h,v(e,o.__assign(o.__assign({},u),{token:c})),z(e,{token:c.token})),I.label=5;case 5:if(!n&&c&&K(c))return[2,{token:c.token}];I.label=6;case 6:return I.trys.push([6,12,,13]),u.customProvider?[4,u.customProvider.getToken()]:[3,8];case 7:return d=I.sent(),p=a.issuedAtTime(d.token),g=null!==p&&p<Date.now()&&p>0?1e3*p:Date.now(),c=o.__assign(o.__assign({},d),{issuedAtTimeMillis:g}),[3,11];case 8:return[4,w(e).catch((function(e){throw f.create("recaptcha-error")}))];case 9:return y=I.sent(),[4,k(T(e,y),t)];case 10:c=I.sent(),I.label=11;case 11:return[3,13];case 12:return _=I.sent(),M.error(_),l=_,[3,13];case 13:return c?[3,14]:(E=function(e){return{token:(t=V,a.base64.encodeString(JSON.stringify(t),!1)),error:e};var t}(l),[3,16]);case 14:return E={token:c.token},v(e,o.__assign(o.__assign({},u),{token:c})),[4,U(e,c)];case 15:I.sent(),I.label=16;case 16:return z(e,E),[2,E]}}))}))}function z(e,t){for(var n=0,r=m(e).tokenListeners;n<r.length;n++){var i=r[n];try{i(t)}catch(e){}}}function K(e){return e.expireTimeMillis-Date.now()>0}function W(e){return{activate:function(t,n){return function(e,t,n){var r=m(e);if(r.activated)throw f.create("already-activated",{appName:e.name});var i=o.__assign(o.__assign({},r),{activated:!0});"string"==typeof t?i.siteKey=t:i.customProvider=t,i.isTokenAutoRefreshEnabled=void 0===n?e.automaticDataCollectionEnabled:n,v(e,i),i.siteKey&&function(e,t){var n=m(e),r=new a.Deferred;v(e,o.__assign(o.__assign({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+e.name,s=document.createElement("div");s.id=i,s.style.display="none",document.body.appendChild(s);var u,c,l=_();return l?l.ready((function(){E(e,t,l,i),r.resolve(l)})):(u=function(){var n=_();if(!n)throw new Error("no recaptcha");n.ready((function(){E(e,t,n,i),r.resolve(n)}))},(c=document.createElement("script")).src="https://www.google.com/recaptcha/api.js",c.onload=u,document.head.appendChild(c)),r.promise}(e,i.siteKey).catch((function(){}))}(e,t,n)},setTokenAutoRefreshEnabled:function(t){return function(e,t){var n=m(e);n.tokenRefresher&&(!0===t?n.tokenRefresher.start():n.tokenRefresher.stop()),v(e,o.__assign(o.__assign({},n),{isTokenAutoRefreshEnabled:t}))}(e,t)}}}function H(e,t){return{getToken:function(n){return B(e,t,n)},addTokenListener:function(n){return function(e,t,n){var r=m(e),i=o.__assign(o.__assign({},r),{tokenListeners:o.__spreadArray(o.__spreadArray([],r.tokenListeners),[n])});if(j()){var a=y();a.enabled&&a.token&&a.token.promise.then((function(e){return n({token:e})})).catch((function(){}))}else{if(!i.tokenRefresher){var s=function(e,t){var n=this;return new S((function(){return o.__awaiter(n,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return m(e).token?[3,2]:[4,B(e,t)];case 1:return n=r.sent(),[3,4];case 2:return[4,B(e,t,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}}))}))}),(function(){return!0}),(function(){var t=m(e);if(t.token){var n=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5,r=t.token.expireTimeMillis-3e5;return n=Math.min(n,r),Math.max(0,n-Date.now())}return 0}),3e4,96e4)}(e,t);i.tokenRefresher=s}if(i.tokenRefresher.isRunning()||!0!==r.isTokenAutoRefreshEnabled||i.tokenRefresher.start(),r.token&&K(r.token)){var u=r.token;Promise.resolve().then((function(){return n({token:u.token})})).catch((function(){}))}}v(e,i)}(e,t,n)},removeTokenListener:function(t){return function(e,t){var n=m(e),r=n.tokenListeners.filter((function(e){return e!==t}));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),v(e,o.__assign(o.__assign({},n),{tokenListeners:r}))}(e,t)}}}var G="app-check-internal";!function(e){e.INTERNAL.registerComponent(new i.Component("appCheck",(function(e){return W(e.getProvider("app").getImmediate())}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider(G).initialize()}))),e.INTERNAL.registerComponent(new i.Component(G,(function(e){return H(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setInstantiationMode("EXPLICIT")),e.registerVersion("@firebase/app-check","0.1.4")}(l.default),function(){var e=a.getGlobal();if("string"==typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===e.FIREBASE_APPCHECK_DEBUG_TOKEN){var t=y();t.enabled=!0;var n=new a.Deferred;t.token=n,"string"==typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(function(){return o.__awaiter(this,void 0,void 0,(function(){var e,t;return o.__generator(this,(function(n){switch(n.label){case 0:e=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,D(N)];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return e?[2,e]:((r=t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),O(N,r)).catch((function(e){return M.warn("Failed to persist debug token to indexeddb. Error: "+e)})),console.log("AppCheck debug token: "+t+". You will need to whitelist it in the Firebase console for it to work"),[2,t])}var r}))}))}())}}()},99:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>w,firebase:()=>b});var r,i,o=n(655),a=n(589),s=n(909),u=n(594),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.ErrorFactory("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Logger("@firebase/app"),g=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=(0,a.deepCopy)(e),this.container=new s.ComponentContainer(t.name),this._addComponent(new s.Component("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=f),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=f),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){p.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if((0,a.contains)(t,s))throw l.create("duplicate-app",{appName:s});var u=new e(n,o,r);return t[s]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=d[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new s.Component(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw l.create("invalid-log-argument");(0,u.setUserLogHandler)(e,t)},apps:null,SDK_VERSION:"8.6.8",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||f,!(0,a.contains)(t,e))throw l.create("no-app",{appName:e});return t[e]}function o(o){var s=o.name;if(n.has(s))return p.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[s])throw l.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==o.serviceProps&&(0,a.deepExtend)(u,o.serviceProps),r[s]=u,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,s).apply(this,o.multipleInstances?e:[])}}for(var c=0,h=Object.keys(t);c<h.length;c++){var f=h[c];t[f]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(g);return t.INTERNAL=(0,o.__assign)((0,o.__assign)({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,a.deepExtend)(t,e)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),t}(),v=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if((0,a.isBrowser)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var _=m.initializeApp;m.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.isNode)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),_.apply(void 0,e)};var b=m;!function(e,t){e.INTERNAL.registerComponent(new s.Component("platform-logger",(function(e){return new v(e)}),"PRIVATE")),e.registerVersion(h,"0.6.27",void 0),e.registerVersion("fire-js","")}(b);const w=b},909:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Component:()=>o,ComponentContainer:()=>u,Provider:()=>s});var r=n(655),i=n(589),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),a="[DEFAULT]",s=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.Deferred;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:a})}catch(e){}try{for(var i=(0,r.__values)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=(0,r.__read)(o.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService({instanceIdentifier:l});c.resolve(h)}catch(e){}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=a),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__read)(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),(0,r.__read)(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=a),this.instances.has(e)},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,o=void 0===i?{}:i,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var u=(0,r.__values)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.__read)(c.value,2),h=l[0],f=l[1];a===this.normalizeInstanceIdentifier(h)&&f.resolve(s)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return this.invokeOnInitCallbacks(s,a),s},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,o=this.onInitCallbacks.get(t);if(o)try{for(var a=(0,r.__values)(o),s=a.next();!s.done;s=a.next()){var u=s.value;try{u(e,t)}catch(e){}}}catch(e){n={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===a?void 0:t),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(e){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=a),this.component?this.component.multipleInstances?e:a:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}(),u=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new s(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},446:(e,t,n)=>{"use strict";var r=n(99),i=n(909),o=n(589),a=n(655),s=n(594);e=n.hmd(e);var u="";function c(e){u=e}var l,h=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,o.stringify)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,o.jsonEval)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),f=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return(0,o.contains)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),d=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new h(t)}}catch(e){}return new f},p=d("localStorage"),g=d("sessionStorage"),m=new s.Logger("@firebase/database"),v=(l=1,function(){return l++}),y=function(e){var t=(0,o.stringToByteArray)(e),n=new o.Sha1;n.update(t);var r=n.digest();return o.base64.encodeByteArray(r)},_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=_.apply(null,i):n+="object"==typeof i?(0,o.stringify)(i):i,n+=" "}return n},b=null,w=!0,E=function(e,t){(0,o.assert)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(m.logLevel=s.LogLevel.VERBOSE,b=m.log.bind(m),t&&g.set("logging_enabled",!0)):"function"==typeof e?b=e:(b=null,g.remove("logging_enabled"))},I=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===w&&(w=!1,null===b&&!0===g.get("logging_enabled")&&E(!0)),b){var n=_.apply(null,e);b(n)}},S=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];I.apply(void 0,(0,a.__spreadArray)([e],(0,a.__read)(t)))}},k=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+_.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(e)));m.error(n)},T=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+_.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(e)));throw m.error(n),new Error(n)},C=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+_.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(e)));m.warn(n)},x=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},N="[MIN_NAME]",A="[MAX_NAME]",P=function(e,t){if(e===t)return 0;if(e===N||t===A)return-1;if(t===N||e===A)return 1;var n=j(e),r=j(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},R=function(e,t){return e===t?0:e<t?-1:1},O=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,o.stringify)(t))},D=function(e){if("object"!=typeof e||null===e)return(0,o.stringify)(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)0!==i&&(r+=","),r+=(0,o.stringify)(t[i]),r+=":",r+=D(e[t[i]]);return r+"}"},L=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function M(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var F=function(e){(0,o.assert)(!x(e),"Invalid JSON number");var t,n,r,i,a;0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},U=new RegExp("^-?(0*)\\d{1,10}$"),j=function(e){if(U.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},q=function(e){try{e()}catch(e){setTimeout((function(){var t=e.stack||"";throw C("Exception was thrown by user callback.",t),e}),Math.floor(0))}},V=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},B=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then((function(e){return n.appCheck=e}))}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){C('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),z=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(e){return r.auth_=e}))}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(I("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',C(e)},e}(),K=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),W=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,H="websocket",G="long_polling",Q=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=p.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&p.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function $(e,t,n){var r;if((0,o.assert)("string"==typeof t,"typeof type must == string"),(0,o.assert)("object"==typeof n,"typeof params must == object"),t===H)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==G)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return M(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var Y=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),(0,o.contains)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return(0,o.deepCopy)(this.counters_)},e}(),X={},J={};function Z(e){var t=e.toString();return X[t]||(X[t]=new Y),X[t]}var ee=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&q((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},e}(),te="start",ne="close",re=function(){function e(e,t,n,r,i,o,a){var s=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=S(e),this.stats_=Z(t),this.urlFn=function(e){return s.appCheckToken&&(e.ac=s.appCheckToken),$(t,G,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ee(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if((0,o.isNodeSdk)()||"complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new ie((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a.__read)(e,5),i=r[0],o=r[1],s=r[2];if(r[3],r[4],n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===te)n.id=o,n.password=s;else{if(i!==ne)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a.__read)(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&W.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!((0,o.isNodeSdk)()||!e.forceAllow_&&(e.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=(0,o.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=(0,o.base64Encode)(t),r=L(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!(0,o.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=(0,o.stringify)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),ie=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.isNodeSdk)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=v(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(a='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(e){I("frame writing exception"),e.stack&&I(e.stack),I(e)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||I("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;(0,o.isNodeSdk)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){I("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(e){}}),Math.floor(1))},e}(),oe=null;"undefined"!=typeof MozWebSocket?oe=MozWebSocket:"undefined"!=typeof WebSocket&&(oe=WebSocket);var ae=function(){function e(t,n,r,i,o,a,s){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=S(this.connId),this.stats_=Z(n),this.connURL=e.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n,r){var i={v:"5"};return!(0,o.isNodeSdk)()&&"undefined"!=typeof location&&location.hostname&&W.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),$(e,H,i)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,p.set("previous_websocket_failure",!0);try{if((0,o.isNodeSdk)()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/5/"+u+"/"+process.platform+"/"+r,"X-Firebase-GMPID":this.applicationId||""}};this.nodeAdmin?i.headers.Authorization=this.authToken||"":i.headers["X-Firebase-AppCheck"]=this.appCheckToken||"";var a=process.env,s=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;s&&(i.proxy={origin:s}),this.mySock=new oe(this.connURL,[],i)}else i={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}},this.mySock=new oe(this.connURL,[],i)}catch(e){this.log_("Error instantiating WebSocket.");var c=e.message||e.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==oe&&!e.forceDisallow_},e.previouslyFailed=function(){return p.isInMemoryStorage||!0===p.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){p.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=(0,o.jsonEval)(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if((0,o.assert)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=(0,o.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=L(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),se=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[re,ae]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=ae&&ae.isAvailable(),o=i&&!ae.previouslyFailed();if(t.webSocketOnly&&(i||C("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ae];else{var s=this.transports_=[];try{for(var u=(0,a.__values)(e.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),ue=function(){function e(e,t,n,r,i,o,a,s,u,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=S("c:"+this.id+":"),this.transportManager_=new se(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=V((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=O("t",e),n=O("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=O("t",e),n=O("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=O("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?k("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):k("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&C("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),V((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):V((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(p.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),ce=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),le=function(){function e(e){this.allowedEvents_=e,this.listeners_={},(0,o.assert)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=(0,a.__spreadArray)([],(0,a.__read)(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){(0,o.assert)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),he=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||(0,o.isMobileCordova)()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return(0,a.__extends)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.assert)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(le),fe=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function de(){return new fe("")}function pe(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ge(e){return e.pieces_.length-e.pieceNum_}function me(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new fe(e.pieces_,t)}function ve(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function ye(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function _e(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new fe(t,0)}function be(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof fe)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new fe(n,0)}function we(e){return e.pieceNum_>=e.pieces_.length}function Ee(e,t){var n=pe(e),r=pe(t);if(null===n)return t;if(n===r)return Ee(me(e),me(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ie(e,t){for(var n=ye(e,0),r=ye(t,0),i=0;i<n.length&&i<r.length;i++){var o=P(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Se(e,t){if(ge(e)!==ge(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function ke(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(ge(e)>ge(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Te=function(e,t){this.errorPrefix_=t,this.parts_=ye(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.stringLength)(this.parts_[n]);Ce(this)};function Ce(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+xe(e))}function xe(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Ne,Ae,Pe=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",t="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return(0,a.__extends)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.assert)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(le),Re=1e3,Oe=function(e){function t(n,r,i,a,s,u,c,l){var h=e.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=i,h.onConnectStatus_=a,h.onServerInfoUpdate_=s,h.authTokenProvider_=u,h.appCheckTokenProvider_=c,h.authOverride_=l,h.id=t.nextPersistentConnectionId_++,h.log_=S("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=Re,h.maxReconnectDelay_=3e5,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,l&&!(0,o.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Pe.getInstance().on("visible",h.onVisible_,h),-1===n.host.indexOf("fblocal")&&he.getInstance().on("online",h.onOnline_,h),h}return(0,a.__extends)(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r,a:e,b:t};this.log_((0,o.stringify)(i)),(0,o.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this;this.initConnection_();var n=new o.Deferred,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise},t.prototype.listen=function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),(0,o.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,o.assert)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&(0,o.contains)(e,"w")){var n=(0,o.safeGet)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();C("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||(0,o.isAdmin)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=(0,o.isValidFormat)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,o.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+(0,o.stringify)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):k("Unrecognized action received from server: "+(0,o.stringify)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;(0,o.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Re,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Re,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Re),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return(0,a.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,s,u,c,l,h,f,d,p,g,m,v=this;return(0,a.__generator)(this,(function(y){switch(y.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,r())},h=function(e){(0,o.assert)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)},this.realtime_={close:l,sendRequest:h},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)])];case 2:return d=a.__read.apply(void 0,[y.sent(),2]),p=d[0],g=d[1],u?I("getToken() completed but was canceled"):(I("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=g&&g.token,c=new ue(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,(function(e){C(e+" ("+v.repoInfo_.toString()+")"),v.interrupt("server_kill")}),s)),[3,4];case 3:return m=y.sent(),this.log_("Failed to get token: "+m),u||(this.repoInfo_.nodeAdmin&&C(m),l()),[3,4];case 4:return[2]}}))}))},t.prototype.interrupt=function(e){I("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){I("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,o.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=Re,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return D(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new fe(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){I("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){I("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=(0,a.__values)(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,(0,a.__values)(s.values())),c=u.next();!c.done;c=u.next()){var l=c.value;this.sendListen_(l)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){var f=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(f.action,f.pathString,f.data,f.onComplete)}for(h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)},t.prototype.sendConnectStats_=function(){var e={},t="js";(0,o.isNodeSdk)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+u.replace(/\./g,"-")]=1,(0,o.isMobileCordova)()?e["framework.cordova"]=1:(0,o.isReactNative)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=he.getInstance().currentlyOnline();return(0,o.isEmpty)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(ce),De=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),Le=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new De(N,e),r=new De(N,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return De.MIN},e}(),Me=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Ne},set:function(e){Ne=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return P(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw(0,o.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return De.MIN},t.prototype.maxPost=function(){return new De(A,Ne)},t.prototype.makePost=function(e,t){return(0,o.assert)("string"==typeof e,"KeyIndex indexValue must always be a string."),new De(e,Ne)},t.prototype.toString=function(){return".key"},t}(Le),Fe=new Me,Ue=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),je=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Ve.EMPTY_NODE,this.right=null!=o?o:Ve.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Ve.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Ve.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),qe=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new je(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Ve=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,je.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,je.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Ue(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Ue(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Ue(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Ue(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new qe,e}();function Be(e,t){return P(e.name,t.name)}function ze(e,t){return P(e,t)}var Ke,We,He,Ge,Qe,$e=function(e){return"number"==typeof e?"number:"+F(e):"string:"+e},Ye=function(e){if(e.isLeafNode()){var t=e.val();(0,o.assert)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,o.contains)(t,".sv"),"Priority must be a string or number.")}else(0,o.assert)(e===Ae||e.isEmpty(),"priority of unexpected type.");(0,o.assert)(e===Ae||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Xe=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,(0,o.assert)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ye(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return Ke},set:function(e){Ke=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return we(t)?this:".priority"===pe(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=pe(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,o.assert)(".priority"!==r||1===ge(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(me(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+$e(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?F(this.value_):this.value_,this.lazyHash_=y(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:((0,o.assert)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return(0,o.assert)(i>=0,"Unknown leaf type: "+n),(0,o.assert)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}(),Je=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?P(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return De.MIN},t.prototype.maxPost=function(){return new De(A,new Xe("[PRIORITY-POST]",He))},t.prototype.makePost=function(e,t){var n=We(e);return new De(t,new Xe("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(Le)),Ze=Math.log(2),et=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Ze,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),tt=function(e,t,n,r){e.sort(t);var i=function(t,r){var o,a,s=r-t;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new je(a,o.node,je.BLACK,null,null);var u=parseInt(s/2,10)+t,c=i(t,u),l=i(u+1,r);return o=e[u],a=n?n(o):o,new je(a,o.node,je.BLACK,c,l)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var c=i(o+1,s),l=e[o],h=n?n(l):l;u(new je(h,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?s(h,je.BLACK):(s(h,je.BLACK),s(h,je.RED))}return o}(new et(e.length));return new Ve(r||t,o)},nt={},rt=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return(0,o.assert)(nt&&Je,"ChildrenNode.ts has not been loaded"),Ge=Ge||new e({".priority":nt},{".priority":Je})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=(0,o.safeGet)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ve?t:null},e.prototype.hasIndex=function(e){return(0,o.contains)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){(0,o.assert)(t!==Fe,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],s=!1,u=n.getIterator(De.Wrap),c=u.getNext();c;)s=s||t.isDefinedOn(c.node),i.push(c),c=u.getNext();r=s?tt(i,t.getCompare()):nt;var l=t.toString(),h=(0,a.__assign)({},this.indexSet_);h[l]=t;var f=(0,a.__assign)({},this.indexes_);return f[l]=r,new e(f,h)},e.prototype.addToIndexes=function(t,n){var r=this;return new e((0,o.map)(this.indexes_,(function(e,i){var a=(0,o.safeGet)(r.indexSet_,i);if((0,o.assert)(a,"Missing index implementation for "+i),e===nt){if(a.isDefinedOn(t.node)){for(var s=[],u=n.getIterator(De.Wrap),c=u.getNext();c;)c.name!==t.name&&s.push(c),c=u.getNext();return s.push(t),tt(s,a.getCompare())}return nt}var l=n.get(t.name),h=e;return l&&(h=h.remove(new De(t.name,l))),h.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e((0,o.map)(this.indexes_,(function(e){if(e===nt)return e;var r=n.get(t.name);return r?e.remove(new De(t.name,r)):e})),this.indexSet_)},e}(),it=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ye(this.priorityNode_),this.children_.isEmpty()&&(0,o.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return Qe||(Qe=new e(new Ve(ze),null,rt.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||Qe},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Qe:t},e.prototype.getChild=function(e){var t=pe(e);return null===t?this:this.getImmediateChild(t).getChild(me(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if((0,o.assert)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new De(t,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?Qe:this.priorityNode_;return new e(i,s,a)},e.prototype.updateChild=function(e,t){var n=pe(e);if(null===n)return t;(0,o.assert)(".priority"!==pe(e)||1===ge(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(me(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Je,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+$e(this.getPriority().val())+":"),this.forEachChild(Je,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":y(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new De(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new De(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new De(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,De.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,De.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ot?-1:0},e.prototype.withIndex=function(t){if(t===Fe||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Fe||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Je),r=t.getIterator(Je),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Fe?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),ot=new(function(e){function t(){return e.call(this,new Ve(ze),it.EMPTY_NODE,rt.Default)||this}return(0,a.__extends)(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return it.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(it));function at(e,t){if(void 0===t&&(t=null),null===e)return it.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),(0,o.assert)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Xe(e,at(t));if(e instanceof Array){var n=it.EMPTY_NODE;return M(e,(function(t,r){if((0,o.contains)(e,t)&&"."!==t.substring(0,1)){var i=at(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(at(t))}var r=[],i=!1;if(M(e,(function(e,t){if("."!==e.substring(0,1)){var n=at(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new De(e,n)))}})),0===r.length)return it.EMPTY_NODE;var a=tt(r,Be,(function(e){return e.name}),ze);if(i){var s=tt(r,Je.getCompare());return new it(a,at(t),new rt({".priority":s},{".priority":Je}))}return new it(a,at(t),rt.Default)}Object.defineProperties(De,{MIN:{value:new De(N,it.EMPTY_NODE)},MAX:{value:new De(A,ot)}}),Me.__EMPTY_NODE=it.EMPTY_NODE,Xe.__childrenNodeConstructor=it,Ae=ot,He=ot,function(e){We=e}(at);var st,ut,ct=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,(0,o.assert)(!we(t)&&".priority"!==pe(t),"Can't create PathIndex with empty path or .priority key"),n}return(0,a.__extends)(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?P(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=at(e),r=it.EMPTY_NODE.updateChild(this.indexPath_,n);return new De(t,r)},t.prototype.maxPost=function(){var e=it.EMPTY_NODE.updateChild(this.indexPath_,ot);return new De(A,e)},t.prototype.toString=function(){return ye(this.indexPath_,0).join("/")},t}(Le),lt=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?P(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return De.MIN},t.prototype.maxPost=function(){return De.MAX},t.prototype.makePost=function(e,t){var n=at(e);return new De(t,n)},t.prototype.toString=function(){return".value"},t}(Le)),ht="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ft=(st=0,ut=[],function(e){var t,n=e===st;st=e;var r=new Array(8);for(t=7;t>=0;t--)r[t]=ht.charAt(e%64),e=Math.floor(e/64);(0,o.assert)(0===e,"Cannot push at time == 0");var i=r.join("");if(n){for(t=11;t>=0&&63===ut[t];t--)ut[t]=0;ut[t]++}else for(t=0;t<12;t++)ut[t]=Math.floor(64*Math.random());for(t=0;t<12;t++)i+=ht.charAt(ut[t]);return(0,o.assert)(20===i.length,"nextPushId: Length should be 20."),i}),dt=function(e){if("2147483647"===e)return"-";var t=j(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return A;var o=n[i],a=ht.charAt(ht.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},pt=function(e){if("-2147483648"===e)return N;var t=j(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=ht.charAt(ht.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function gt(e){return{type:"value",snapshotNode:e}}function mt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function vt(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function yt(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var _t=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,a){(0,o.assert)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(vt(t,s)):(0,o.assert)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(mt(t,n)):a.trackChildChange(yt(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Je,(function(e,r){t.hasChild(e)||n.trackChildChange(vt(e,r))})),t.isLeafNode()||t.forEachChild(Je,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(yt(t,r,i))}else n.trackChildChange(mt(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?it.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),bt=function(){function e(t){this.indexedFilter_=new _t(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new De(t,n))||(n=it.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=it.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(it.EMPTY_NODE);var i=this;return t.forEachChild(Je,(function(e,t){i.matches(new De(e,t))||(r=r.updateImmediateChild(e,it.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),wt=function(){function e(e){this.rangedFilter_=new bt(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new De(t,n))||(n=it.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=it.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=it.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(it.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)a=i.getNext(),!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,it.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var u=e;(0,o.assert)(u.numChildren()===this.limit_,"");var c=new De(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(t)){for(var f=u.getImmediateChild(t),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===t||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,c);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(yt(t,n,f)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(vt(t,f));var g=u.updateImmediateChild(t,it.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(mt(d.name,d.node)),g.updateImmediateChild(d.name,d.node)):g}return n.isEmpty()?e:h&&a(l,c)>=0?(null!=i&&(i.trackChildChange(vt(l.name,l.node)),i.trackChildChange(mt(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,it.EMPTY_NODE)):e},e}(),Et=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Je}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:N},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:A},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return(0,o.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Je},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function It(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function St(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function kt(e,t){var n=e.copy();return n.index_=t,n}function Tt(e){var t,n={};return e.isDefault()||(e.index_===Je?t="$priority":e.index_===lt?t="$value":e.index_===Fe?t="$key":((0,o.assert)(e.index_ instanceof ct,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=(0,o.stringify)(t),e.startSet_&&(n.startAt=(0,o.stringify)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+(0,o.stringify)(e.indexStartName_))),e.endSet_&&(n.endAt=(0,o.stringify)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+(0,o.stringify)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function Ct(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Je&&(t.i=e.index_.toString()),t}var xt=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.repoInfo_=t,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=S("p:rest:"),o.listens_={},o}return(0,a.__extends)(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:((0,o.assert)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,i){var a=this,s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);var u=t.getListenId_(e,r),c={};this.listens_[u]=c;var l=Tt(e._queryParams);this.restRequest_(s+".json",l,(function(e,t){var n=t;404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(s,n,!1,r),(0,o.safeGet)(a.listens_,u)===c&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=Tt(e._queryParams),r=e._path.toString(),i=new o.Deferred;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var s=(0,a.__read)(i,2),u=s[0],c=s[1];u&&u.accessToken&&(t.auth=u.accessToken),c&&c.token&&(t.ac=c.token);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+(0,o.querystring)(t);r.log_("Sending REST request for "+l);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(n&&4===h.readyState){r.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);var e=null;if(h.status>=200&&h.status<300){try{e=(0,o.jsonEval)(h.responseText)}catch(e){C("Failed to parse JSON response for "+l+": "+h.responseText)}n(null,e)}else 401!==h.status&&404!==h.status&&C("Got unsuccessful REST response for "+l+" Status: "+h.status),n(h.status);n=null}},h.open("GET",l,!0),h.send()}))},t}(ce),Nt=function(){function e(){this.rootNode_=it.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();function At(){return{value:null,children:new Map}}function Pt(e,t,n){if(we(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=pe(t);e.children.has(r)||e.children.set(r,At()),Pt(e.children.get(r),t=me(t),n)}}function Rt(e,t){if(we(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(Je,(function(t,n){Pt(e,new fe(t),n)})),Rt(e,t)}if(e.children.size>0){var r=pe(t);return t=me(t),e.children.has(r)&&Rt(e.children.get(r),t)&&e.children.delete(r),0===e.children.size}return!0}function Ot(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Ot(r,new fe(t.toString()+"/"+e),n)}))}var Dt,Lt=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=(0,a.__assign)({},e);return this.last_&&M(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),Mt=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Lt(e);var n=1e4+2e4*Math.random();V(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;M(t,(function(t,i){i>0&&(0,o.contains)(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),V(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();function Ft(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Dt||(Dt={}));var Ut,jt=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Dt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(we(this.path)){if(null!=this.affectedTree.value)return(0,o.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new fe(t));return new e(de(),n,this.revert)}return(0,o.assert)(pe(this.path)===t,"operationForChild called for unrelated child."),new e(me(this.path),this.affectedTree,this.revert)},e}(),qt=function(){function e(e,t){this.source=e,this.path=t,this.type=Dt.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return we(this.path)?new e(this.source,de()):new e(this.source,me(this.path))},e}(),Vt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Dt.OVERWRITE}return e.prototype.operationForChild=function(t){return we(this.path)?new e(this.source,de(),this.snap.getImmediateChild(t)):new e(this.source,me(this.path),this.snap)},e}(),Bt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Dt.MERGE}return e.prototype.operationForChild=function(t){if(we(this.path)){var n=this.children.subtree(new fe(t));return n.isEmpty()?null:n.value?new Vt(this.source,de(),n.value):new e(this.source,de(),n)}return(0,o.assert)(pe(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,me(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),zt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(we(e))return this.isFullyInitialized()&&!this.filtered_;var t=pe(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),Kt=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};function Wt(e,t,n,r,i,a){var s=r.filter((function(e){return e.type===n}));s.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw(0,o.assertionError)("Should only compare child_ events.");var r=new De(t.childName,t.snapshotNode),i=new De(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),s.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Ht(e,t){return{eventCache:e,serverCache:t}}function Gt(e,t,n,r){return Ht(new zt(t,n,r),e.serverCache)}function Qt(e,t,n,r){return Ht(e.eventCache,new zt(t,n,r))}function $t(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Yt(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Xt=function(){function e(e,t){void 0===t&&(Ut||(Ut=new Ve(R)),t=Ut),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return M(t,(function(e,t){n=n.set(new fe(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:de(),value:this.value};if(we(e))return null;var n=pe(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(me(e),t);return null!=i?{path:be(new fe(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(we(t))return this;var n=pe(t),r=this.children.get(n);return null!==r?r.subtree(me(t)):new e(null)},e.prototype.set=function(t,n){if(we(t))return new e(n,this.children);var r=pe(t),i=(this.children.get(r)||new e(null)).set(me(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(we(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=pe(t),r=this.children.get(n);if(r){var i=r.remove(me(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(we(e))return this.value;var t=pe(e),n=this.children.get(t);return n?n.get(me(e)):null},e.prototype.setTree=function(t,n){if(we(t))return n;var r,i=pe(t),o=(this.children.get(i)||new e(null)).setTree(me(t),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new e(this.value,r)},e.prototype.fold=function(e){return this.fold_(de(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(be(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,de(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(we(e))return null;var i=pe(e),o=this.children.get(i);return o?o.findOnPath_(me(e),be(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,de(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(we(t))return this;this.value&&r(n,this.value);var i=pe(t),o=this.children.get(i);return o?o.foreachOnPath_(me(t),be(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(de(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(be(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),Jt=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new Xt(null))},e}();function Zt(e,t,n){if(we(t))return new Jt(new Xt(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=Ee(i,t);return o=o.updateChild(a,n),new Jt(e.writeTree_.set(i,o))}var s=new Xt(n),u=e.writeTree_.setTree(t,s);return new Jt(u)}function en(e,t,n){var r=e;return M(n,(function(e,n){r=Zt(r,be(t,e),n)})),r}function tn(e,t){if(we(t))return Jt.empty();var n=e.writeTree_.setTree(t,new Xt(null));return new Jt(n)}function nn(e,t){return null!=rn(e,t)}function rn(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Ee(n.path,t)):null}function on(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Je,(function(e,n){t.push(new De(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new De(e,n.value))})),t}function an(e,t){if(we(t))return e;var n=rn(e,t);return new Jt(null!=n?new Xt(n):e.writeTree_.subtree(t))}function sn(e){return e.writeTree_.isEmpty()}function un(e,t){return cn(de(),e.writeTree_,t)}function cn(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?((0,o.assert)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=cn(be(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(be(e,".priority"),r)),n}function ln(e,t){return wn(t,e)}function hn(e,t){if(e.snap)return ke(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&ke(be(e.path,n),t))return!0;return!1}function fn(e){return e.visible}function dn(e,t,n){for(var r=Jt.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var s=a.path,u=void 0;if(a.snap)ke(n,s)?r=Zt(r,u=Ee(n,s),a.snap):ke(s,n)&&(u=Ee(s,n),r=Zt(r,de(),a.snap.getChild(u)));else{if(!a.children)throw(0,o.assertionError)("WriteRecord should have .snap or .children");if(ke(n,s))r=en(r,u=Ee(n,s),a.children);else if(ke(s,n))if(we(u=Ee(s,n)))r=en(r,de(),a.children);else{var c=(0,o.safeGet)(a.children,pe(u));if(c){var l=c.getChild(me(u));r=Zt(r,de(),l)}}}}}return r}function pn(e,t,n,r,i){if(r||i){var o=an(e.visibleWrites,t);return!i&&sn(o)?n:i||null!=n||nn(o,de())?un(dn(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(ke(e.path,t)||ke(t,e.path))}),t),n||it.EMPTY_NODE):null}var a=rn(e.visibleWrites,t);if(null!=a)return a;var s=an(e.visibleWrites,t);return sn(s)?n:null!=n||nn(s,de())?un(s,n||it.EMPTY_NODE):null}function gn(e,t,n,r){return pn(e.writeTree,e.treePath,t,n,r)}function mn(e,t){return function(e,t,n){var r=it.EMPTY_NODE,i=rn(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Je,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=an(e.visibleWrites,t);return n.forEachChild(Je,(function(e,t){var n=un(an(o,new fe(e)),t);r=r.updateImmediateChild(e,n)})),on(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return on(an(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function vn(e,t,n,r){return function(e,t,n,r,i){(0,o.assert)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=be(t,n);if(nn(e.visibleWrites,a))return null;var s=an(e.visibleWrites,a);return sn(s)?i.getChild(n):un(s,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function yn(e,t){return function(e,t){return rn(e.visibleWrites,t)}(e.writeTree,be(e.treePath,t))}function _n(e,t,n){return function(e,t,n,r){var i=be(t,n),o=rn(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?un(an(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function bn(e,t){return wn(be(e.treePath,t),e.writeTree)}function wn(e,t){return{treePath:e,writeTree:t}}var En=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;(0,o.assert)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,o.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,yt(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,vt(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,mt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw(0,o.assertionError)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,yt(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),In=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),Sn=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new zt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return _n(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Yt(this.viewCache_),i=function(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,u=an(e.visibleWrites,t),c=rn(u,de());if(null!=c)s=c;else{if(null==n)return[];s=un(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=a.getCompare(),f=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=f.getNext();d&&l.length<i;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,o)}(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();function kn(e,t,n,r,i,a){var s=t.eventCache;if(null!=yn(r,n))return t;var u=void 0,c=void 0;if(we(n))if((0,o.assert)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=Yt(t),h=mn(r,l instanceof it?l:it.EMPTY_NODE);u=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var f=gn(r,Yt(t));u=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var d=pe(n);if(".priority"===d){(0,o.assert)(1===ge(n),"Can't have a priority with additional path components");var p=s.getNode(),g=vn(r,n,p,c=t.serverCache.getNode());u=null!=g?e.filter.updatePriority(p,g):s.getNode()}else{var m=me(n),v=void 0;if(s.isCompleteForChild(d)){c=t.serverCache.getNode();var y=vn(r,n,s.getNode(),c);v=null!=y?s.getNode().getImmediateChild(d).updateChild(m,y):s.getNode().getImmediateChild(d)}else v=_n(r,d,t.serverCache);u=null!=v?e.filter.updateChild(s.getNode(),d,v,m,i,a):s.getNode()}}return Gt(t,u,s.isFullyInitialized()||we(n),e.filter.filtersNodes())}function Tn(e,t,n,r,i,o,a,s){var u,c=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if(we(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=pe(n);if(!c.isCompleteForPath(n)&&ge(n)>1)return t;var d=me(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,In,null)}var g=Qt(t,u,c.isFullyInitialized()||we(n),l.filtersNodes());return kn(e,g,n,i,new Sn(i,g,o),s)}function Cn(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new Sn(i,t,o);if(we(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=Gt(t,u,!0,e.filter.filtersNodes());else{var h=pe(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=Gt(t,u,c.isFullyInitialized(),c.isFiltered());else{var f=me(n),d=c.getNode().getImmediateChild(h),p=void 0;if(we(f))p=r;else{var g=l.getCompleteChild(h);p=null!=g?".priority"===ve(f)&&g.getChild(_e(f)).isEmpty()?g:g.updateChild(f,r):it.EMPTY_NODE}s=d.equals(p)?t:Gt(t,e.filter.updateChild(c.getNode(),h,p,f,l,a),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function xn(e,t){return e.eventCache.isCompleteForChild(t)}function Nn(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function An(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=we(n)?r:new Xt(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=Nn(0,t.serverCache.getNode().getImmediateChild(n),r);c=Tn(e,c,new fe(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=Nn(0,t.serverCache.getNode().getImmediateChild(n),r);c=Tn(e,c,new fe(n),h,i,o,a,s)}})),c}var Pn,Rn=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new _t(r.getIndex()),o=(n=r).loadsAllData()?new _t(n.getIndex()):n.hasLimit()?new wt(n):new bt(n);this.processor_=function(e){return{filter:e}}(o);var a=t.serverCache,s=t.eventCache,u=i.updateFullNode(it.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(it.EMPTY_NODE,s.getNode(),null),l=new zt(u,a.isFullyInitialized(),i.filtersNodes()),h=new zt(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=Ht(h,l),this.eventGenerator_=new Kt(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function On(e,t){var n=Yt(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!we(t)&&!n.getImmediateChild(pe(t)).isEmpty())?n.getChild(t):null}function Dn(e){return 0===e.eventRegistrations_.length}function Ln(e,t,n){var r=[];if(n){(0,o.assert)(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],s=0;s<e.eventRegistrations_.length;++s){var u=e.eventRegistrations_[s];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function Mn(e,t,n,r){t.type===Dt.MERGE&&null!==t.source.queryId&&((0,o.assert)(Yt(e.viewCache_),"We should always have a full cache before handling merges"),(0,o.assert)($t(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,s=e.viewCache_,u=function(e,t,n,r,i){var a,s,u=new En;if(n.type===Dt.OVERWRITE){var c=n;c.source.fromUser?a=Cn(e,t,c.path,c.snap,r,i,u):((0,o.assert)(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered()&&!we(c.path),a=Tn(e,t,c.path,c.snap,r,i,s,u))}else if(n.type===Dt.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,u){var c=be(n,r);xn(t,pe(c))&&(s=Cn(e,s,c,u,i,o,a))})),r.foreach((function(r,u){var c=be(n,r);xn(t,pe(c))||(s=Cn(e,s,c,u,i,o,a))})),s}(e,t,l.path,l.children,r,i,u):((0,o.assert)(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=An(e,t,l.path,l.children,r,i,s,u))}else if(n.type===Dt.ACK_USER_WRITE){var h=n;a=h.revert?function(e,t,n,r,i,a){var s;if(null!=yn(r,n))return t;var u=new Sn(r,t,i),c=t.eventCache.getNode(),l=void 0;if(we(n)||".priority"===pe(n)){var h=void 0;if(t.serverCache.isFullyInitialized())h=gn(r,Yt(t));else{var f=t.serverCache.getNode();(0,o.assert)(f instanceof it,"serverChildren would be complete if leaf node"),h=mn(r,f)}h=h,l=e.filter.updateFullNode(c,h,a)}else{var d=pe(n),p=_n(r,d,t.serverCache);null==p&&t.serverCache.isCompleteForChild(d)&&(p=c.getImmediateChild(d)),(l=null!=p?e.filter.updateChild(c,d,p,me(n),u,a):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(c,d,it.EMPTY_NODE,me(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=gn(r,Yt(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,s,a))}return s=t.serverCache.isFullyInitialized()||null!=yn(r,de()),Gt(t,l,s,e.filter.filtersNodes())}(e,t,h.path,r,i,u):function(e,t,n,r,i,o,a){if(null!=yn(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(we(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Tn(e,t,n,u.getNode().getChild(n),i,o,s,a);if(we(n)){var c=new Xt(null);return u.getNode().forEachChild(Fe,(function(e,t){c=c.set(new fe(e),t)})),An(e,t,n,c,i,o,s,a)}return t}var l=new Xt(null);return r.foreach((function(e,t){var r=be(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),An(e,t,n,l,i,o,s,a)}(e,t,h.path,h.affectedTree,r,i,u)}else{if(n.type!==Dt.LISTEN_COMPLETE)throw(0,o.assertionError)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var o=t.serverCache;return kn(e,Qt(t,o.getNode(),o.isFullyInitialized()||we(n),o.isFiltered()),n,r,In,i)}(e,t,n.path,r,u)}var f=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=$t(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(gt($t(t)))}}(t,a,f),{viewCache:a,changes:f}}(e.processor_,s,t,n,r);return i=e.processor_,a=u.viewCache,(0,o.assert)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,o.assert)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),(0,o.assert)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,Fn(e,u.changes,u.viewCache.eventCache.getNode(),null)}function Fn(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Wt(e,i,"child_removed",t,r,n),Wt(e,i,"child_added",t,r,n),Wt(e,i,"child_moved",o,r,n),Wt(e,i,"child_changed",t,r,n),Wt(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Un,jn=function(){this.views=new Map};function qn(e,t,n,r){var i,s,u=t.source.queryId;if(null!==u){var c=e.views.get(u);return(0,o.assert)(null!=c,"SyncTree gave us an op for an invalid query."),Mn(c,t,n,r)}var l=[];try{for(var h=(0,a.__values)(e.views.values()),f=h.next();!f.done;f=h.next())c=f.value,l=l.concat(Mn(c,t,n,r))}catch(e){i={error:e}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return l}function Vn(e,t,n,r,i){var o=t._queryIdentifier,a=e.views.get(o);if(!a){var s=gn(n,i?r:null),u=!1;s?u=!0:r instanceof it?(s=mn(n,r),u=!1):(s=it.EMPTY_NODE,u=!1);var c=Ht(new zt(s,u,!1),new zt(r,i,!1));return new Rn(t,c)}return a}function Bn(e){var t,n,r=[];try{for(var i=(0,a.__values)(e.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function zn(e,t){var n,r,i=null;try{for(var o=(0,a.__values)(e.views.values()),s=o.next();!s.done;s=o.next()){var u=s.value;i=i||On(u,t)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function Kn(e,t){if(t._queryParams.loadsAllData())return Gn(e);var n=t._queryIdentifier;return e.views.get(n)}function Wn(e,t){return null!=Kn(e,t)}function Hn(e){return null!=Gn(e)}function Gn(e){var t,n;try{for(var r=(0,a.__values)(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var Qn=1,$n=function(e){this.listenProvider_=e,this.syncPointTree_=new Xt(null),this.pendingWriteTree_={visibleWrites:Jt.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function Yn(e,t,n,r,i){return function(e,t,n,r,i){(0,o.assert)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Zt(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?nr(e,new Vt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Xn(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));(0,o.assert)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,s=e.allWrites.length-1;i&&s>=0;){var u=e.allWrites[s];u.visible&&(s>=n&&hn(u,r.path)?i=!1:ke(r.path,u.path)&&(a=!0)),s--}return!!i&&(a?(function(e){e.visibleWrites=dn(e.allWrites,fn,de()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0):(r.snap?e.visibleWrites=tn(e.visibleWrites,r.path):M(r.children,(function(t){e.visibleWrites=tn(e.visibleWrites,be(r.path,t))})),!0))}(e.pendingWriteTree_,t)){var i=new Xt(null);return null!=r.snap?i=i.set(de(),!0):M(r.children,(function(e){i=i.set(new fe(e),!0)})),nr(e,new jt(r.path,i,n))}return[]}function Jn(e,t,n){return nr(e,new Vt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Zn(e,t,n,r){var i=t._path,s=e.syncPointTree_.get(i),u=[];if(s&&("default"===t._queryIdentifier||Wn(s,t))){var c=function(e,t,n,r){var i,s,u=t._queryIdentifier,c=[],l=[],h=Hn(e);if("default"===u)try{for(var f=(0,a.__values)(e.views.entries()),d=f.next();!d.done;d=f.next()){var p=(0,a.__read)(d.value,2),g=p[0],m=p[1];l=l.concat(Ln(m,n,r)),Dn(m)&&(e.views.delete(g),m.query._queryParams.loadsAllData()||c.push(m.query))}}catch(e){i={error:e}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}else(m=e.views.get(u))&&(l=l.concat(Ln(m,n,r)),Dn(m)&&(e.views.delete(u),m.query._queryParams.loadsAllData()||c.push(m.query)));return h&&!Hn(e)&&c.push(new((0,o.assert)(Pn,"Reference.ts has not been loaded"),Pn)(t._repo,t._path)),{removed:c,events:l}}(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var l=c.removed;u=c.events;var h=-1!==l.findIndex((function(e){return e._queryParams.loadsAllData()})),f=e.syncPointTree_.findOnPath(i,(function(e,t){return Hn(t)}));if(h&&!f){var d=e.syncPointTree_.subtree(i);if(!d.isEmpty())for(var p=function(e){return e.fold((function(e,t,n){if(t&&Hn(t))return[Gn(t)];var r=[];return t&&(r=Bn(t)),M(n,(function(e,t){r=r.concat(t)})),r}))}(d),g=0;g<p.length;++g){var m=p[g],v=m.query,y=or(e,m);e.listenProvider_.startListening(hr(v),ar(e,v),y.hashFn,y.onComplete)}}!f&&l.length>0&&!r&&(h?e.listenProvider_.stopListening(hr(t),null):l.forEach((function(t){var n=e.queryToTagMap.get(sr(t));e.listenProvider_.stopListening(hr(t),n)}))),function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=sr(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,l)}return u}function er(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=Ee(e,r);i=i||zn(t,n),a=a||Hn(t)}));var s,u=e.syncPointTree_.get(r);u?(a=a||Hn(u),i=i||zn(u,de())):(u=new jn,e.syncPointTree_=e.syncPointTree_.set(r,u)),null!=i?s=!0:(s=!1,i=it.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=zn(t,de());n&&(i=i.updateImmediateChild(e,n))})));var c=Wn(u,t);if(!c&&!t._queryParams.loadsAllData()){var l=sr(t);(0,o.assert)(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=Qn++;e.queryToTagMap.set(l,h),e.tagToQueryMap.set(h,l)}var f=function(e,t,n,r,i,o){var a=Vn(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Je,(function(e,t){r.push(mt(e,t))})),n.isFullyInitialized()&&r.push(gt(n.getNode())),Fn(e,r,n.getNode(),t)}(a,n)}(u,t,n,ln(e.pendingWriteTree_,r),i,s);if(!c&&!a){var d=Kn(u,t);f=f.concat(function(e,t,n){var r=t._path,i=ar(e,t),a=or(e,n),s=e.listenProvider_.startListening(hr(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)(0,o.assert)(!Hn(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(e,t,n){if(!we(e)&&t&&Hn(t))return[Gn(t).query];var r=[];return t&&(r=r.concat(Bn(t).map((function(e){return e.query})))),M(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<c.length;++l){var h=c[l];e.listenProvider_.stopListening(hr(h),ar(e,h))}return s}(e,t,d))}return f}function tr(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=zn(n,Ee(e,t));if(r)return r}));return pn(r,t,i,n,!0)}function nr(e,t){return rr(t,e.syncPointTree_,null,ln(e.pendingWriteTree_,de()))}function rr(e,t,n,r){if(we(e.path))return ir(e,t,n,r);var i=t.get(de());null==n&&null!=i&&(n=zn(i,de()));var o=[],a=pe(e.path),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=bn(r,a);o=o.concat(rr(s,u,c,l))}return i&&(o=o.concat(qn(i,e,r,n))),o}function ir(e,t,n,r){var i=t.get(de());null==n&&null!=i&&(n=zn(i,de()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=bn(r,t),u=e.operationForChild(t);u&&(o=o.concat(ir(u,i,a,s)))})),i&&(o=o.concat(qn(i,e,r,n))),o}function or(e,t){var n=t.query,r=ar(e,n);return{hashFn:function(){return(function(e){return e.viewCache_.serverCache.getNode()}(t)||it.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=ur(e,n);if(r){var i=cr(r),o=i.path,a=i.queryId,s=Ee(o,t);return lr(e,o,new qt(Ft(a),s))}return[]}(e,n._path,r):function(e,t){return nr(e,new qt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Zn(e,n,null,i)}}}function ar(e,t){var n=sr(t);return e.queryToTagMap.get(n)}function sr(e){return e._path.toString()+"$"+e._queryIdentifier}function ur(e,t){return e.tagToQueryMap.get(t)}function cr(e){var t=e.indexOf("$");return(0,o.assert)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new fe(e.substr(0,t))}}function lr(e,t,n){var r=e.syncPointTree_.get(t);return(0,o.assert)(r,"Missing sync point for query tag that we're tracking"),qn(r,n,ln(e.pendingWriteTree_,t),null)}function hr(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new((0,o.assert)(Un,"Reference.ts has not been loaded"),Un)(e._repo,e._path):e}var fr=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),dr=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=be(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return tr(this.syncTree_,this.path_)},e}(),pr=function(e,t,n){return e&&"object"==typeof e?((0,o.assert)(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?gr(e[".sv"],t,n):"object"==typeof e[".sv"]?mr(e[".sv"],t):void(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},gr=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:(0,o.assert)(!1,"Unexpected server value: "+e)}},mr=function(e,t,n){e.hasOwnProperty("increment")||(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!=typeof r&&(0,o.assert)(!1,"Unexpected increment value: "+r);var i=t.node();if((0,o.assert)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!=typeof a?r:a+r},vr=function(e,t,n,r){return _r(t,new dr(n,e),r)},yr=function(e,t,n){return _r(e,new fr(t),n)};function _r(e,t,n){var r,i=e.getPriority().val(),o=pr(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=pr(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new Xe(s,at(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Xe(o))),u.forEachChild(Je,(function(e,i){var o=_r(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}var br=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function wr(e,t){for(var n=t instanceof fe?t:new fe(t),r=e,i=pe(n);null!==i;){var a=(0,o.safeGet)(r.node.children,i)||{children:{},childCount:0};r=new br(i,r,a),i=pe(n=me(n))}return r}function Er(e){return e.node.value}function Ir(e,t){e.node.value=t,xr(e)}function Sr(e){return e.node.childCount>0}function kr(e,t){M(e.node.children,(function(n,r){t(new br(n,e,r))}))}function Tr(e,t,n,r){n&&!r&&t(e),kr(e,(function(e){Tr(e,t,!0,r)})),n&&r&&t(e)}function Cr(e){return new fe(null===e.parent?e.name:Cr(e.parent)+"/"+e.name)}function xr(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Er(e)&&!Sr(e)}(n),i=(0,o.contains)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,xr(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,xr(e))}(e.parent,e.name,e)}var Nr=/[\[\].#$\/\u0000-\u001F\u007F]/,Ar=/[\[\].#$\u0000-\u001F\u007F]/,Pr=10485760,Rr=function(e){return"string"==typeof e&&0!==e.length&&!Nr.test(e)},Or=function(e){return"string"==typeof e&&0!==e.length&&!Ar.test(e)},Dr=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!x(e)||e&&"object"==typeof e&&(0,o.contains)(e,".sv")},Lr=function(e,t,n,r){r&&void 0===t||Mr((0,o.errorPrefix)(e,"value"),t,n)},Mr=function(e,t,n){var r=n instanceof fe?new Te(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+xe(r));if("function"==typeof t)throw new Error(e+"contains a function "+xe(r)+" with contents = "+t.toString());if(x(t))throw new Error(e+"contains "+t.toString()+" "+xe(r));if("string"==typeof t&&t.length>Pr/3&&(0,o.stringLength)(t)>Pr)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+xe(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){var i=!1,a=!1;if(M(t,(function(t,n){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(a=!0,!Rr(t)))throw new Error(e+" contains an invalid key ("+t+") "+xe(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,u;!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,o.stringLength)(t),Ce(e)}(r,t),Mr(e,n,r),u=(s=r).parts_.pop(),s.byteLength_-=(0,o.stringLength)(u),s.parts_.length>0&&(s.byteLength_-=1)})),i&&a)throw new Error(e+' contains ".value" child '+xe(r)+" in addition to actual children.")}},Fr=function(e,t,n,r){if(!r||void 0!==t){var i=(0,o.errorPrefix)(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];M(t,(function(e,t){var r=new fe(e);if(Mr(i,t,be(n,r)),".priority"===ve(r)&&!Dr(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=ye(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Rr(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Ie);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&ke(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,a)}},Ur=function(e,t,n){if(!n||void 0!==t){if(x(t))throw new Error((0,o.errorPrefix)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Dr(t))throw new Error((0,o.errorPrefix)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},jr=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.errorPrefix)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},qr=function(e,t,n,r){if(!(r&&void 0===n||Rr(n)))throw new Error((0,o.errorPrefix)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Vr=function(e,t,n,r){if(!(r&&void 0===n||Or(n)))throw new Error((0,o.errorPrefix)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Br=function(e,t){if(".info"===pe(t))throw new Error(e+" failed = Can't modify data under /.info/")},zr=function(e,t){var n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Rr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Or(e)}(n))throw new Error((0,o.errorPrefix)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Kr=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error((0,o.errorPrefix)(e,t)+"must be a boolean.")},Wr=function(){this.eventLists_=[],this.recursionDepth_=0};function Hr(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||Se(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Gr(e,t,n){Hr(e,n),$r(e,(function(e){return Se(e,t)}))}function Qr(e,t,n){Hr(e,n),$r(e,(function(e){return ke(e,t)||ke(t,e)}))}function $r(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];i&&(t(i.path)?(Yr(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}function Yr(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();b&&I("event: "+n.toString()),q(r)}}}var Xr="repo_interrupt",Jr=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Wr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=At(),this.transactionQueueTree_=new br,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function Zr(e){var t=e.infoData_.getNode(new fe(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function ei(e){return(t=(t={timestamp:Zr(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function ti(e,t,n,r,i){e.dataUpdateCount++;var a=new fe(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(i)if(r){var u=(0,o.map)(n,(function(e){return at(e)}));s=function(e,t,n,r){var i=ur(e,r);if(i){var o=cr(i),a=o.path,s=o.queryId,u=Ee(a,t),c=Xt.fromObject(n);return lr(e,a,new Bt(Ft(s),u,c))}return[]}(e.serverSyncTree_,a,u,i)}else{var c=at(n);s=function(e,t,n,r){var i=ur(e,r);if(null!=i){var o=cr(i),a=o.path,s=o.queryId,u=Ee(a,t);return lr(e,a,new Vt(Ft(s),u,n))}return[]}(e.serverSyncTree_,a,c,i)}else if(r){var l=(0,o.map)(n,(function(e){return at(e)}));s=function(e,t,n){var r=Xt.fromObject(n);return nr(e,new Bt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var h=at(n);s=Jn(e.serverSyncTree_,a,h)}var f=a;s.length>0&&(f=pi(e,a)),Qr(e.eventQueue_,f,s)}function ni(e,t){ri(e,"connected",t),!1===t&&function(e){li(e,"onDisconnectEvents");var t=ei(e),n=At();Ot(e.onDisconnect_,de(),(function(r,i){var o=vr(r,i,e.serverSyncTree_,t);Pt(n,r,o)}));var r=[];Ot(n,de(),(function(t,n){r=r.concat(Jn(e.serverSyncTree_,t,n));var i=_i(e,t);pi(e,i)})),e.onDisconnect_=At(),Qr(e.eventQueue_,de(),r)}(e)}function ri(e,t,n){var r=new fe("/.info/"+t),i=at(n);e.infoData_.updateSnapshot(r,i);var o=Jn(e.infoSyncTree_,r,i);Qr(e.eventQueue_,r,o)}function ii(e){return e.nextWriteId_++}function oi(e,t,n,r,i){li(e,"set",{path:t.toString(),value:n,priority:r});var o=ei(e),a=at(n,r),s=tr(e.serverSyncTree_,t),u=yr(a,s,o),c=ii(e),l=Yn(e.serverSyncTree_,t,u,c,!0);Hr(e.eventQueue_,l),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||C("set at "+t+" failed: "+n);var a=Xn(e.serverSyncTree_,c,!o);Qr(e.eventQueue_,t,a),hi(0,i,n,r)}));var h=_i(e,t);pi(e,h),Qr(e.eventQueue_,h,[])}function ai(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&Rt(e.onDisconnect_,t),hi(0,n,r,i)}))}function si(e,t,n,r){var i=at(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&Pt(e.onDisconnect_,t,i),hi(0,r,n,o)}))}function ui(e,t,n){var r;r=".info"===pe(t._path)?Zn(e.infoSyncTree_,t,n):Zn(e.serverSyncTree_,t,n),Gr(e.eventQueue_,t._path,r)}function ci(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Xr)}function li(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),I.apply(void 0,(0,a.__spreadArray)([r],(0,a.__read)(t)))}function hi(e,t,n,r){t&&q((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function fi(e,t,n){return tr(e.serverSyncTree_,t,n)||it.EMPTY_NODE}function di(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||yi(e,t),Er(t)){var n=mi(e,t);(0,o.assert)(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=fi(e,t,r),a=i,s=i.hash(),u=0;u<n.length;u++){var c=n[u];(0,o.assert)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=Ee(t,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var h=a.val(!0),f=t;e.server_.put(f.toString(),h,(function(r){li(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(Xn(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);for(yi(e,wr(e.transactionQueueTree_,t)),di(e,e.transactionQueueTree_),Qr(e.eventQueue_,t,i),s=0;s<o.length;s++)q(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else for(C("transaction at "+f.toString()+" failed: "+r),s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r;pi(e,t)}}),s)}(e,Cr(t),n)}else Sr(t)&&kr(t,(function(t){di(e,t)}))}function pi(e,t){var n=gi(e,t),r=Cr(n);return function(e,t,n){if(0!==t.length){for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),s=function(s){var u,c,l=t[s],h=Ee(n,l.path),f=!1;if((0,o.assert)(null!==h,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)f=!0,u=l.abortReason,i=i.concat(Xn(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)f=!0,u="maxretry",i=i.concat(Xn(e.serverSyncTree_,l.currentWriteId,!0));else{var d=fi(e,l.path,a);l.currentInputSnapshot=d;var p=t[s].update(d.val());if(void 0!==p){Mr("transaction failed: Data returned ",p,l.path);var g=at(p);"object"==typeof p&&null!=p&&(0,o.contains)(p,".priority")||(g=g.updatePriority(d.getPriority()));var m=l.currentWriteId,v=ei(e),y=yr(g,d,v);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=y,l.currentWriteId=ii(e),a.splice(a.indexOf(m),1),i=(i=i.concat(Yn(e.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally))).concat(Xn(e.serverSyncTree_,m,!0))}else f=!0,u="nodata",i=i.concat(Xn(e.serverSyncTree_,l.currentWriteId,!0))}Qr(e.eventQueue_,n,i),i=[],f&&(t[s].status=2,c=t[s].unwatcher,setTimeout(c,Math.floor(0)),t[s].onComplete&&("nodata"===u?r.push((function(){return t[s].onComplete(null,!1,t[s].currentInputSnapshot)})):r.push((function(){return t[s].onComplete(new Error(u),!1,null)}))))},u=0;u<t.length;u++)s(u);for(yi(e,e.transactionQueueTree_),u=0;u<r.length;u++)q(r[u]);di(e,e.transactionQueueTree_)}}(e,mi(e,n),r),r}function gi(e,t){var n,r=e.transactionQueueTree_;for(n=pe(t);null!==n&&void 0===Er(r);)r=wr(r,n),n=pe(t=me(t));return r}function mi(e,t){var n=[];return vi(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function vi(e,t,n){var r=Er(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);kr(t,(function(t){vi(e,t,n)}))}function yi(e,t){var n=Er(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Ir(t,n.length>0?n:void 0)}kr(t,(function(t){yi(e,t)}))}function _i(e,t){var n=Cr(gi(e,t)),r=wr(e.transactionQueueTree_,t);return function(e,t,n){for(var r=e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){bi(e,t)})),bi(e,r),Tr(r,(function(t){bi(e,t)})),n}function bi(e,t){var n=Er(t);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,o.assert)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):((0,o.assert)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Xn(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));for(-1===a?Ir(t,void 0):n.length=a+1,Qr(e.eventQueue_,Cr(t),i),s=0;s<r.length;s++)q(r[s])}}var wi=function(e,t){var n=Ei(e),r=n.namespace;"firebase.com"===n.domain&&T(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||T("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&C("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Q(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new fe(n.pathString)}},Ei=function(e){var t="",n="",r="",i="",o="",s=!0,u="https",c=443;if("string"==typeof e){var l=e.indexOf("//");l>=0&&(u=e.substring(0,l-1),e=e.substring(l+2));var h=e.indexOf("/");-1===h&&(h=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(h,f)),h<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(e){}t+="/"+i}return t}(e.substring(h,f)));var d=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=(0,a.__values)(e.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):C("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,f)));(l=t.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(t.substring(l+1),10)):l=t.length;var p=t.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var g=t.indexOf(".");r=t.substring(0,g).toLowerCase(),n=t.substring(g+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:o}},Ii=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.stringify)(this.snapshot.exportVal())},e}(),Si=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),ki=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return(0,o.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),Ti=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new o.Deferred;return ai(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},e.prototype.remove=function(){Br("OnDisconnect.remove",this._path);var e=new o.Deferred;return si(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){Br("OnDisconnect.set",this._path),Lr("OnDisconnect.set",e,this._path,!1);var t=new o.Deferred;return si(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){Br("OnDisconnect.setWithPriority",this._path),Lr("OnDisconnect.setWithPriority",e,this._path,!1),Ur("OnDisconnect.setWithPriority",t,!1);var n=new o.Deferred;return function(e,t,n,r,i){var o=at(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&Pt(e.onDisconnect_,t,o),hi(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){Br("OnDisconnect.update",this._path),Fr("OnDisconnect.update",e,this._path,!1);var t=new o.Deferred;return function(e,t,n,r){if((0,o.isEmpty)(n))return I("onDisconnect().update() called with empty data.  Don't do anything."),void hi(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&M(n,(function(n,r){var i=at(r);Pt(e.onDisconnect_,be(t,n),i)})),hi(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),Ci=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return we(this._path)?null:ve(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Pi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=Ct(this._queryParams),t=D(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return Ct(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=(0,o.getModularInstance)(t))instanceof e))return!1;var n=this._repo===t._repo,r=Se(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function xi(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Ni(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Fe){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==N)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==A)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===Je){if(null!=t&&!Dr(t)||null!=n&&!Dr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,o.assert)(e.getIndex()instanceof ct||e.getIndex()===lt,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ai(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Pi=function(e){function t(t,n){return e.call(this,t,n,new Et,!1)||this}return(0,a.__extends)(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=_e(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(Ci),Ri=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new fe(t),r=Li(this.ref,t);return new e(this._node.getChild(n),r,Je)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,Li(n.ref,r),Je))}))},e.prototype.hasChild=function(e){var t=new fe(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function Oi(e,t){return(e=(0,o.getModularInstance)(e))._checkNotDeleted("ref"),void 0!==t?Li(e._root,t):e._root}function Di(e,t){(e=(0,o.getModularInstance)(e))._checkNotDeleted("refFromURL");var n=wi(t,e._repo.repoInfo_.nodeAdmin);zr("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||T("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),Oi(e,n.path.toString())}function Li(e,t){var n;return null===pe((e=(0,o.getModularInstance)(e))._path)?("child","path",!1,(n=t)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Vr("child","path",n,false)):Vr("child","path",t,!1),new Pi(e._repo,be(e._path,t))}function Mi(e,t){e=(0,o.getModularInstance)(e),Br("push",e._path),Lr("push",t,e._path,!0);var n,r=Zr(e._repo),i=ft(r),a=Li(e,i),s=Li(e,i);return n=null!=t?Ui(s,t).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function Fi(e){return Br("remove",e._path),Ui(e,null)}function Ui(e,t){e=(0,o.getModularInstance)(e),Br("set",e._path),Lr("set",t,e._path,!1);var n=new o.Deferred;return oi(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function ji(e,t){e=(0,o.getModularInstance)(e),Br("setPriority",e._path),Ur("setPriority",t,!1);var n=new o.Deferred;return oi(e._repo,be(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function qi(e,t,n){if(Br("setWithPriority",e._path),Lr("setWithPriority",t,e._path,!1),Ur("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new o.Deferred;return oi(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function Vi(e,t){Fr("update",t,e._path,!1);var n=new o.Deferred;return function(e,t,n,r){li(e,"update",{path:t.toString(),value:n});var i=!0,a=ei(e),s={};if(M(n,(function(n,r){i=!1,s[n]=vr(be(t,n),at(r),e.serverSyncTree_,a)})),i)I("update() called with empty data.  Don't do anything."),hi(0,r,"ok",void 0);else{var u=ii(e),c=function(e,t,n,r){!function(e,t,n,r){(0,o.assert)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=en(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=Xt.fromObject(n);return nr(e,new Bt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}(e.serverSyncTree_,t,s,u);Hr(e.eventQueue_,c),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||C("update at "+t+" failed: "+n);var a=Xn(e.serverSyncTree_,u,!o),s=a.length>0?pi(e,t):t;Qr(e.eventQueue_,s,a),hi(0,r,n,i)})),M(n,(function(n){var r=_i(e,be(t,n));pi(e,r)})),Qr(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function Bi(e){return function(e,t){var n=function(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=Ee(e,n);r=r||zn(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||zn(i,de()):(i=new jn,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new zt(r,!0,!1):null;return $t(Vn(i,t,ln(e.pendingWriteTree_,t._path),o?a.getNode():it.EMPTY_NODE,o).viewCache_)}(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=at(n).withIndex(t._queryParams.getIndex()),i=Jn(e.serverSyncTree_,t._path,r);return Gr(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return li(e,"get for query "+(0,o.stringify)(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=(0,o.getModularInstance)(e))._repo,e).then((function(t){return new Ri(t,new Pi(e._repo,e._path),e._queryParams.getIndex())}))}var zi=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new Ii("value",this,new Ri(e.snapshotNode,new Pi(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Si(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),Ki=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Si(this,e,t):null},e.prototype.createEvent=function(e,t){(0,o.assert)(null!=e.childName,"Child events should have a childName.");var n=Li(new Pi(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Ii(e.type,this,new Ri(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function Wi(e,t,n,r,i){var o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(t,n){ui(e._repo,e,c),a(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new ki(n,o||void 0),c="value"===t?new zi(u):new Ki(t,u);return function(e,t,n){var r;r=".info"===pe(t._path)?er(e.infoSyncTree_,t,n):er(e.serverSyncTree_,t,n),Gr(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return ui(e._repo,e,c)}}function Hi(e,t,n,r){return Wi(e,"value",t,n,r)}function Gi(e,t,n,r){return Wi(e,"child_added",t,n,r)}function Qi(e,t,n,r){return Wi(e,"child_changed",t,n,r)}function $i(e,t,n,r){return Wi(e,"child_moved",t,n,r)}function Yi(e,t,n,r){return Wi(e,"child_removed",t,n,r)}function Xi(e,t,n){var r=null,i=n?new ki(n):null;"value"===t?r=new zi(i):t&&(r=new Ki(t,i)),ui(e._repo,e,r)}var Ji=function(){},Zi=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Lr("endAt",this._value,e._path,!0);var t=St(e._queryParams,this._value,this._key);if(Ai(t),Ni(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ci(e._repo,e._path,t,e._orderByCalled)},t}(Ji);function eo(e,t){return qr("endAt","key",t,!0),new Zi(e,t)}var to=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Lr("endBefore",this._value,e._path,!1);var t,n,r,i,o=(t=e._queryParams,n=this._value,r=this._key,t.index_===Fe?("string"==typeof n&&(n=pt(n)),i=St(t,n,r)):i=St(t,n,null==r?N:pt(r)),i.endBeforeSet_=!0,i);if(Ai(o),Ni(o),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ci(e._repo,e._path,o,e._orderByCalled)},t}(Ji);function no(e,t){return qr("endBefore","key",t,!0),new to(e,t)}var ro=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Lr("startAt",this._value,e._path,!0);var t=It(e._queryParams,this._value,this._key);if(Ai(t),Ni(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ci(e._repo,e._path,t,e._orderByCalled)},t}(Ji);function io(e,t){return void 0===e&&(e=null),qr("startAt","key",t,!0),new ro(e,t)}var oo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Lr("startAfter",this._value,e._path,!1);var t,n,r,i,o=(t=e._queryParams,n=this._value,r=this._key,t.index_===Fe?("string"==typeof n&&(n=dt(n)),i=It(t,n,r)):i=It(t,n,null==r?A:dt(r)),i.startAfterSet_=!0,i);if(Ai(o),Ni(o),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ci(e._repo,e._path,o,e._orderByCalled)},t}(Ji);function ao(e,t){return qr("startAfter","key",t,!0),new oo(e,t)}var so=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,a.__extends)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ci(e._repo,e._path,(t=e._queryParams,n=this._limit,(r=t.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="l",r),e._orderByCalled);var t,n,r},t}(Ji);function uo(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new so(e)}var co=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,a.__extends)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ci(e._repo,e._path,(t=e._queryParams,n=this._limit,(r=t.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="r",r),e._orderByCalled);var t,n,r},t}(Ji);function lo(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new co(e)}var ho=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return(0,a.__extends)(t,e),t.prototype._apply=function(e){xi(e,"orderByChild");var t=new fe(this._path);if(we(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new ct(t),r=kt(e._queryParams,n);return Ni(r),new Ci(e._repo,e._path,r,!0)},t}(Ji);function fo(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Vr("orderByChild","path",e,!1),new ho(e)}var po=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype._apply=function(e){xi(e,"orderByKey");var t=kt(e._queryParams,Fe);return Ni(t),new Ci(e._repo,e._path,t,!0)},t}(Ji);function go(){return new po}var mo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype._apply=function(e){xi(e,"orderByPriority");var t=kt(e._queryParams,Je);return Ni(t),new Ci(e._repo,e._path,t,!0)},t}(Ji);function vo(){return new mo}var yo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype._apply=function(e){xi(e,"orderByValue");var t=kt(e._queryParams,lt);return Ni(t),new Ci(e._repo,e._path,t,!0)},t}(Ji);function _o(){return new yo}var bo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){if(Lr("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Zi(this._value,this._key)._apply(new ro(this._value,this._key)._apply(e))},t}(Ji);function wo(e,t){return qr("equalTo","key",t,!0),new bo(e,t)}function Eo(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=(0,o.getModularInstance)(e);try{for(var u=(0,a.__values)(r),c=u.next();!c.done;c=u.next()){var l=c.value;s=l._apply(s)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s}!function(e){(0,o.assert)(!Pn,"__referenceConstructor has already been defined"),Pn=e}(Pi),function(e){(0,o.assert)(!Un,"__referenceConstructor has already been defined"),Un=e}(Pi);var Io={},So=!1;function ko(e,t,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||T("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),I("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var a,s=wi(o,i),u=s.repoInfo,c=void 0;"undefined"!=typeof process&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(a=!0,o="http://"+c+"?ns="+u.namespace,u=(s=wi(o,i)).repoInfo):a=!s.repoInfo.secure;var l=i&&a?new K(K.OWNER):new z(e.name,e.options,t);zr("Invalid Firebase Database URL",s),we(s.path)||T("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=Io[t.name];i||(i={},Io[t.name]=i);var o=i[e.toURLString()];return o&&T("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Jr(e,So,n,r),i[e.toURLString()]=o,o}(u,e,l,new B(e.name,n));return new To(h,e)}var To=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(function(e,t,n){if(e.stats_=Z(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new xt(e.repoInfo_,(function(t,n,r,i){ti(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return ni(e,!0)}),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.stringify)(n)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new Oe(e.repoInfo_,t,(function(t,n,r,i){ti(e,t,n,r,i)}),(function(t){ni(e,t)}),(function(t){!function(e,t){M(t,(function(t,n){ri(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}var r,i;e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=(r=function(){return new Mt(e.stats_,e.server_)},i=e.repoInfo_.toString(),J[i]||(J[i]=r()),J[i]),e.infoData_=new Nt,e.infoSyncTree_=new $n({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=Jn(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),ri(e,"connected",!1),e.serverSyncTree_=new $n({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);Qr(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Pi(this._repo,de())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){var e,t,n;return this._checkNotDeleted("delete"),e=this._repo,t=this.app.name,(n=Io[t])&&n[e.key]===e||T("Database "+t+"("+e.repoInfo_+") has already been deleted."),ci(e),delete n[e.key],this._repoInternal=null,this._rootInternal=null,Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&T("Cannot call "+e+" on a deleted database.")},e}();function Co(e){(e=(0,o.getModularInstance)(e))._checkNotDeleted("goOffline"),ci(e._repo)}function xo(e){var t;(e=(0,o.getModularInstance)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(Xr)}var No={".sv":"timestamp"},Ao=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function Po(e,t,n){var r;if(e=(0,o.getModularInstance)(e),Br("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,a=new o.Deferred,s=Hi(e,(function(){}));return function(t,n,r,i,s,u){li(t,"transaction on "+n);var c={path:n,update:r,onComplete:function(t,n,r){var i=null;t?a.reject(t):(i=new Ri(r,new Pi(e._repo,e._path),Je),a.resolve(new Ao(n,i)))},status:null,order:v(),applyLocally:u,retryCount:0,unwatcher:s,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=fi(t,n,void 0);c.currentInputSnapshot=l;var h=c.update(l.val());if(void 0===h)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{Mr("transaction failed: Data returned ",h,c.path),c.status=0;var f=wr(t.transactionQueueTree_,n),d=Er(f)||[];d.push(c),Ir(f,d);var p=void 0;"object"==typeof h&&null!==h&&(0,o.contains)(h,".priority")?(p=(0,o.safeGet)(h,".priority"),(0,o.assert)(Dr(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(tr(t.serverSyncTree_,n)||it.EMPTY_NODE).getPriority().val();var g=ei(t),m=at(h,p),y=yr(m,l,g);c.currentOutputSnapshotRaw=m,c.currentOutputSnapshotResolved=y,c.currentWriteId=ii(t);var _=Yn(t.serverSyncTree_,n,y,c.currentWriteId,c.applyLocally);Qr(t.eventQueue_,n,_),di(t,t.transactionQueueTree_)}}(e._repo,e._path,t,0,s,i),a.promise}var Ro=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){(0,o.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){(0,o.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){(0,o.validateArgCount)("OnDisconnect.set",1,2,arguments.length),(0,o.validateCallback)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){(0,o.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},e.prototype.update=function(e,t){if((0,o.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,C("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,o.validateCallback)("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},e}(),Oo=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return(0,o.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Do=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return(0,o.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return(0,o.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return(0,o.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return(0,o.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return(0,o.validateArgCount)("DataSnapshot.child",0,1,arguments.length),t=String(t),Vr("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return(0,o.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),Vr("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return(0,o.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return(0,o.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),(0,o.validateCallback)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))},e.prototype.hasChildren=function(){return(0,o.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return(0,o.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return(0,o.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new Mo(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Lo=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,i){var a,s=this;(0,o.validateArgCount)("Query.on",2,4,arguments.length),(0,o.validateCallback)("Query.on","callback",n,!1);var u=e.getCancelAndContextArgs_("Query.on",r,i),c=function(e,t){n.call(u.context,new Do(s.database,e),t)};c.userCallback=n,c.context=u.context;var l=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(t){case"value":return Hi(this._delegate,c,l),n;case"child_added":return Gi(this._delegate,c,l),n;case"child_removed":return Yi(this._delegate,c,l),n;case"child_changed":return Qi(this._delegate,c,l),n;case"child_moved":return $i(this._delegate,c,l),n;default:throw new Error((0,o.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if((0,o.validateArgCount)("Query.off",0,3,arguments.length),jr("Query.off",e,!0),(0,o.validateCallback)("Query.off","callback",t,!0),(0,o.validateContextObject)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,Xi(this._delegate,e,r)}else Xi(this._delegate,e)},e.prototype.get=function(){var e=this;return Bi(this._delegate).then((function(t){return new Do(e.database,t)}))},e.prototype.once=function(t,n,r,i){var a=this;(0,o.validateArgCount)("Query.once",1,4,arguments.length),(0,o.validateCallback)("Query.once","callback",n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,i),u=new o.Deferred,c=function(e,t){var r=new Do(a.database,e);n&&n.call(s.context,r,t),u.resolve(r)};c.userCallback=n,c.context=s.context;var l=function(e){s.cancel&&s.cancel.call(s.context,e),u.reject(e)};switch(t){case"value":Hi(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":Gi(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":Yi(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":Qi(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":$i(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error((0,o.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},e.prototype.limitToFirst=function(t){return(0,o.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new e(this.database,Eo(this._delegate,uo(t)))},e.prototype.limitToLast=function(t){return(0,o.validateArgCount)("Query.limitToLast",1,1,arguments.length),new e(this.database,Eo(this._delegate,lo(t)))},e.prototype.orderByChild=function(t){return(0,o.validateArgCount)("Query.orderByChild",1,1,arguments.length),new e(this.database,Eo(this._delegate,fo(t)))},e.prototype.orderByKey=function(){return(0,o.validateArgCount)("Query.orderByKey",0,0,arguments.length),new e(this.database,Eo(this._delegate,go()))},e.prototype.orderByPriority=function(){return(0,o.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new e(this.database,Eo(this._delegate,vo()))},e.prototype.orderByValue=function(){return(0,o.validateArgCount)("Query.orderByValue",0,0,arguments.length),new e(this.database,Eo(this._delegate,_o()))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.startAt",0,2,arguments.length),new e(this.database,Eo(this._delegate,io(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.startAfter",0,2,arguments.length),new e(this.database,Eo(this._delegate,ao(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.endAt",0,2,arguments.length),new e(this.database,Eo(this._delegate,eo(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.endBefore",0,2,arguments.length),new e(this.database,Eo(this._delegate,no(t,n)))},e.prototype.equalTo=function(t,n){return(0,o.validateArgCount)("Query.equalTo",1,2,arguments.length),new e(this.database,Eo(this._delegate,wo(t,n)))},e.prototype.toString=function(){return(0,o.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return(0,o.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if((0,o.validateArgCount)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,(0,o.validateCallback)(e,"cancel",r.cancel,!0),r.context=n,(0,o.validateContextObject)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,o.errorPrefix)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new Mo(this.database,new Pi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),Mo=function(e){function t(t,n){var r=e.call(this,t,new Ci(n._repo,n._path,new Et,!1))||this;return r.database=t,r._delegate=n,r}return(0,a.__extends)(t,e),t.prototype.getKey=function(){return(0,o.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return(0,o.validateArgCount)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new t(this.database,Li(this._delegate,e))},t.prototype.getParent=function(){(0,o.validateArgCount)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return(0,o.validateArgCount)("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){(0,o.validateArgCount)("Reference.set",1,2,arguments.length),(0,o.validateCallback)("Reference.set","onComplete",t,!0);var n=Ui(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if((0,o.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,C("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Br("Reference.update",this._delegate._path),(0,o.validateCallback)("Reference.update","onComplete",t,!0);var i=Vi(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},t.prototype.setWithPriority=function(e,t,n){(0,o.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("Reference.setWithPriority","onComplete",n,!0);var r=qi(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},t.prototype.remove=function(e){(0,o.validateArgCount)("Reference.remove",0,1,arguments.length),(0,o.validateCallback)("Reference.remove","onComplete",e,!0);var t=Fi(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var r=this;(0,o.validateArgCount)("Reference.transaction",1,3,arguments.length),(0,o.validateCallback)("Reference.transaction","transactionUpdate",e,!1),(0,o.validateCallback)("Reference.transaction","onComplete",t,!0),Kr("Reference.transaction","applyLocally",n,!0);var i=Po(this._delegate,e,{applyLocally:n}).then((function(e){return new Oo(e.committed,new Do(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i},t.prototype.setPriority=function(e,t){(0,o.validateArgCount)("Reference.setPriority",1,2,arguments.length),(0,o.validateCallback)("Reference.setPriority","onComplete",t,!0);var n=ji(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var r=this;(0,o.validateArgCount)("Reference.push",0,2,arguments.length),(0,o.validateCallback)("Reference.push","onComplete",n,!0);var i=Mi(this._delegate,e),a=i.then((function(e){return new t(r.database,e)}));n&&a.then((function(){return n(null)}),(function(e){return n(e)}));var s=new t(this.database,i);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},t.prototype.onDisconnect=function(){return Br("Reference.onDisconnect",this._delegate._path),new Ro(new Ti(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(Lo),Fo=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){void 0===r&&(r={}),(e=(0,o.getModularInstance)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&T("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&T('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new K(K.OWNER);else if(r.mockUserToken){var s=(0,o.createMockUserToken)(r.mockUserToken,e.app.options.projectId);a=new K(s)}!function(e,t,n,r){e.repoInfo_=new Q(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(i,t,n,a)}(this._delegate,e,t,n)},e.prototype.ref=function(e){if((0,o.validateArgCount)("database.ref",0,1,arguments.length),e instanceof Mo){var t=Di(this._delegate,e.toString());return new Mo(this,t)}return t=Oi(this._delegate,e),new Mo(this,t)},e.prototype.refFromURL=function(e){var t="database.refFromURL";(0,o.validateArgCount)(t,1,1,arguments.length);var n=Di(this._delegate,e);return new Mo(this,n)},e.prototype.goOffline=function(){return(0,o.validateArgCount)("database.goOffline",0,0,arguments.length),Co(this._delegate)},e.prototype.goOnline=function(){return(0,o.validateArgCount)("database.goOnline",0,0,arguments.length),xo(this._delegate)},e.ServerValue={TIMESTAMP:No,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}(),Uo=Object.freeze({__proto__:null,forceLongPolling:function(){ae.forceDisallow(),re.forceAllow()},forceWebSockets:function(){re.forceDisallow()},isWebSocketsAvailable:function(){return ae.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var n;t?(e.statsListener_||(e.statsListener_=new Lt(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);M(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){var n;e.stats_.incrementCounter(t),n=t,e.statsReporter_.statsToReport_[n]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,o=e.customAuthImpl,a=e.namespace,s=e.nodeAdmin,u=void 0!==s&&s;c(r);var l=new i.Provider("auth-internal",new i.ComponentContainer("database-standalone"));return l.setComponent(new i.Component("auth-internal",(function(){return o}),"PRIVATE")),{instance:new Fo(ko(t,l,void 0,n,u),t),namespace:a}}}),jo=Oe;Oe.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Oe.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var qo=ue,Vo=Q,Bo=Object.freeze({__proto__:null,DataConnection:jo,RealTimeConnection:qo,hijackHash:function(e){var t=Oe.prototype.put;return Oe.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){Oe.prototype.put=t}},ConnectionTarget:Vo,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){So=e}(e)}}),zo=Fo.ServerValue;!function(t){c(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new i.Component("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Fo(ko(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:Mo,Query:Lo,Database:Fo,DataSnapshot:Do,enableLogging:E,INTERNAL:Uo,ServerValue:zo,TEST_ACCESS:Bo}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.10.5"),(0,o.isNodeSdk)()&&(e.exports=n)}(r.default)},594:(e,t,n)=>{"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.r(t),n.d(t,{LogLevel:()=>o,Logger:()=>h,setLogLevel:()=>f,setUserLogHandler:()=>d});var o,a=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=c[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function f(e){a.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=a;r<i.length;r++)n(i[r])}},589:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CONSTANTS:()=>i,Deferred:()=>d,ErrorFactory:()=>P,FirebaseError:()=>A,MAX_VALUE_MILLIS:()=>ae,RANDOM_FACTOR:()=>se,Sha1:()=>Q,areCookiesEnabled:()=>x,assert:()=>o,assertionError:()=>a,async:()=>X,base64:()=>u,base64Decode:()=>l,base64Encode:()=>c,calculateBackoffMillis:()=>ue,contains:()=>V,createMockUserToken:()=>p,createSubscribe:()=>$,decode:()=>M,deepCopy:()=>h,deepExtend:()=>f,errorPrefix:()=>ee,extractQuerystring:()=>G,getGlobal:()=>N,getModularInstance:()=>le,getUA:()=>g,isAdmin:()=>q,isBrowser:()=>y,isBrowserExtension:()=>_,isElectron:()=>w,isEmpty:()=>z,isIE:()=>E,isIndexedDBAvailable:()=>T,isMobileCordova:()=>m,isNode:()=>v,isNodeSdk:()=>S,isReactNative:()=>b,isSafari:()=>k,isUWP:()=>I,isValidFormat:()=>j,isValidTimestamp:()=>F,issuedAtTime:()=>U,jsonEval:()=>D,map:()=>K,ordinal:()=>ce,querystring:()=>W,querystringDecode:()=>H,safeGet:()=>B,stringLength:()=>oe,stringToByteArray:()=>ie,stringify:()=>L,validateArgCount:()=>Z,validateCallback:()=>ne,validateContextObject:()=>re,validateIndexedDBOpenable:()=>C,validateNamespace:()=>te});var r=n(655),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){var t=s(e);return u.encodeByteArray(t,!0)},l=function(e){try{return u.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function h(e){return f(void 0,e)}function f(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=f(e[n],t[n]));return e}var d=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function p(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.__assign)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[u.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),u.encodeString(JSON.stringify(a),!1),""].join(".")}function g(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function m(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(g())}function v(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function y(){return"object"==typeof self&&self.self===self}function _(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function b(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function w(){return g().indexOf("Electron/")>=0}function E(){var e=g();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function I(){return g().indexOf("MSAppHost/")>=0}function S(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}function k(){return!v()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function T(){return"indexedDB"in self&&null!=indexedDB}function C(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))}function x(){return!(!navigator||!navigator.cookieEnabled)}function N(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("Unable to locate global object.")}var A=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,P.prototype.create),o}return(0,r.__extends)(t,e),t}(Error),P=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?R(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new A(i,s,r);return u},e}();function R(e,t){return e.replace(O,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var O=/\{\$([^}]+)}/g;function D(e){return JSON.parse(e)}function L(e){return JSON.stringify(e)}var M=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=D(l(o[0])||""),n=D(l(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}},F=function(e){var t=M(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},U=function(e){var t=M(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},j=function(e){var t=M(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},q=function(e){var t=M(e).claims;return"object"==typeof t&&!0===t.admin};function V(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function B(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function z(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function K(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function W(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}function H(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function G(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Q=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++)r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782),i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295,h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i;this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function $(e,t){var n=new Y(e,t);return n.subscribe.bind(n)}var Y=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=J),void 0===r.error&&(r.error=J),void 0===r.complete&&(r.complete=J);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function X(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}}function J(){}var Z=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function ee(e,t){return e+" failed: "+t+" argument "}function te(e,t,n){if((!n||t)&&"string"!=typeof t)throw new Error(ee(e,"namespace")+"must be a valid firebase namespace.")}function ne(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(ee(e,t)+"must be a valid function.")}function re(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(ee(e,t)+"must be a valid context object.")}var ie=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,o(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},oe=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},ae=144e5,se=.5;function ue(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n=2);var r=t*Math.pow(n,e),i=Math.round(se*r*(Math.random()-.5)*2);return Math.min(ae,r+i)}function ce(e){return Number.isFinite(e)?e+function(e){var t=(e=Math.abs(e))%100;if(t>=10&&t<=20)return"th";var n=e%10;return 1===n?"st":2===n?"nd":3===n?"rd":"th"}(e):""+e}function le(e){return e&&e._delegate?e._delegate:e}},679:(e,t,n)=>{"use strict";var r=n(864),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=l(n);h&&(a=a.concat(h(n)));for(var s=u(t),g=u(n),m=0;m<a.length;++m){var v=a[m];if(!(o[v]||r&&r[v]||g&&g[v]||s&&s[v])){var y=f(n,v);try{c(t,v,y)}catch(e){}}}}return t}},676:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function f(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new f(n)}function p(e){this._db=e}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),a(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),s(f,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[h,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,h].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=function(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new d(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new p(e)}))},e.deleteDb=function(e){return r(indexedDB,"deleteDatabase",[e])},Object.defineProperty(e,"__esModule",{value:!0})}(t)},418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var a,s,u=i(e),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))n.call(a,l)&&(u[l]=a[l]);if(t){s=t(a);for(var h=0;h<s.length;h++)r.call(a,s[h])&&(u[s[h]]=a[s[h]])}}return u}},703:(e,t,n)=>{"use strict";var r=n(414);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},697:(e,t,n)=>{e.exports=n(703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},448:(e,t,n)=>{"use strict";var r=n(294),i=n(418),o=n(840);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},g={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function _(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(g,e)||!d.call(p,e)&&(f.test(e)?g[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,_);v[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,_);v[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,_);v[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,I=60106,S=60107,k=60108,T=60114,C=60109,x=60110,N=60112,A=60113,P=60120,R=60115,O=60116,D=60121,L=60128,M=60129,F=60130,U=60131;if("function"==typeof Symbol&&Symbol.for){var j=Symbol.for;E=j("react.element"),I=j("react.portal"),S=j("react.fragment"),k=j("react.strict_mode"),T=j("react.profiler"),C=j("react.provider"),x=j("react.context"),N=j("react.forward_ref"),A=j("react.suspense"),P=j("react.suspense_list"),R=j("react.memo"),O=j("react.lazy"),D=j("react.block"),j("react.scope"),L=j("react.opaque.id"),M=j("react.debug_trace_mode"),F=j("react.offscreen"),U=j("react.legacy_hidden")}var q,V="function"==typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=V&&e[V]||e["@@iterator"])?e:null}function z(e){if(void 0===q)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);q=t&&t[1]||""}return"\n"+q+e}var K=!1;function W(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function H(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return W(e.type,!1);case 11:return W(e.type.render,!1);case 22:return W(e.type._render,!1);case 1:return W(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case S:return"Fragment";case I:return"Portal";case T:return"Profiler";case k:return"StrictMode";case A:return"Suspense";case P:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case x:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return G(e.type);case D:return G(e._render);case O:t=e._payload,e=e._init;try{return G(e(t))}catch(e){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml";function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function de(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,ge,me=(ge=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ge(e,t)}))}:ge);function ve(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_e=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ye).forEach((function(e){_e.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ie(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ce=null,xe=null;function Ne(e){if(e=Zr(e)){if("function"!=typeof Te)throw Error(a(280));var t=e.stateNode;t&&(t=ti(t),Te(e.stateNode,e.type,t))}}function Ae(e){Ce?xe?xe.push(e):xe=[e]:Ce=e}function Pe(){if(Ce){var e=Ce,t=xe;if(xe=Ce=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Re(e,t){return e(t)}function Oe(e,t,n,r,i){return e(t,n,r,i)}function De(){}var Le=Re,Me=!1,Fe=!1;function Ue(){null===Ce&&null===xe||(De(),Pe())}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=ti(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var qe=!1;if(h)try{var Ve={};Object.defineProperty(Ve,"passive",{get:function(){qe=!0}}),window.addEventListener("test",Ve,Ve),window.removeEventListener("test",Ve,Ve)}catch(ge){qe=!1}function Be(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var ze=!1,Ke=null,We=!1,He=null,Ge={onError:function(e){ze=!0,Ke=e}};function Qe(e,t,n,r,i,o,a,s,u){ze=!1,Ke=null,Be.apply(Ge,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Xe(e){if($e(e)!==e)throw Error(a(188))}function Je(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Xe(i),e;if(o===r)return Xe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,ot=[],at=null,st=null,ut=null,ct=new Map,lt=new Map,ht=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lt.delete(t.pointerId)}}function gt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=dt(t,n,r,i,o),null!==t&&null!==(t=Zr(t))&&tt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=Jr(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Zr(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){vt(e)&&n.delete(t)}function _t(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=Zr(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==at&&vt(at)&&(at=null),null!==st&&vt(st)&&(st=null),null!==ut&&vt(ut)&&(ut=null),ct.forEach(yt),lt.forEach(yt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,_t)))}function wt(e){function t(t){return bt(t,e)}if(0<ot.length){bt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&bt(at,e),null!==st&&bt(st,e),null!==ut&&bt(ut,e),ct.forEach(t),lt.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)mt(n),null===n.blockedOn&&ht.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var It={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},St={},kt={};function Tt(e){if(St[e])return St[e];if(!It[e])return e;var t,n=It[e];for(t in n)if(n.hasOwnProperty(t)&&t in kt)return St[e]=n[t];return e}h&&(kt=document.createElement("div").style,"AnimationEvent"in window||(delete It.animationend.animation,delete It.animationiteration.animation,delete It.animationstart.animation),"TransitionEvent"in window||delete It.transitionend.transition);var Ct=Tt("animationend"),xt=Tt("animationiteration"),Nt=Tt("animationstart"),At=Tt("transitionend"),Pt=new Map,Rt=new Map,Ot=["abort","abort",Ct,"animationEnd",xt,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",At,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Rt.set(r,t),Pt.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Lt=8;function Mt(e){if(0!=(1&e))return Lt=15,1;if(0!=(2&e))return Lt=14,2;if(0!=(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!=(32&e)?(Lt=11,32):0!=(t=192&e)?(Lt=10,t):0!=(256&e)?(Lt=9,256):0!=(t=3584&e)?(Lt=8,t):0!=(4096&e)?(Lt=7,4096):0!=(t=4186112&e)?(Lt=6,t):0!=(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!=(134217728&e)?(Lt=3,134217728):0!=(t=805306368&e)?(Lt=2,t):0!=(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Lt=15;else if(0!=(o=134217727&n)){var u=o&~a;0!==u?(r=Mt(u),i=Lt):0!=(s&=o)&&(r=Mt(s),i=Lt)}else 0!=(o=n&~a)?(r=Mt(o),i=Lt):0!==s&&(r=Mt(s),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-zt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&a)){if(Mt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-zt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function jt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=qt(24&~t))?jt(10,t):e;case 10:return 0===(e=qt(192&~t))?jt(8,t):e;case 8:return 0===(e=qt(3584&~t))&&0===(e=qt(4186112&~t))&&(e=512),e;case 2:return 0===(t=qt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function qt(e){return e&-e}function Vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-zt(t)]=n}var zt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Kt(e)/Wt|0)|0},Kt=Math.log,Wt=Math.LN2,Ht=o.unstable_UserBlockingPriority,Gt=o.unstable_runWithPriority,Qt=!0;function $t(e,t,n,r){Me||De();var i=Xt,o=Me;Me=!0;try{Oe(i,e,t,n,r)}finally{(Me=o)||Ue()}}function Yt(e,t,n,r){Gt(Ht,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if(Qt)if((i=0==(4&t))&&0<ot.length&&-1<ft.indexOf(e))e=dt(null,e,t,n,r),ot.push(e);else{var o=Jt(e,t,n,r);if(null===o)i&&pt(e,r);else{if(i){if(-1<ft.indexOf(e))return e=dt(o,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return at=gt(at,e,t,n,r,i),!0;case"dragenter":return st=gt(st,e,t,n,r,i),!0;case"mouseover":return ut=gt(ut,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ct.set(o,gt(ct.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,lt.set(o,gt(lt.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;pt(e,r)}Pr(e,t,r,null,n)}}}function Jt(e,t,n,r){var i=ke(r);if(null!==(i=Jr(i))){var o=$e(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Ye(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Pr(e,t,r,i,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function an(){return!1}function sn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:an,this.isPropagationStopped=an,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var un,cn,ln,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=sn(hn),dn=i({},hn,{view:0,detail:0}),pn=sn(dn),gn=i({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(un=e.screenX-ln.screenX,cn=e.screenY-ln.screenY):cn=un=0,ln=e),un)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),mn=sn(gn),vn=sn(i({},gn,{dataTransfer:0})),yn=sn(i({},dn,{relatedTarget:0})),_n=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=sn(i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),wn=sn(i({},hn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Tn(){return kn}var Cn=sn(i({},dn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),xn=sn(i({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(i({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),An=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=sn(i({},gn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Rn=[9,13,27,32],On=h&&"CompositionEvent"in window,Dn=null;h&&"documentMode"in document&&(Dn=document.documentMode);var Ln=h&&"TextEvent"in window&&!Dn,Mn=h&&(!On||Dn&&8<Dn&&11>=Dn),Fn=String.fromCharCode(32),Un=!1;function jn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1,Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ae(r),0<(t=Or(t,"onChange")).length&&(n=new fn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Hn=null;function Gn(e){kr(e,0)}function Qn(e){if(X(ei(e)))return e}function $n(e,t){if("change"===e)return t}var Yn=!1;if(h){var Xn;if(h){var Jn="oninput"in document;if(!Jn){var Zn=document.createElement("div");Zn.setAttribute("oninput","return;"),Jn="function"==typeof Zn.oninput}Xn=Jn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function er(){Wn&&(Wn.detachEvent("onpropertychange",tr),Hn=Wn=null)}function tr(e){if("value"===e.propertyName&&Qn(Hn)){var t=[];if(Kn(t,Hn,e,ke(e)),e=Gn,Me)e(t);else{Me=!0;try{Re(e,t)}finally{Me=!1,Ue()}}}}function nr(e,t,n){"focusin"===e?(er(),Hn=n,(Wn=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Hn)}function ir(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var ar="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},sr=Object.prototype.hasOwnProperty;function ur(e,t){if(ar(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!sr.call(t,n[r])||!ar(e[n[r]],t[n[r]]))return!1;return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var pr=h&&"documentMode"in document&&11>=document.documentMode,gr=null,mr=null,vr=null,yr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==gr||gr!==J(r)||(r="selectionStart"in(r=gr)&&dr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&ur(vr,r)||(vr=r,0<(r=Or(mr,"onSelect")).length&&(t=new fn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(Ot,2);for(var br="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),wr=0;wr<br.length;wr++)Rt.set(br[wr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Er));function Sr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Qe.apply(this,arguments),ze){if(!ze)throw Error(a(198));var l=Ke;ze=!1,Ke=null,We||(We=!0,He=l)}}(r,t,void 0,e),e.currentTarget=null}function kr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Sr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Sr(i,s,c),o=u}}}if(We)throw e=He,We=!1,He=null,e}function Tr(e,t){var n=ni(t),r=e+"__bubble";n.has(r)||(Ar(t,e,2,!1),n.add(r))}var Cr="_reactListening"+Math.random().toString(36).slice(2);function xr(e){e[Cr]||(e[Cr]=!0,s.forEach((function(t){Ir.has(t)||Nr(t,!1,e,null),Nr(t,!0,e,null)})))}function Nr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Ir.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ni(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Ar(o,e,i,t),a.add(s))}function Ar(e,t,n,r){var i=Rt.get(t);switch(void 0===i?2:i){case 0:i=$t;break;case 1:i=Yt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!qe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Pr(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=Jr(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e();Fe=!0;try{Le(e,t,n)}finally{Fe=!1,Ue()}}((function(){var r=o,i=ke(n),a=[];e:{var s=Pt.get(e);if(void 0!==s){var u=fn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":u=Cn;break;case"focusin":c="focus",u=yn;break;case"focusout":c="blur",u=yn;break;case"beforeblur":case"afterblur":u=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Ct:case xt:case Nt:u=_n;break;case At:u=An;break;case"scroll":u=pn;break;case"wheel":u=Pn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=xn}var l=0!=(4&t),h=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var g=(d=p).stateNode;if(5===d.tag&&null!==g&&(d=g,null!==f&&null!=(g=je(p,f))&&l.push(Rr(p,g,d))),h)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0==(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(c=n.relatedTarget||n.fromElement)||!Jr(c)&&!c[Yr])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Jr(c):null)&&(c!==(h=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=mn,g="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=xn,g="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:ei(u),d=null==c?s:ei(c),(s=new l(g,p+"leave",u,n,i)).target=h,s.relatedTarget=d,g=null,Jr(i)===r&&((l=new l(f,p+"enter",c,n,i)).target=d,l.relatedTarget=h,g=l),h=g,u&&c)e:{for(f=c,p=0,d=l=u;d;d=Dr(d))p++;for(d=0,g=f;g;g=Dr(g))d++;for(;0<p-d;)l=Dr(l),p--;for(;0<d-p;)f=Dr(f),d--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=Dr(l),f=Dr(f)}l=null}else l=null;null!==u&&Lr(a,s,u,l,!1),null!==c&&null!==h&&Lr(a,h,c,l,!0)}if("select"===(u=(s=r?ei(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=$n;else if(zn(s))if(Yn)m=or;else{m=rr;var v=nr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ir);switch(m&&(m=m(e,r))?Kn(a,m,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ie(s,"number",s.value)),v=r?ei(r):window,e){case"focusin":(zn(v)||"true"===v.contentEditable)&&(gr=v,mr=r,vr=null);break;case"focusout":vr=mr=gr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,_r(a,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":_r(a,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Vn?jn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Mn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Vn&&(y=nn()):(en="value"in(Zt=i)?Zt.value:Zt.textContent,Vn=!0)),0<(v=Or(r,_)).length&&(_=new wn(_,e,null,n,i),a.push({event:_,listeners:v}),(y||null!==(y=qn(n)))&&(_.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!On&&jn(e,t)?(e=nn(),tn=en=Zt=null,Vn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&0<(r=Or(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y)}kr(a,t)}))}function Rr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Or(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=je(e,n))&&r.unshift(Rr(e,o,i)),null!=(o=je(e,t))&&r.push(Rr(e,o,i))),e=e.return}return r}function Dr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Lr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=je(n,o))&&a.unshift(Rr(n,u,s)):i||null!=(u=je(n,o))&&a.push(Rr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Mr(){}var Fr=null,Ur=null;function jr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function qr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Vr="function"==typeof setTimeout?setTimeout:void 0,Br="function"==typeof clearTimeout?clearTimeout:void 0;function zr(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function Kr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Wr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Hr=0,Gr=Math.random().toString(36).slice(2),Qr="__reactFiber$"+Gr,$r="__reactProps$"+Gr,Yr="__reactContainer$"+Gr,Xr="__reactEvents$"+Gr;function Jr(e){var t=e[Qr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Yr]||n[Qr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Wr(e);null!==e;){if(n=e[Qr])return n;e=Wr(e)}return t}n=(e=n).parentNode}return null}function Zr(e){return!(e=e[Qr]||e[Yr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ei(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ti(e){return e[$r]||null}function ni(e){var t=e[Xr];return void 0===t&&(t=e[Xr]=new Set),t}var ri=[],ii=-1;function oi(e){return{current:e}}function ai(e){0>ii||(e.current=ri[ii],ri[ii]=null,ii--)}function si(e,t){ii++,ri[ii]=e.current,e.current=t}var ui={},ci=oi(ui),li=oi(!1),hi=ui;function fi(e,t){var n=e.type.contextTypes;if(!n)return ui;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function di(e){return null!=e.childContextTypes}function pi(){ai(li),ai(ci)}function gi(e,t,n){if(ci.current!==ui)throw Error(a(168));si(ci,t),si(li,n)}function mi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,G(t)||"Unknown",o));return i({},n,r)}function vi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ui,hi=ci.current,si(ci,e),si(li,li.current),!0}function yi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=mi(e,t,hi),r.__reactInternalMemoizedMergedChildContext=e,ai(li),ai(ci),si(ci,e)):ai(li),si(li,n)}var _i=null,bi=null,wi=o.unstable_runWithPriority,Ei=o.unstable_scheduleCallback,Ii=o.unstable_cancelCallback,Si=o.unstable_shouldYield,ki=o.unstable_requestPaint,Ti=o.unstable_now,Ci=o.unstable_getCurrentPriorityLevel,xi=o.unstable_ImmediatePriority,Ni=o.unstable_UserBlockingPriority,Ai=o.unstable_NormalPriority,Pi=o.unstable_LowPriority,Ri=o.unstable_IdlePriority,Oi={},Di=void 0!==ki?ki:function(){},Li=null,Mi=null,Fi=!1,Ui=Ti(),ji=1e4>Ui?Ti:function(){return Ti()-Ui};function qi(){switch(Ci()){case xi:return 99;case Ni:return 98;case Ai:return 97;case Pi:return 96;case Ri:return 95;default:throw Error(a(332))}}function Vi(e){switch(e){case 99:return xi;case 98:return Ni;case 97:return Ai;case 96:return Pi;case 95:return Ri;default:throw Error(a(332))}}function Bi(e,t){return e=Vi(e),wi(e,t)}function zi(e,t,n){return e=Vi(e),Ei(e,t,n)}function Ki(){if(null!==Mi){var e=Mi;Mi=null,Ii(e)}Wi()}function Wi(){if(!Fi&&null!==Li){Fi=!0;var e=0;try{var t=Li;Bi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Li=null}catch(t){throw null!==Li&&(Li=Li.slice(e+1)),Ei(xi,Ki),t}finally{Fi=!1}}}var Hi=w.ReactCurrentBatchConfig;function Gi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Qi=oi(null),$i=null,Yi=null,Xi=null;function Ji(){Xi=Yi=$i=null}function Zi(e){var t=Qi.current;ai(Qi),e.type._context._currentValue=t}function eo(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function to(e,t){$i=e,Xi=Yi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Oa=!0),e.firstContext=null)}function no(e,t){if(Xi!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Xi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Yi){if(null===$i)throw Error(a(308));Yi=t,$i.dependencies={lanes:0,firstContext:t,responders:null}}else Yi=Yi.next=t;return e._currentValue}var ro=!1;function io(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function oo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ao(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function so(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function uo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function co(e,t,n,r){var o=e.updateQueue;ro=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var h=e.alternate;if(null!==h){var f=(h=h.updateQueue).lastBaseUpdate;f!==s&&(null===f?h.firstBaseUpdate=l:f.next=l,h.lastBaseUpdate=c)}}if(null!==a){for(f=o.baseState,s=0,h=l=c=null;;){u=a.lane;var d=a.eventTime;if((r&u)===u){null!==h&&(h=h.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(u=t,d=n,g.tag){case 1:if("function"==typeof(p=g.payload)){f=p.call(d,f,u);break e}f=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(u="function"==typeof(p=g.payload)?p.call(d,f,u):p))break e;f=i({},f,u);break e;case 2:ro=!0}}null!==a.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else d={eventTime:d,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===h?(l=h=d,c=f):h=h.next=d,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===h&&(c=f),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=h,Ls|=s,e.lanes=s,e.memoizedState=f}}function lo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var ho=(new r.Component).refs;function fo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var po={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=au(),i=su(e),o=ao(r,i);o.payload=t,null!=n&&(o.callback=n),so(e,o),uu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=au(),i=su(e),o=ao(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),so(e,o),uu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=au(),r=su(e),i=ao(n,r);i.tag=2,null!=t&&(i.callback=t),so(e,i),uu(e,r,n)}};function go(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&ur(n,r)&&ur(i,o))}function mo(e,t,n){var r=!1,i=ui,o=t.contextType;return"object"==typeof o&&null!==o?o=no(o):(i=di(t)?hi:ci.current,o=(r=null!=(r=t.contextTypes))?fi(e,i):ui),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=po,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function vo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function yo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ho,io(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=no(o):(o=di(t)?hi:ci.current,i.context=fi(e,o)),co(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(fo(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&po.enqueueReplaceState(i,i.state,null),co(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var _o=Array.isArray;function bo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===ho&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function wo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Eo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=qu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Ku(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=bo(e,t,n),r.return=e,r):((r=Vu(n.type,n.key,n.props,null,e.mode,r)).ref=bo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Bu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Ku(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Vu(t.type,t.key,t.props,null,e.mode,n)).ref=bo(e,null,t),n.return=e,n;case I:return(t=Wu(t,e.mode,n)).return=e,t}if(_o(t)||B(t))return(t=Bu(t,e.mode,n,null)).return=e,t;wo(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===S?h(e,t,n.props.children,r,i):c(e,t,n,r):null;case I:return n.key===i?l(e,t,n,r):null}if(_o(n)||B(n))return null!==i?null:h(e,t,n,r,null);wo(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===S?h(t,e,r.props.children,i,r.key):c(t,e,r,i);case I:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(_o(r)||B(r))return h(t,e=e.get(n)||null,r,i,null);wo(t,r)}return null}function g(i,a,s,u){for(var c=null,l=null,h=a,g=a=0,m=null;null!==h&&g<s.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=d(i,h,s[g],u);if(null===v){null===h&&(h=m);break}e&&h&&null===v.alternate&&t(i,h),a=o(v,a,g),null===l?c=v:l.sibling=v,l=v,h=m}if(g===s.length)return n(i,h),c;if(null===h){for(;g<s.length;g++)null!==(h=f(i,s[g],u))&&(a=o(h,a,g),null===l?c=h:l.sibling=h,l=h);return c}for(h=r(i,h);g<s.length;g++)null!==(m=p(h,i,g,s[g],u))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),a=o(m,a,g),null===l?c=m:l.sibling=m,l=m);return e&&h.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=B(u);if("function"!=typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var h=l=null,g=s,m=s=0,v=null,y=u.next();null!==g&&!y.done;m++,y=u.next()){g.index>m?(v=g,g=null):v=g.sibling;var _=d(i,g,y.value,c);if(null===_){null===g&&(g=v);break}e&&g&&null===_.alternate&&t(i,g),s=o(_,s,m),null===h?l=_:h.sibling=_,h=_,g=v}if(y.done)return n(i,g),l;if(null===g){for(;!y.done;m++,y=u.next())null!==(y=f(i,y.value,c))&&(s=o(y,s,m),null===h?l=y:h.sibling=y,h=y);return l}for(g=r(i,g);!y.done;m++,y=u.next())null!==(y=p(g,i,m,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),s=o(y,s,m),null===h?l=y:h.sibling=y,h=y);return e&&g.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"==typeof o&&null!==o&&o.type===S&&null===o.key;c&&(o=o.props.children);var l="object"==typeof o&&null!==o;if(l)switch(o.$$typeof){case E:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){switch(c.tag){case 7:if(o.type===S){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}break;default:if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=bo(e,c,o),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}o.type===S?((r=Bu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Vu(o.type,o.key,o.props,null,e.mode,u)).ref=bo(e,r,o),u.return=e,e=u)}return s(e);case I:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Wu(o,e.mode,u)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Ku(o,e.mode,u)).return=e,e=r),s(e);if(_o(o))return g(e,r,o,u);if(B(o))return m(e,r,o,u);if(l&&wo(e,o),void 0===o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,G(e.type)||"Component"))}return n(e,r)}}var Io=Eo(!0),So=Eo(!1),ko={},To=oi(ko),Co=oi(ko),xo=oi(ko);function No(e){if(e===ko)throw Error(a(174));return e}function Ao(e,t){switch(si(xo,t),si(Co,e),si(To,ko),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:de(null,"");break;default:t=de(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ai(To),si(To,t)}function Po(){ai(To),ai(Co),ai(xo)}function Ro(e){No(xo.current);var t=No(To.current),n=de(t,e.type);t!==n&&(si(Co,e),si(To,n))}function Oo(e){Co.current===e&&(ai(To),ai(Co))}var Do=oi(0);function Lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mo=null,Fo=null,Uo=!1;function jo(e,t){var n=Uu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Vo(e){if(Uo){var t=Fo;if(t){var n=t;if(!qo(e,t)){if(!(t=Kr(n.nextSibling))||!qo(e,t))return e.flags=-1025&e.flags|2,Uo=!1,void(Mo=e);jo(Mo,n)}Mo=e,Fo=Kr(t.firstChild)}else e.flags=-1025&e.flags|2,Uo=!1,Mo=e}}function Bo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Mo=e}function zo(e){if(e!==Mo)return!1;if(!Uo)return Bo(e),Uo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!qr(t,e.memoizedProps))for(t=Fo;t;)jo(e,t),t=Kr(t.nextSibling);if(Bo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Fo=Kr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Fo=null}}else Fo=Mo?Kr(e.stateNode.nextSibling):null;return!0}function Ko(){Fo=Mo=null,Uo=!1}var Wo=[];function Ho(){for(var e=0;e<Wo.length;e++)Wo[e]._workInProgressVersionPrimary=null;Wo.length=0}var Go=w.ReactCurrentDispatcher,Qo=w.ReactCurrentBatchConfig,$o=0,Yo=null,Xo=null,Jo=null,Zo=!1,ea=!1;function ta(){throw Error(a(321))}function na(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function ra(e,t,n,r,i,o){if($o=o,Yo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Go.current=null===e||null===e.memoizedState?Na:Aa,e=n(r,i),ea){o=0;do{if(ea=!1,!(25>o))throw Error(a(301));o+=1,Jo=Xo=null,t.updateQueue=null,Go.current=Pa,e=n(r,i)}while(ea)}if(Go.current=xa,t=null!==Xo&&null!==Xo.next,$o=0,Jo=Xo=Yo=null,Zo=!1,t)throw Error(a(300));return e}function ia(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Jo?Yo.memoizedState=Jo=e:Jo=Jo.next=e,Jo}function oa(){if(null===Xo){var e=Yo.alternate;e=null!==e?e.memoizedState:null}else e=Xo.next;var t=null===Jo?Yo.memoizedState:Jo.next;if(null!==t)Jo=t,Xo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Xo=e).memoizedState,baseState:Xo.baseState,baseQueue:Xo.baseQueue,queue:Xo.queue,next:null},null===Jo?Yo.memoizedState=Jo=e:Jo=Jo.next=e}return Jo}function aa(e,t){return"function"==typeof t?t(e):t}function sa(e){var t=oa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Xo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.lane;if(($o&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var h={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=h,o=r):u=u.next=h,Yo.lanes|=l,Ls|=l}c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,ar(r,t.memoizedState)||(Oa=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ua(e){var t=oa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);ar(o,t.memoizedState)||(Oa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ca(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=($o&e)===e)&&(t._workInProgressVersionPrimary=r,Wo.push(t))),e)return n(t._source);throw Wo.push(t),Error(a(350))}function la(e,t,n,r){var i=Cs;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),u=Go.current,c=u.useState((function(){return ca(i,t,n)})),l=c[1],h=c[0];c=Jo;var f=e.memoizedState,d=f.refs,p=d.getSnapshot,g=f.source;f=f.subscribe;var m=Yo;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=o(t._source);if(!ar(s,e)){e=n(t._source),ar(h,e)||(l(e),e=su(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var u=31-zt(a),c=1<<u;r[u]|=e,a&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=su(m);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),ar(p,n)&&ar(g,t)&&ar(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:aa,lastRenderedState:h}).dispatch=l=Ca.bind(null,Yo,e),c.queue=e,c.baseQueue=null,h=ca(i,t,n),c.memoizedState=c.baseState=h),h}function ha(e,t,n){return la(oa(),e,t,n)}function fa(e){var t=ia();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:aa,lastRenderedState:e}).dispatch=Ca.bind(null,Yo,e),[t.memoizedState,e]}function da(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Yo.updateQueue)?(t={lastEffect:null},Yo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function pa(e){return e={current:e},ia().memoizedState=e}function ga(){return oa().memoizedState}function ma(e,t,n,r){var i=ia();Yo.flags|=e,i.memoizedState=da(1|t,n,void 0,void 0===r?null:r)}function va(e,t,n,r){var i=oa();r=void 0===r?null:r;var o=void 0;if(null!==Xo){var a=Xo.memoizedState;if(o=a.destroy,null!==r&&na(r,a.deps))return void da(t,n,o,r)}Yo.flags|=e,i.memoizedState=da(1|t,n,o,r)}function ya(e,t){return ma(516,4,e,t)}function _a(e,t){return va(516,4,e,t)}function ba(e,t){return va(4,2,e,t)}function wa(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ea(e,t,n){return n=null!=n?n.concat([e]):null,va(4,2,wa.bind(null,t,e),n)}function Ia(){}function Sa(e,t){var n=oa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&na(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ka(e,t){var n=oa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&na(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ta(e,t){var n=qi();Bi(98>n?98:n,(function(){e(!0)})),Bi(97<n?97:n,(function(){var n=Qo.transition;Qo.transition=1;try{e(!1),t()}finally{Qo.transition=n}}))}function Ca(e,t,n){var r=au(),i=su(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Yo||null!==a&&a===Yo)ea=Zo=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,ar(u,s))return}catch(e){}uu(e,i,r)}}var xa={readContext:no,useCallback:ta,useContext:ta,useEffect:ta,useImperativeHandle:ta,useLayoutEffect:ta,useMemo:ta,useReducer:ta,useRef:ta,useState:ta,useDebugValue:ta,useDeferredValue:ta,useTransition:ta,useMutableSource:ta,useOpaqueIdentifier:ta,unstable_isNewReconciler:!1},Na={readContext:no,useCallback:function(e,t){return ia().memoizedState=[e,void 0===t?null:t],e},useContext:no,useEffect:ya,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ma(4,2,wa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ma(4,2,e,t)},useMemo:function(e,t){var n=ia();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ia();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ca.bind(null,Yo,e),[r.memoizedState,e]},useRef:pa,useState:fa,useDebugValue:Ia,useDeferredValue:function(e){var t=fa(e),n=t[0],r=t[1];return ya((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=fa(!1),t=e[0];return pa(e=Ta.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ia();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},la(r,e,t,n)},useOpaqueIdentifier:function(){if(Uo){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Hr++).toString(36))),Error(a(355))})),n=fa(t)[1];return 0==(2&Yo.mode)&&(Yo.flags|=516,da(5,(function(){n("r:"+(Hr++).toString(36))}),void 0,null)),t}return fa(t="r:"+(Hr++).toString(36)),t},unstable_isNewReconciler:!1},Aa={readContext:no,useCallback:Sa,useContext:no,useEffect:_a,useImperativeHandle:Ea,useLayoutEffect:ba,useMemo:ka,useReducer:sa,useRef:ga,useState:function(){return sa(aa)},useDebugValue:Ia,useDeferredValue:function(e){var t=sa(aa),n=t[0],r=t[1];return _a((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=sa(aa)[0];return[ga().current,e]},useMutableSource:ha,useOpaqueIdentifier:function(){return sa(aa)[0]},unstable_isNewReconciler:!1},Pa={readContext:no,useCallback:Sa,useContext:no,useEffect:_a,useImperativeHandle:Ea,useLayoutEffect:ba,useMemo:ka,useReducer:ua,useRef:ga,useState:function(){return ua(aa)},useDebugValue:Ia,useDeferredValue:function(e){var t=ua(aa),n=t[0],r=t[1];return _a((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=ua(aa)[0];return[ga().current,e]},useMutableSource:ha,useOpaqueIdentifier:function(){return ua(aa)[0]},unstable_isNewReconciler:!1},Ra=w.ReactCurrentOwner,Oa=!1;function Da(e,t,n,r){t.child=null===e?So(t,null,n,r):Io(t,e.child,n,r)}function La(e,t,n,r,i){n=n.render;var o=t.ref;return to(t,i),r=ra(e,t,n,r,o,i),null===e||Oa?(t.flags|=1,Da(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Za(e,t,i))}function Ma(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||ju(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Vu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Fa(e,t,a,r,i,o))}return a=e.child,0==(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:ur)(i,r)&&e.ref===t.ref)?Za(e,t,o):(t.flags|=1,(e=qu(a,r)).ref=t.ref,e.return=t,t.child=e)}function Fa(e,t,n,r,i,o){if(null!==e&&ur(e.memoizedProps,r)&&e.ref===t.ref){if(Oa=!1,0==(o&i))return t.lanes=e.lanes,Za(e,t,o);0!=(16384&e.flags)&&(Oa=!0)}return qa(e,t,n,r,o)}function Ua(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},mu(0,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},mu(0,e),null;t.memoizedState={baseLanes:0},mu(0,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,mu(0,r);return Da(e,t,i,n),t.child}function ja(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function qa(e,t,n,r,i){var o=di(n)?hi:ci.current;return o=fi(t,o),to(t,i),n=ra(e,t,n,r,o,i),null===e||Oa?(t.flags|=1,Da(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Za(e,t,i))}function Va(e,t,n,r,i){if(di(n)){var o=!0;vi(t)}else o=!1;if(to(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),mo(t,n,r),yo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;c="object"==typeof c&&null!==c?no(c):fi(t,c=di(n)?hi:ci.current);var l=n.getDerivedStateFromProps,h="function"==typeof l||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==c)&&vo(t,a,r,c),ro=!1;var f=t.memoizedState;a.state=f,co(t,r,a,i),u=t.memoizedState,s!==r||f!==u||li.current||ro?("function"==typeof l&&(fo(t,n,l,r),u=t.memoizedState),(s=ro||go(t,n,s,r,f,u,c))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,oo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Gi(t.type,s),a.props=c,h=t.pendingProps,f=a.context,u="object"==typeof(u=n.contextType)&&null!==u?no(u):fi(t,u=di(n)?hi:ci.current);var d=n.getDerivedStateFromProps;(l="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==h||f!==u)&&vo(t,a,r,u),ro=!1,f=t.memoizedState,a.state=f,co(t,r,a,i);var p=t.memoizedState;s!==h||f!==p||li.current||ro?("function"==typeof d&&(fo(t,n,d,r),p=t.memoizedState),(c=ro||go(t,n,c,r,f,p,u))?(l||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return Ba(e,t,n,r,o,i)}function Ba(e,t,n,r,i,o){ja(e,t);var a=0!=(64&t.flags);if(!r&&!a)return i&&yi(t,n,!1),Za(e,t,o);r=t.stateNode,Ra.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Io(t,e.child,null,o),t.child=Io(t,null,s,o)):Da(e,t,s,o),t.memoizedState=r.state,i&&yi(t,n,!0),t.child}function za(e){var t=e.stateNode;t.pendingContext?gi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&gi(0,t.context,!1),Ao(e,t.containerInfo)}var Ka,Wa,Ha,Ga={dehydrated:null,retryLane:0};function Qa(e,t,n){var r,i=t.pendingProps,o=Do.current,a=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),si(Do,1&o),null===e?(void 0!==i.fallback&&Vo(t),e=i.children,o=i.fallback,a?(e=$a(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ga,e):"number"==typeof i.unstable_expectedLoadTime?(e=$a(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ga,t.lanes=33554432,e):((n=zu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=function(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0==(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=qu(a,s),null!==e?r=qu(e,r):(r=Bu(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Ga,i):(n=function(e,t,n,r){var i=e.child;return e=i.sibling,n=qu(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,i.children,n),t.memoizedState=null,n))}function $a(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=zu(t,i,0,null),n=Bu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function Ya(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),eo(e.return,t)}function Xa(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function Ja(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Da(e,t,r.children,n),0!=(2&(r=Do.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ya(e,n);else if(19===e.tag)Ya(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(si(Do,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Xa(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Xa(t,!0,n,null,o,t.lastEffect);break;case"together":Xa(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Za(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ls|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=qu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=qu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function es(e,t){if(!Uo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ts(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return di(t.type)&&pi(),null;case 3:return Po(),ai(li),ai(ci),Ho(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(zo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Oo(t);var o=No(xo.current);if(n=t.type,null!==e&&null!=t.stateNode)Wa(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=No(To.current),zo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Qr]=t,r[$r]=s,n){case"dialog":Tr("cancel",r),Tr("close",r);break;case"iframe":case"object":case"embed":Tr("load",r);break;case"video":case"audio":for(e=0;e<Er.length;e++)Tr(Er[e],r);break;case"source":Tr("error",r);break;case"img":case"image":case"link":Tr("error",r),Tr("load",r);break;case"details":Tr("toggle",r);break;case"input":ee(r,s),Tr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Tr("invalid",r);break;case"textarea":ue(r,s),Tr("invalid",r)}for(var c in Ie(n,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"==typeof o?r.textContent!==o&&(e=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Tr("scroll",r));switch(n){case"input":Y(r),re(r,s,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Mr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===he&&(e=fe(n)),e===he?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Qr]=t,e[$r]=r,Ka(e,t),t.stateNode=e,c=Se(n,r),n){case"dialog":Tr("cancel",e),Tr("close",e),o=r;break;case"iframe":case"object":case"embed":Tr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Er.length;o++)Tr(Er[o],e);o=r;break;case"source":Tr("error",e),o=r;break;case"img":case"image":case"link":Tr("error",e),Tr("load",e),o=r;break;case"details":Tr("toggle",e),o=r;break;case"input":ee(e,r),o=Z(e,r),Tr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Tr("invalid",e);break;case"textarea":ue(e,r),o=se(e,r),Tr("invalid",e);break;default:o=r}Ie(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var h=l[s];"style"===s?we(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&me(e,h):"children"===s?"string"==typeof h?("textarea"!==n||""!==h)&&ve(e,h):"number"==typeof h&&ve(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=h&&"onScroll"===s&&Tr("scroll",e):null!=h&&b(e,s,h,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Mr)}jr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ha(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=No(xo.current),No(To.current),zo(t)?(r=t.stateNode,n=t.memoizedProps,r[Qr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Qr]=t,t.stateNode=r)}return null;case 13:return ai(Do),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&zo(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Do.current)?0===Rs&&(Rs=3):(0!==Rs&&3!==Rs||(Rs=4),null===Cs||0==(134217727&Ls)&&0==(134217727&Ms)||fu(Cs,Ns))),(r||n)&&(t.flags|=4),null);case 4:return Po(),null===e&&xr(t.stateNode.containerInfo),null;case 10:return Zi(t),null;case 17:return di(t.type)&&pi(),null;case 19:if(ai(Do),null===(r=t.memoizedState))return null;if(s=0!=(64&t.flags),null===(c=r.rendering))if(s)es(r,!1);else{if(0!==Rs||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Lo(e))){for(t.flags|=64,es(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return si(Do,1&Do.current|2),t.child}e=e.sibling}null!==r.tail&&ji()>qs&&(t.flags|=64,s=!0,es(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Lo(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),es(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Uo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*ji()-r.renderingStartTime>qs&&1073741824!==n&&(t.flags|=64,s=!0,es(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=ji(),n.sibling=null,t=Do.current,si(Do,s?1&t|2:1&t),n):null;case 23:case 24:return vu(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function ns(e){switch(e.tag){case 1:di(e.type)&&pi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Po(),ai(li),ai(ci),Ho(),0!=(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Oo(e),null;case 13:return ai(Do),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ai(Do),null;case 4:return Po(),null;case 10:return Zi(e),null;case 23:case 24:return vu(),null;default:return null}}function rs(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function is(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Ka=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Wa=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,No(To.current);var a,s=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Mr)}for(h in Ie(n,r),n=null,o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var c=o[h];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(u.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var l=r[h];if(c=null!=o?o[h]:void 0,r.hasOwnProperty(h)&&l!==c&&(null!=l||null!=c))if("style"===h)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(h,n)),n=l;else"dangerouslySetInnerHTML"===h?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(h,l)):"children"===h?"string"!=typeof l&&"number"!=typeof l||(s=s||[]).push(h,""+l):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(u.hasOwnProperty(h)?(null!=l&&"onScroll"===h&&Tr("scroll",e),s||c===l||(s=[])):"object"==typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(h,l))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}},Ha=function(e,t,n,r){n!==r&&(t.flags|=4)};var os="function"==typeof WeakMap?WeakMap:Map;function as(e,t,n){(n=ao(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Ws=r),is(0,t)},n}function ss(e,t,n){(n=ao(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return is(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Hs?Hs=new Set([this]):Hs.add(this),is(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var us="function"==typeof WeakSet?WeakSet:Set;function cs(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Du(e,t)}else t.current=null}function ls(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Gi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&zr(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(a(163))}function hs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Pu(n,e),Au(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Gi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&lo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}lo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&jr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&wt(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function fs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ds(e,t){if(bi&&"function"==typeof bi.onCommitFiberUnmount)try{bi.onCommitFiberUnmount(_i,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Pu(t,n);else{r=t;try{i()}catch(e){Du(r,e)}}n=n.next}while(n!==e)}break;case 1:if(cs(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Du(t,e)}break;case 5:cs(t);break;case 4:_s(e,t)}}function ps(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function gs(e){return 5===e.tag||3===e.tag||4===e.tag}function ms(e){e:{for(var t=e.return;null!==t;){if(gs(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ve(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||gs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?vs(e,n,t):ys(e,n,t)}function vs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Mr));else if(4!==r&&null!==(e=e.child))for(vs(e,t,n),e=e.sibling;null!==e;)vs(e,t,n),e=e.sibling}function ys(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ys(e,t,n),e=e.sibling;null!==e;)ys(e,t,n),e=e.sibling}function _s(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ds(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ds(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function bs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[$r]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?we(n,u):"dangerouslySetInnerHTML"===s?me(n,u):"children"===s?ve(n,u):b(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,wt(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(js=ji(),fs(t.child,!0)),void ws(t);case 19:return void ws(t);case 17:return;case 23:case 24:return void fs(t,null!==t.memoizedState)}throw Error(a(163))}function ws(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new us),t.forEach((function(t){var r=Mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Es(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var Is=Math.ceil,Ss=w.ReactCurrentDispatcher,ks=w.ReactCurrentOwner,Ts=0,Cs=null,xs=null,Ns=0,As=0,Ps=oi(0),Rs=0,Os=null,Ds=0,Ls=0,Ms=0,Fs=0,Us=null,js=0,qs=1/0;function Vs(){qs=ji()+500}var Bs,zs=null,Ks=!1,Ws=null,Hs=null,Gs=!1,Qs=null,$s=90,Ys=[],Xs=[],Js=null,Zs=0,eu=null,tu=-1,nu=0,ru=0,iu=null,ou=!1;function au(){return 0!=(48&Ts)?ji():-1!==tu?tu:tu=ji()}function su(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===qi()?1:2;if(0===nu&&(nu=Ds),0!==Hi.transition){0!==ru&&(ru=null!==Us?Us.pendingLanes:0),e=nu;var t=4186112&~ru;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=qi(),e=jt(0!=(4&Ts)&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),nu)}function uu(e,t,n){if(50<Zs)throw Zs=0,eu=null,Error(a(185));if(null===(e=cu(e,t)))return null;Bt(e,t,n),e===Cs&&(Ms|=t,4===Rs&&fu(e,Ns));var r=qi();1===t?0!=(8&Ts)&&0==(48&Ts)?du(e):(lu(e,n),0===Ts&&(Vs(),Ki())):(0==(4&Ts)||98!==r&&99!==r||(null===Js?Js=new Set([e]):Js.add(e)),lu(e,n)),Us=e}function cu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function lu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-zt(s),c=1<<u,l=o[u];if(-1===l){if(0==(c&r)||0!=(c&i)){l=t,Mt(c);var h=Lt;o[u]=10<=h?l+250:6<=h?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ft(e,e===Cs?Ns:0),t=Lt,0===r)null!==n&&(n!==Oi&&Ii(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Oi&&Ii(n)}15===t?(n=du.bind(null,e),null===Li?(Li=[n],Mi=Ei(xi,Wi)):Li.push(n),n=Oi):n=14===t?zi(99,du.bind(null,e)):zi(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),hu.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function hu(e){if(tu=-1,ru=nu=0,0!=(48&Ts))throw Error(a(327));var t=e.callbackNode;if(Nu()&&e.callbackNode!==t)return null;var n=Ft(e,e===Cs?Ns:0);if(0===n)return null;var r=n,i=Ts;Ts|=16;var o=bu();for(Cs===e&&Ns===r||(Vs(),yu(e,r));;)try{Iu();break}catch(t){_u(e,t)}if(Ji(),Ss.current=o,Ts=i,null!==xs?r=0:(Cs=null,Ns=0,r=Rs),0!=(Ds&Ms))yu(e,0);else if(0!==r){if(2===r&&(Ts|=64,e.hydrate&&(e.hydrate=!1,zr(e.containerInfo)),0!==(n=Ut(e))&&(r=wu(e,n))),1===r)throw t=Os,yu(e,0),fu(e,n),lu(e,ji()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:Tu(e);break;case 3:if(fu(e,n),(62914560&n)===n&&10<(r=js+500-ji())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){au(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Vr(Tu.bind(null,e),r);break}Tu(e);break;case 4:if(fu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-zt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=ji()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Is(n/1960))-n)){e.timeoutHandle=Vr(Tu.bind(null,e),n);break}Tu(e);break;case 5:Tu(e);break;default:throw Error(a(329))}}return lu(e,ji()),e.callbackNode===t?hu.bind(null,e):null}function fu(e,t){for(t&=~Fs,t&=~Ms,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function du(e){if(0!=(48&Ts))throw Error(a(327));if(Nu(),e===Cs&&0!=(e.expiredLanes&Ns)){var t=Ns,n=wu(e,t);0!=(Ds&Ms)&&(n=wu(e,t=Ft(e,t)))}else n=wu(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Ts|=64,e.hydrate&&(e.hydrate=!1,zr(e.containerInfo)),0!==(t=Ut(e))&&(n=wu(e,t))),1===n)throw n=Os,yu(e,0),fu(e,t),lu(e,ji()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tu(e),lu(e,ji()),null}function pu(e,t){var n=Ts;Ts|=1;try{return e(t)}finally{0===(Ts=n)&&(Vs(),Ki())}}function gu(e,t){var n=Ts;Ts&=-2,Ts|=8;try{return e(t)}finally{0===(Ts=n)&&(Vs(),Ki())}}function mu(e,t){si(Ps,As),As|=t,Ds|=t}function vu(){As=Ps.current,ai(Ps)}function yu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Br(n)),null!==xs)for(n=xs.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&pi();break;case 3:Po(),ai(li),ai(ci),Ho();break;case 5:Oo(r);break;case 4:Po();break;case 13:case 19:ai(Do);break;case 10:Zi(r);break;case 23:case 24:vu()}n=n.return}Cs=e,xs=qu(e.current,null),Ns=As=Ds=t,Rs=0,Os=null,Fs=Ms=Ls=0}function _u(e,t){for(;;){var n=xs;try{if(Ji(),Go.current=xa,Zo){for(var r=Yo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Zo=!1}if($o=0,Jo=Xo=Yo=null,ea=!1,ks.current=null,null===n||null===n.return){Rs=1,Os=t,xs=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=Ns,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u;if(0==(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!=(1&Do.current),f=a;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var g=f.memoizedProps;d=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!h)}}if(d){var m=f.updateQueue;if(null===m){var v=new Set;v.add(c),f.updateQueue=v}else m.add(c);if(0==(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=ao(-1,1);y.tag=2,so(s,y)}s.lanes|=1;break e}u=void 0,s=t;var _=o.pingCache;if(null===_?(_=o.pingCache=new os,u=new Set,_.set(c,u)):void 0===(u=_.get(c))&&(u=new Set,_.set(c,u)),!u.has(s)){u.add(s);var b=Lu.bind(null,o,c,s);c.then(b,b)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Rs&&(Rs=2),u=rs(u,s),f=a;do{switch(f.tag){case 3:o=u,f.flags|=4096,t&=-t,f.lanes|=t,uo(f,as(0,o,t));break e;case 1:o=u;var w=f.type,E=f.stateNode;if(0==(64&f.flags)&&("function"==typeof w.getDerivedStateFromError||null!==E&&"function"==typeof E.componentDidCatch&&(null===Hs||!Hs.has(E)))){f.flags|=4096,t&=-t,f.lanes|=t,uo(f,ss(f,o,t));break e}}f=f.return}while(null!==f)}ku(n)}catch(e){t=e,xs===n&&null!==n&&(xs=n=n.return);continue}break}}function bu(){var e=Ss.current;return Ss.current=xa,null===e?xa:e}function wu(e,t){var n=Ts;Ts|=16;var r=bu();for(Cs===e&&Ns===t||yu(e,t);;)try{Eu();break}catch(t){_u(e,t)}if(Ji(),Ts=n,Ss.current=r,null!==xs)throw Error(a(261));return Cs=null,Ns=0,Rs}function Eu(){for(;null!==xs;)Su(xs)}function Iu(){for(;null!==xs&&!Si();)Su(xs)}function Su(e){var t=Bs(e.alternate,e,As);e.memoizedProps=e.pendingProps,null===t?ku(e):xs=t,ks.current=null}function ku(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=ts(n,t,As)))return void(xs=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&As)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=ns(t)))return n.flags&=2047,void(xs=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(xs=t);xs=t=e}while(null!==t);0===Rs&&(Rs=5)}function Tu(e){var t=qi();return Bi(99,Cu.bind(null,e,t)),null}function Cu(e,t){do{Nu()}while(null!==Qs);if(0!=(48&Ts))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var c=31-zt(o),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,o&=~l}if(null!==Js&&0==(24&r)&&Js.has(e)&&Js.delete(e),e===Cs&&(xs=Cs=null,Ns=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ts,Ts|=32,ks.current=null,Fr=Qt,dr(s=fr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(e){u=null;break e}var h=0,f=-1,d=-1,p=0,g=0,m=s,v=null;t:for(;;){for(var y;m!==u||0!==o&&3!==m.nodeType||(f=h+o),m!==c||0!==l&&3!==m.nodeType||(d=h+l),3===m.nodeType&&(h+=m.nodeValue.length),null!==(y=m.firstChild);)v=m,m=y;for(;;){if(m===s)break t;if(v===u&&++p===o&&(f=h),v===c&&++g===l&&(d=h),null!==(y=m.nextSibling))break;v=(m=v).parentNode}m=y}u=-1===f||-1===d?null:{start:f,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;Ur={focusedElem:s,selectionRange:u},Qt=!1,iu=null,ou=!1,zs=r;do{try{xu()}catch(e){if(null===zs)throw Error(a(330));Du(zs,e),zs=zs.nextEffect}}while(null!==zs);iu=null,zs=r;do{try{for(s=e;null!==zs;){var _=zs.flags;if(16&_&&ve(zs.stateNode,""),128&_){var b=zs.alternate;if(null!==b){var w=b.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&_){case 2:ms(zs),zs.flags&=-3;break;case 6:ms(zs),zs.flags&=-3,bs(zs.alternate,zs);break;case 1024:zs.flags&=-1025;break;case 1028:zs.flags&=-1025,bs(zs.alternate,zs);break;case 4:bs(zs.alternate,zs);break;case 8:_s(s,u=zs);var E=u.alternate;ps(u),null!==E&&ps(E)}zs=zs.nextEffect}}catch(e){if(null===zs)throw Error(a(330));Du(zs,e),zs=zs.nextEffect}}while(null!==zs);if(w=Ur,b=fr(),_=w.focusedElem,s=w.selectionRange,b!==_&&_&&_.ownerDocument&&hr(_.ownerDocument.documentElement,_)){null!==s&&dr(_)&&(b=s.start,void 0===(w=s.end)&&(w=b),"selectionStart"in _?(_.selectionStart=b,_.selectionEnd=Math.min(w,_.value.length)):(w=(b=_.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),u=_.textContent.length,E=Math.min(s.start,u),s=void 0===s.end?E:Math.min(s.end,u),!w.extend&&E>s&&(u=s,s=E,E=u),u=lr(_,E),o=lr(_,s),u&&o&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==o.node||w.focusOffset!==o.offset)&&((b=b.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),E>s?(w.addRange(b),w.extend(o.node,o.offset)):(b.setEnd(o.node,o.offset),w.addRange(b))))),b=[];for(w=_;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof _.focus&&_.focus(),_=0;_<b.length;_++)(w=b[_]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Qt=!!Fr,Ur=Fr=null,e.current=n,zs=r;do{try{for(_=e;null!==zs;){var I=zs.flags;if(36&I&&hs(_,zs.alternate,zs),128&I){b=void 0;var S=zs.ref;if(null!==S){var k=zs.stateNode;switch(zs.tag){case 5:b=k;break;default:b=k}"function"==typeof S?S(b):S.current=b}}zs=zs.nextEffect}}catch(e){if(null===zs)throw Error(a(330));Du(zs,e),zs=zs.nextEffect}}while(null!==zs);zs=null,Di(),Ts=i}else e.current=n;if(Gs)Gs=!1,Qs=e,$s=t;else for(zs=r;null!==zs;)t=zs.nextEffect,zs.nextEffect=null,8&zs.flags&&((I=zs).sibling=null,I.stateNode=null),zs=t;if(0===(r=e.pendingLanes)&&(Hs=null),1===r?e===eu?Zs++:(Zs=0,eu=e):Zs=0,n=n.stateNode,bi&&"function"==typeof bi.onCommitFiberRoot)try{bi.onCommitFiberRoot(_i,n,void 0,64==(64&n.current.flags))}catch(e){}if(lu(e,ji()),Ks)throw Ks=!1,e=Ws,Ws=null,e;return 0!=(8&Ts)||Ki(),null}function xu(){for(;null!==zs;){var e=zs.alternate;ou||null===iu||(0!=(8&zs.flags)?Ze(zs,iu)&&(ou=!0):13===zs.tag&&Es(e,zs)&&Ze(zs,iu)&&(ou=!0));var t=zs.flags;0!=(256&t)&&ls(e,zs),0==(512&t)||Gs||(Gs=!0,zi(97,(function(){return Nu(),null}))),zs=zs.nextEffect}}function Nu(){if(90!==$s){var e=97<$s?97:$s;return $s=90,Bi(e,Ru)}return!1}function Au(e,t){Ys.push(t,e),Gs||(Gs=!0,zi(97,(function(){return Nu(),null})))}function Pu(e,t){Xs.push(t,e),Gs||(Gs=!0,zi(97,(function(){return Nu(),null})))}function Ru(){if(null===Qs)return!1;var e=Qs;if(Qs=null,0!=(48&Ts))throw Error(a(331));var t=Ts;Ts|=32;var n=Xs;Xs=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===o)throw Error(a(330));Du(o,e)}}for(n=Ys,Ys=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(e){if(null===o)throw Error(a(330));Du(o,e)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Ts=t,Ki(),!0}function Ou(e,t,n){so(e,t=as(0,t=rs(n,t),1)),t=au(),null!==(e=cu(e,1))&&(Bt(e,1,t),lu(e,t))}function Du(e,t){if(3===e.tag)Ou(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Ou(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Hs||!Hs.has(r))){var i=ss(n,e=rs(t,e),1);if(so(n,i),i=au(),null!==(n=cu(n,1)))Bt(n,1,i),lu(n,i);else if("function"==typeof r.componentDidCatch&&(null===Hs||!Hs.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Lu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=au(),e.pingedLanes|=e.suspendedLanes&n,Cs===e&&(Ns&n)===n&&(4===Rs||3===Rs&&(62914560&Ns)===Ns&&500>ji()-js?yu(e,0):Fs|=n),lu(e,t)}function Mu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===qi()?1:2:(0===nu&&(nu=Ds),0===(t=qt(62914560&~nu))&&(t=4194304))),n=au(),null!==(e=cu(e,t))&&(Bt(e,t,n),lu(e,n))}function Fu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Uu(e,t,n,r){return new Fu(e,t,n,r)}function ju(e){return!(!(e=e.prototype)||!e.isReactComponent)}function qu(e,t){var n=e.alternate;return null===n?((n=Uu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vu(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)ju(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case S:return Bu(n.children,i,o,t);case M:s=8,i|=16;break;case k:s=8,i|=1;break;case T:return(e=Uu(12,n,t,8|i)).elementType=T,e.type=T,e.lanes=o,e;case A:return(e=Uu(13,n,t,i)).type=A,e.elementType=A,e.lanes=o,e;case P:return(e=Uu(19,n,t,i)).elementType=P,e.lanes=o,e;case F:return zu(n,i,o,t);case U:return(e=Uu(24,n,t,i)).elementType=U,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case x:s=9;break e;case N:s=11;break e;case R:s=14;break e;case O:s=16,r=null;break e;case D:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Uu(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Bu(e,t,n,r){return(e=Uu(7,e,r,t)).lanes=n,e}function zu(e,t,n,r){return(e=Uu(23,e,r,t)).elementType=F,e.lanes=n,e}function Ku(e,t,n){return(e=Uu(6,e,null,t)).lanes=n,e}function Wu(e,t,n){return(t=Uu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Vt(0),this.expirationTimes=Vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.mutableSourceEagerHydrationData=null}function Gu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:I,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Qu(e,t,n,r){var i=t.current,o=au(),s=su(i);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(di(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(di(c)){n=mi(n,c,u);break e}}n=u}else n=ui;return null===t.context?t.context=n:t.pendingContext=n,(t=ao(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),so(i,t),uu(i,s,o),s}function $u(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Yu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xu(e,t){Yu(e,t),(e=e.alternate)&&Yu(e,t)}function Ju(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Hu(e,t,null!=n&&!0===n.hydrate),t=Uu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,io(t),e[Yr]=n.current,xr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function Zu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ec(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=$u(a);s.call(e)}}Qu(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Ju(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var u=i;i=function(){var e=$u(a);u.call(e)}}gu((function(){Qu(t,a,e,i)}))}return $u(a)}function tc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zu(t))throw Error(a(200));return Gu(e,t,null,n)}Bs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||li.current)Oa=!0;else{if(0==(n&r)){switch(Oa=!1,t.tag){case 3:za(t),Ko();break;case 5:Ro(t);break;case 1:di(t.type)&&vi(t);break;case 4:Ao(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;si(Qi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Qa(e,t,n):(si(Do,1&Do.current),null!==(t=Za(e,t,n))?t.sibling:null);si(Do,1&Do.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return Ja(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),si(Do,Do.current),r)break;return null;case 23:case 24:return t.lanes=0,Ua(e,t,n)}return Za(e,t,n)}Oa=0!=(16384&e.flags)}else Oa=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=fi(t,ci.current),to(t,n),i=ra(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,di(r)){var o=!0;vi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,io(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&fo(t,r,s,e),i.updater=po,t.stateNode=i,i._reactInternals=t,yo(t,r,e,n),t=Ba(null,t,r,!0,o,n)}else t.tag=0,Da(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return ju(e)?1:0;if(null!=e){if((e=e.$$typeof)===N)return 11;if(e===R)return 14}return 2}(i),e=Gi(i,e),o){case 0:t=qa(null,t,i,e,n);break e;case 1:t=Va(null,t,i,e,n);break e;case 11:t=La(null,t,i,e,n);break e;case 14:t=Ma(null,t,i,Gi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,qa(e,t,r,i=t.elementType===r?i:Gi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Va(e,t,r,i=t.elementType===r?i:Gi(r,i),n);case 3:if(za(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,oo(e,t),co(t,r,null,n),(r=t.memoizedState.element)===i)Ko(),t=Za(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Fo=Kr(t.stateNode.containerInfo.firstChild),Mo=t,o=Uo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Wo.push(o);for(n=So(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Da(e,t,r,n),Ko();t=t.child}return t;case 5:return Ro(t),null===e&&Vo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,qr(r,i)?s=null:null!==o&&qr(r,o)&&(t.flags|=16),ja(e,t),Da(e,t,s,n),t.child;case 6:return null===e&&Vo(t),null;case 13:return Qa(e,t,n);case 4:return Ao(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Io(t,null,r,n):Da(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,La(e,t,r,i=t.elementType===r?i:Gi(r,i),n);case 7:return Da(e,t,t.pendingProps,n),t.child;case 8:case 12:return Da(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(si(Qi,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0==(o=ar(u,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!li.current){t=Za(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!=(l.observedBits&o)){1===u.tag&&((l=ao(-1,n&-n)).tag=2,so(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),eo(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Da(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,to(t,n),r=r(i=no(i,o.unstable_observedBits)),t.flags|=1,Da(e,t,r,n),t.child;case 14:return o=Gi(i=t.type,t.pendingProps),Ma(e,t,i,o=Gi(i.type,o),r,n);case 15:return Fa(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,di(r)?(e=!0,vi(t)):e=!1,to(t,n),mo(t,r,i),yo(t,r,i,n),Ba(null,t,r,!0,e,n);case 19:return Ja(e,t,n);case 23:case 24:return Ua(e,t,n)}throw Error(a(156,t.tag))},Ju.prototype.render=function(e){Qu(e,this._internalRoot,null,null)},Ju.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Qu(null,e,null,(function(){t[Yr]=null}))},et=function(e){13===e.tag&&(uu(e,4,au()),Xu(e,4))},tt=function(e){13===e.tag&&(uu(e,67108864,au()),Xu(e,67108864))},nt=function(e){if(13===e.tag){var t=au(),n=su(e);uu(e,n,t),Xu(e,n)}},rt=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ti(r);if(!i)throw Error(a(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Re=pu,Oe=function(e,t,n,r,i){var o=Ts;Ts|=4;try{return Bi(98,e.bind(null,t,n,r,i))}finally{0===(Ts=o)&&(Vs(),Ki())}},De=function(){0==(49&Ts)&&(function(){if(null!==Js){var e=Js;Js=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,lu(e,ji())}))}Ki()}(),Nu())},Le=function(e,t){var n=Ts;Ts|=2;try{return e(t)}finally{0===(Ts=n)&&(Vs(),Ki())}};var nc={Events:[Zr,ei,ti,Ae,Pe,Nu,{current:!1}]},rc={findFiberByHostInstance:Jr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},ic={bundleType:rc.bundleType,version:rc.version,rendererPackageName:rc.rendererPackageName,rendererConfig:rc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:rc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{_i=oc.inject(ic),bi=oc}catch(ge){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nc,t.createPortal=tc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ts;if(0!=(48&n))return e(t);Ts|=1;try{if(e)return Bi(99,e.bind(null,t))}finally{Ts=n,Ki()}},t.hydrate=function(e,t,n){if(!Zu(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.render=function(e,t,n){if(!Zu(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zu(e))throw Error(a(40));return!!e._reactRootContainer&&(gu((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[Yr]=null}))})),!0)},t.unstable_batchedUpdates=pu,t.unstable_createPortal=function(e,t){return tc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zu(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="17.0.2"},935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(448)},921:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case h:case o:case s:case a:case d:return e;default:switch(e=e&&e.$$typeof){case c:case f:case m:case g:case u:return e;default:return t}}case i:return t}}}function E(e){return w(e)===h}t.AsyncMode=l,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=m,t.Memo=g,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=d,t.isAsyncMode=function(e){return E(e)||w(e)===l},t.isConcurrentMode=E,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===g},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===h||e===s||e===a||e===d||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===y||e.$$typeof===_||e.$$typeof===b||e.$$typeof===v)},t.typeOf=w},864:(e,t,n)=>{"use strict";e.exports=n(921)},585:e=>{e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},658:(e,t,n)=>{var r=n(585);e.exports=function e(t,n,i){return r(n)||(i=n||i,n=[]),i=i||{},t instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(t,n):r(t)?function(t,n,r){for(var i=[],o=0;o<t.length;o++)i.push(e(t[o],n,r).source);return l(new RegExp("(?:"+i.join("|")+")",h(r)),n)}(t,n,i):function(e,t,n){return f(o(e,n),t,n)}(t,n,i)},e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=f;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var h=n[0],f=n[1],d=n.index;if(s+=e.slice(a,d),a=d+h.length,f)s+=f[1];else{var p=e[a],g=n[2],m=n[3],v=n[4],y=n[5],_=n[6],b=n[7];s&&(r.push(s),s="");var w=null!=g&&null!=p&&p!==g,E="+"===_||"*"===_,I="?"===_||"*"===_,S=n[2]||l,k=v||y;r.push({name:m||o++,prefix:g||"",delimiter:S,optional:I,repeat:E,partial:w,asterisk:!!b,pattern:k?c(k):b?".*":"[^"+u(S)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"==typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",h(t)));return function(t,i){for(var o="",s=t||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!=typeof l){var h,f=s[l.name];if(null==f){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(f)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<f.length;d++){if(h=u(f[d]),!n[c].test(h))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(h)+"`");o+=(0===d?l.prefix:l.delimiter)+h}}else{if(h=l.asterisk?encodeURI(f).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(f),!n[c].test(h))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+h+'"');o+=l.prefix+h}}else o+=l}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function h(e){return e&&e.sensitive?"":"i"}function f(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"==typeof c)a+=u(c);else{var f=u(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+f+d+")*"),a+=d=c.optional?c.partial?f+"("+d+")?":"(?:"+f+"("+d+"))?":f+"("+d+")"}}var p=u(n.delimiter||"/"),g=a.slice(-p.length)===p;return i||(a=(g?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&g?"":"(?="+p+"|$)",l(new RegExp("^"+a,h(n)),t)}},408:(e,t,n)=>{"use strict";var r=n(418),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"==typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),o=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),a=h("react.provider"),s=h("react.context"),u=h("react.forward_ref"),t.Suspense=h("react.suspense"),c=h("react.memo"),l=h("react.lazy")}var f="function"==typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=m.prototype;var _=y.prototype=new v;_.constructor=y,r(_,m.prototype),_.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,r)&&!E.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:b.current}}function S(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var k=/\/+/g;function T(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=e),e=""===r?"."+T(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(k,"$&/")+"/"),C(a,t,n,"",(function(e){return e}))):null!=a&&(S(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(k,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+T(s=e[c],c);u+=C(s,t,n,l,a)}else if("function"==typeof(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e)))for(e=l.call(e),c=0;!(s=e.next()).done;)u+=C(s=s.value,t,n,l=r+T(s,c++),a);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function x(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function P(){var e=A.current;if(null===e)throw Error(d(321));return e}var R={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:x,forEach:function(e,t,n){x(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return x(e,(function(){t++})),t},toArray:function(e){return x(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,n){if(null==e)throw Error(d(267,e));var o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=b.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!E.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var h=0;h<l;h++)c[h]=arguments[h+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return P().useCallback(e,t)},t.useContext=function(e,t){return P().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return P().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return P().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return P().useLayoutEffect(e,t)},t.useMemo=function(e,t){return P().useMemo(e,t)},t.useReducer=function(e,t,n){return P().useReducer(e,t,n)},t.useRef=function(e){return P().useRef(e)},t.useState=function(e){return P().useState(e)},t.version="17.0.2"},294:(e,t,n)=>{"use strict";e.exports=n(408)},53:(e,t)=>{"use strict";var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,l=null,h=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(e){throw setTimeout(h,0),e}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(h,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,d=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,m=null,v=-1,y=5,_=0;t.unstable_shouldYield=function(){return t.unstable_now()>=_},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();_=e+y;try{m(!0,e)?w.postMessage(null):(g=!1,m=null)}catch(e){throw w.postMessage(null),e}}else g=!1},n=function(e){m=e,g||(g=!0,w.postMessage(null))},r=function(e,n){v=f((function(){e(t.unstable_now())}),n)},i=function(){d(v),v=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<k(i,t)))break e;e[r]=t,e[n]=i,n=r}}function I(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>k(a,n))void 0!==u&&0>k(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>k(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function k(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],C=[],x=1,N=null,A=3,P=!1,R=!1,O=!1;function D(e){for(var t=I(C);null!==t;){if(null===t.callback)S(C);else{if(!(t.startTime<=e))break;S(C),t.sortIndex=t.expirationTime,E(T,t)}t=I(C)}}function L(e){if(O=!1,D(e),!R)if(null!==I(T))R=!0,n(M);else{var t=I(C);null!==t&&r(L,t.startTime-e)}}function M(e,n){R=!1,O&&(O=!1,i()),P=!0;var o=A;try{for(D(n),N=I(T);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=N.callback;if("function"==typeof a){N.callback=null,A=N.priorityLevel;var s=a(N.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?N.callback=s:N===I(T)&&S(T),D(n)}else S(T);N=I(T)}if(null!==N)var u=!0;else{var c=I(C);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{N=null,A=o,P=!1}}var F=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||P||(R=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return I(T)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?s+a:s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:x++,callback:o,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,E(C,e),null===I(T)&&e===I(C)&&(O?i():O=!0,r(L,a-s))):(e.sortIndex=u,E(T,e),R||P||(R=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},840:(e,t,n)=>{"use strict";e.exports=n(53)},774:e=>{e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var c=o[u];if(!s(c))return!1;var l=e[c],h=t[c];if(!1===(i=n?n.call(r,l,h,c):void 0)||void 0===i&&l!==h)return!1}return!0}},655:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__extends:()=>i,__assign:()=>o,__rest:()=>a,__decorate:()=>s,__param:()=>u,__metadata:()=>c,__awaiter:()=>l,__generator:()=>h,__createBinding:()=>f,__exportStar:()=>d,__values:()=>p,__read:()=>g,__spread:()=>m,__spreadArrays:()=>v,__spreadArray:()=>y,__await:()=>_,__asyncGenerator:()=>b,__asyncDelegator:()=>w,__asyncValues:()=>E,__makeTemplateObject:()=>I,__importStar:()=>k,__importDefault:()=>T,__classPrivateFieldGet:()=>C,__classPrivateFieldSet:()=>x});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var f=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function d(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||f(t,e,n)}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function y(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||t)}function _(e){return this instanceof _?(this.v=e,this):new _(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof _?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:_(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function E(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function I(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var S=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&f(t,e,n);return S(t,e),t}function T(e){return e&&e.__esModule?e:{default:e}}function C(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function x(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{"use strict";var e=n(294),t=n(935);function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}var o=n(697),a=n.n(o);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e){return"/"===e.charAt(0)}function c(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}const l=function(e,t){if(!e)throw new Error("Invariant failed")};function h(e){return"/"===e.charAt(0)?e:"/"+e}function f(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function d(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function g(e,t,n,r){var i;"string"==typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(i=s({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],o=e&&u(e),a=t&&u(t),s=o||a;if(e&&u(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var l=i[i.length-1];n="."===l||".."===l||""===l}else n=!1;for(var h=0,f=i.length;f>=0;f--){var d=i[f];"."===d?c(i,f):".."===d?(c(i,f),h++):h&&(c(i,f),h--)}if(!s)for(;h--;h)i.unshift("..");!s||""===i[0]||i[0]&&u(i[0])||i.unshift("");var p=i.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p}(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function m(){var e=null,t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"==typeof e?e(t,n):e;"string"==typeof o?"function"==typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var v=!("undefined"==typeof window||!window.document||!window.document.createElement);function y(e,t){t(window.confirm(e))}var _="popstate",b="hashchange";function w(){try{return window.history.state||{}}catch(e){return{}}}function E(e){void 0===e&&(e={}),v||l(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,o=i.forceRefresh,a=void 0!==o&&o,u=i.getUserConfirmation,c=void 0===u?y:u,E=i.keyLength,I=void 0===E?6:E,S=e.basename?d(h(e.basename)):"";function k(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return S&&(o=f(o,S)),g(o,r,n)}function T(){return Math.random().toString(36).substr(2,I)}var C=m();function x(e){s(q,e),q.length=t.length,C.notifyListeners(q.location,q.action)}function N(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||R(k(e.state))}function A(){R(k(w()))}var P=!1;function R(e){P?(P=!1,x()):C.confirmTransitionTo(e,"POP",c,(function(t){t?x({action:"POP",location:e}):function(e){var t=q.location,n=D.indexOf(t.key);-1===n&&(n=0);var r=D.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(P=!0,M(i))}(e)}))}var O=k(w()),D=[O.key];function L(e){return S+p(e)}function M(e){t.go(e)}var F=0;function U(e){1===(F+=e)&&1===e?(window.addEventListener(_,N),r&&window.addEventListener(b,A)):0===F&&(window.removeEventListener(_,N),r&&window.removeEventListener(b,A))}var j=!1,q={length:t.length,action:"POP",location:O,createHref:L,push:function(e,r){var i="PUSH",o=g(e,r,T(),q.location);C.confirmTransitionTo(o,i,c,(function(e){if(e){var r=L(o),s=o.key,u=o.state;if(n)if(t.pushState({key:s,state:u},null,r),a)window.location.href=r;else{var c=D.indexOf(q.location.key),l=D.slice(0,c+1);l.push(o.key),D=l,x({action:i,location:o})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",o=g(e,r,T(),q.location);C.confirmTransitionTo(o,i,c,(function(e){if(e){var r=L(o),s=o.key,u=o.state;if(n)if(t.replaceState({key:s,state:u},null,r),a)window.location.replace(r);else{var c=D.indexOf(q.location.key);-1!==c&&(D[c]=o.key),x({action:i,location:o})}else window.location.replace(r)}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=C.setPrompt(e);return j||(U(1),j=!0),function(){return j&&(j=!1,U(-1)),t()}},listen:function(e){var t=C.appendListener(e);return U(1),function(){U(-1),t()}}};return q}var I=1073741823,S="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:{};function k(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}const T=e.createContext||function(t,n){var r,o,s,u="__create-react-context-"+((S[s="__global_unique_id__"]=(S[s]||0)+1)+"__"),c=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=k(t.props.value),t}i(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[u]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(r,i)?(t="function"==typeof n?n(r,i):I,0!=(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(e.Component);c.childContextTypes=((r={})[u]=a().object.isRequired,r);var l=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).state={value:t.getValue()},t.onUpdate=function(e,n){0!=((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}i(n,e);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?I:t},r.componentDidMount=function(){this.context[u]&&this.context[u].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?I:e},r.componentWillUnmount=function(){this.context[u]&&this.context[u].off(this.onUpdate)},r.getValue=function(){return this.context[u]?this.context[u].get():t},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(e.Component);return l.contextTypes=((o={})[u]=a().object,o),{Provider:c,Consumer:l}};var C=n(658),x=n.n(C),N=n(864);function A(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var P=n(679),R=n.n(P),O=function(e){var t=T();return t.displayName="Router-History",t}(),D=function(e){var t=T();return t.displayName="Router",t}(),L=function(t){function n(e){var n;return(n=t.call(this,e)||this).state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}i(n,t),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&this.unlisten()},r.render=function(){return e.createElement(D.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},e.createElement(O.Provider,{children:this.props.children||null,value:this.props.history}))},n}(e.Component);e.Component,e.Component;var M={},F=0;function U(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=M[n]||(M[n]={});if(r[e])return r[e];var i=[],o={regexp:x()(e,i,t),keys:i};return F<1e4&&(r[e]=o,F++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],h=u.slice(1),f=e===l;return o&&!f?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:f,params:a.reduce((function(e,t,n){return e[t.name]=h[n],e}),{})}}),null)}var j=function(t){function n(){return t.apply(this,arguments)||this}return i(n,t),n.prototype.render=function(){var t=this;return e.createElement(D.Consumer,null,(function(n){n||l(!1);var r=t.props.location||n.location,i=s({},n,{location:r,match:t.props.computedMatch?t.props.computedMatch:t.props.path?U(r.pathname,t.props):n.match}),o=t.props,a=o.children,u=o.component,c=o.render;return Array.isArray(a)&&0===a.length&&(a=null),e.createElement(D.Provider,{value:i},i.match?a?"function"==typeof a?a(i):a:u?e.createElement(u,i):c?c(i):null:"function"==typeof a?a(i):null)}))},n}(e.Component);e.Component;var q=function(t){function n(){return t.apply(this,arguments)||this}return i(n,t),n.prototype.render=function(){var t=this;return e.createElement(D.Consumer,null,(function(n){n||l(!1);var r,i,o=t.props.location||n.location;return e.Children.forEach(t.props.children,(function(t){if(null==i&&e.isValidElement(t)){r=t;var a=t.props.path||t.props.from;i=a?U(o.pathname,s({},t.props,{path:a})):n.match}})),i?e.cloneElement(r,{location:o,computedMatch:i}):null}))},n}(e.Component);e.useContext;var V=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).history=E(e.props),e}return i(n,t),n.prototype.render=function(){return e.createElement(L,{history:this.history,children:this.props.children})},n}(e.Component);e.Component;var B=function(e,t){return"function"==typeof e?e(t):e},z=function(e,t){return"string"==typeof e?g(e,null,null,t):e},K=function(e){return e},W=e.forwardRef;void 0===W&&(W=K);var H=W((function(t,n){var r=t.innerRef,i=t.navigate,o=t.onClick,a=A(t,["innerRef","navigate","onClick"]),u=a.target,c=s({},a,{onClick:function(e){try{o&&o(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||u&&"_self"!==u||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return c.ref=K!==W&&n||r,e.createElement("a",c)})),G=W((function(t,n){var r=t.component,i=void 0===r?H:r,o=t.replace,a=t.to,u=t.innerRef,c=A(t,["component","replace","to","innerRef"]);return e.createElement(D.Consumer,null,(function(t){t||l(!1);var r=t.history,h=z(B(a,t.location),t.location),f=h?r.createHref(h):"",d=s({},c,{href:f,navigate:function(){var e=B(a,t.location);(o?r.replace:r.push)(e)}});return K!==W?d.ref=n||u:d.innerRef=u,e.createElement(i,d)}))})),Q=function(e){return e},$=e.forwardRef;void 0===$&&($=Q),$((function(t,n){var r=t["aria-current"],i=void 0===r?"page":r,o=t.activeClassName,a=void 0===o?"active":o,u=t.activeStyle,c=t.className,h=t.exact,f=t.isActive,d=t.location,p=t.sensitive,g=t.strict,m=t.style,v=t.to,y=t.innerRef,_=A(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return e.createElement(D.Consumer,null,(function(t){t||l(!1);var r=d||t.location,o=z(B(v,r),r),b=o.pathname,w=b&&b.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),E=w?U(r.pathname,{path:w,exact:h,sensitive:p,strict:g}):null,I=!!(f?f(E,r):E),S=I?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(c,a):c,k=I?s({},m,{},u):m,T=s({"aria-current":I&&i||null,className:S,style:k,to:o},_);return Q!==$?T.ref=n||y:T.innerRef=y,e.createElement(G,T)}))}));var Y=n(99),X="8.6.8";Y.default.registerVersion("firebase",X,"app"),Y.default.SDK_VERSION=X,function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},r=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,e];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}return globalThis}(this);function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function o(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}!function(e,n){if(n){var i=r;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in i||(i[a]={}),i=i[a]}(n=n(o=i[e=e[e.length-1]]))!=o&&null!=n&&t(i,e,{configurable:!0,writable:!0,value:n})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function n(){this.a=null}function i(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var a=r.setTimeout;n.prototype.c=function(e){a(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.f(e)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(e){return void this.g(e)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.s=function(e){var t=this.f();e.Ra(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(e){o(e)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Ra(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ra=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=i,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=o(e),a=r.next();!a.done;a=r.next())i(a.value).Ra(t,n)}))},t.all=function(e){var n=o(e),r=n.next();return r.done?i([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).Ra(o(a.length-1),t),r=n.next()}while(!r.done)}))},t}));var a=a||{},s=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&u.test(e)?e:""}function h(){}function f(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function d(e){var t=f(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){return"function"==f(e)}function g(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function m(e){return Object.prototype.hasOwnProperty.call(e,v)&&e[v]||(e[v]=++y)}var v="closure_uid_"+(1e9*Math.random()>>>0),y=0;function _(e,t,n){return e.call.apply(e.bind,arguments)}function b(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function w(e,t,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:b).apply(null,arguments)}function E(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var I=Date.now;function S(e,t){function n(){}n.prototype=t.prototype,e.bb=t.prototype,e.prototype=new n,e.prototype.constructor=e}function k(e){return e}function T(e,t,n){this.code=N+e,this.message=t||A[e]||"",this.a=n||null}function C(e){var t=e&&e.code;return t?new T(t.substring(N.length),e.message,e.serverResponse):null}S(T,Error),T.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},T.prototype.toJSON=function(){return this.w()};var x,N="auth/",A={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},P={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function R(e){for(var t in P)if(P[t].id===e)return{firebaseEndpoint:(e=P[t]).Ua,secureTokenEndpoint:e.$a,identityPlatformEndpoint:e.Xa};return null}function O(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(e){return!1}}function D(e){if(Error.captureStackTrace)Error.captureStackTrace(this,D);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function L(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");D.call(this,n+e[r])}function M(e,t){throw new L("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function F(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function U(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function j(){this.b=this.a=null}x=R("__EID__")?"__EID__":void 0,S(D,Error),D.prototype.name="CustomError",S(L,D),L.prototype.name="AssertionError",F.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var q=new F((function(){return new B}),(function(e){e.reset()}));function V(){var e=bt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function B(){this.next=this.b=this.a=null}j.prototype.add=function(e,t){var n=q.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},B.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},B.prototype.reset=function(){this.next=this.b=this.a=null};var z=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},K=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)},W=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"==typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},H=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"==typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},G=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function Q(e,t){return 0<=z(e,t)}function $(e,t){var n;return(n=0<=(t=z(e,t)))&&Array.prototype.splice.call(e,t,1),n}function X(e,t){!function(e,t){for(var n="string"==typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&Array.prototype.splice.call(e,r,1).length}))}function J(e){return Array.prototype.concat.apply([],arguments)}function Z(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var ee,te=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},ne=/&/g,re=/</g,ie=/>/g,oe=/"/g,ae=/'/g,se=/\x00/g,ue=/[\x00&<>"']/;function ce(e,t){return-1!=e.indexOf(t)}function le(e,t){return e<t?-1:e>t?1:0}e:{var he=s.navigator;if(he){var fe=he.userAgent;if(fe){ee=fe;break e}}ee=""}function de(e){return ce(ee,e)}function pe(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function ge(e){for(var t in e)return!1;return!0}function me(e){var t,n={};for(t in e)n[t]=e[t];return n}var ve="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<ve.length;o++)n=ve[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function _e(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break e}}catch(e){}i=null}if(i&&void 0!==i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(g(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(e){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function be(e,t){this.a=e===Se&&t||"",this.b=Ie}function we(e){return e instanceof be&&e.constructor===be&&e.b===Ie?e.a:(M("expected object of type Const, got '"+e+"'"),"type_error:Const")}be.prototype.ta=!0,be.prototype.sa=function(){return this.a},be.prototype.toString=function(){return"Const{"+this.a+"}"};var Ee,Ie={},Se={};function ke(){if(void 0===Ee){var e=null,t=s.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:k,createScript:k,createScriptURL:k})}catch(e){s.console&&s.console.error(e.message)}Ee=e}else Ee=e}return Ee}function Te(e,t){this.a=t===Pe?e:""}function Ce(e){return e instanceof Te&&e.constructor===Te?e.a:(M("expected object of type TrustedResourceUrl, got '"+e+"' of type "+f(e)),"type_error:TrustedResourceUrl")}function xe(e,t){var n=we(e);if(!Ae.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(e){var t=ke();return new Te(e=t?t.createScriptURL(e):e,Pe)}(e=n.replace(Ne,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof be?we(e):encodeURIComponent(String(e))})))}Te.prototype.ta=!0,Te.prototype.sa=function(){return this.a.toString()},Te.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ne=/%{(\w+)}/g,Ae=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Pe={};function Re(e,t){this.a=t===je?e:""}function Oe(e){return e instanceof Re&&e.constructor===Re?e.a:(M("expected object of type SafeUrl, got '"+e+"' of type "+f(e)),"type_error:SafeUrl")}Re.prototype.ta=!0,Re.prototype.sa=function(){return this.a.toString()},Re.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var De=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Le=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Me=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Fe(e){if(e instanceof Re)return e;if(e="object"==typeof e&&e.ta?e.sa():String(e),Me.test(e))e=new Re(e,je);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(Le);e=t&&De.test(t[1])?new Re(e,je):null}return e}function Ue(e){return e instanceof Re?e:(e="object"==typeof e&&e.ta?e.sa():String(e),Me.test(e)||(e="about:invalid#zClosurez"),new Re(e,je))}var je={},qe=new Re("about:invalid#zClosurez",je);function Ve(e,t,n){this.a=n===Be?e:""}Ve.prototype.ta=!0,Ve.prototype.sa=function(){return this.a.toString()},Ve.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Be={};function ze(e,t,n,r){return e=e instanceof Re?e:Ue(e),t=t||s,n=n instanceof be?we(n):n||"",t.open(Oe(e),n,r,void 0)}function Ke(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function We(e){return ue.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(ne,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(re,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(ie,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(oe,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(ae,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(se,"&#0;"))),e}function He(e){return He[" "](e),e}He[" "]=h;var Ge,Qe,$e=de("Opera"),Ye=de("Trident")||de("MSIE"),Xe=de("Edge"),Je=Xe||Ye,Ze=de("Gecko")&&!(ce(ee.toLowerCase(),"webkit")&&!de("Edge"))&&!(de("Trident")||de("MSIE"))&&!de("Edge"),et=ce(ee.toLowerCase(),"webkit")&&!de("Edge");function tt(){var e=s.document;return e?e.documentMode:void 0}e:{var nt="",rt=(Qe=ee,Ze?/rv:([^\);]+)(\)|;)/.exec(Qe):Xe?/Edge\/([\d\.]+)/.exec(Qe):Ye?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Qe):et?/WebKit\/(\S+)/.exec(Qe):$e?/(?:Version)[ \/]?(\S+)/.exec(Qe):void 0);if(rt&&(nt=rt?rt[1]:""),Ye){var it=tt();if(null!=it&&it>parseFloat(nt)){Ge=String(it);break e}}Ge=nt}var ot,at={};function st(e){return function(e,t){var n=at;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,(function(){for(var t=0,n=te(String(Ge)).split("."),r=te(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=le(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||le(0==a[2].length,0==s[2].length)||le(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}s.document&&Ye?ot=tt()||parseInt(Ge,10)||void 0:ot=void 0;var ut=ot;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Qe){}var ct=!Ye||9<=Number(ut);function lt(e){var t=document;return"string"==typeof e?t.getElementById(e):e}function ht(e,t){pe(t,(function(t,n){t&&"object"==typeof t&&t.ta&&(t=t.sa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:pt.hasOwnProperty(n)?e.setAttribute(pt[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var ft,dt,pt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function gt(e,t,n){function r(n){n&&t.appendChild("string"==typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!d(o)||g(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(g(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(p(o)){a="function"==typeof o.item;break e}}a=!1}K(a?Z(o):o,r)}}}function mt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function vt(e){s.setTimeout((function(){throw e}),0)}function yt(e,t){dt||function(){if(s.Promise&&s.Promise.resolve){var e=s.Promise.resolve(void 0);dt=function(){e.then(wt)}}else dt=function(){var e=wt;!p(s.setImmediate)||s.Window&&s.Window.prototype&&!de("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(ft||(ft=function(){var e=s.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!de("Presto")&&(e=function(){var e=mt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=w((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),void 0!==e&&!de("Trident")&&!de("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Hb;n.Hb=null,e()}},function(e){r.next={Hb:e},r=r.next,t.port2.postMessage(0)}}return function(e){s.setTimeout(e,0)}}()),ft(e)):s.setImmediate(e)}}(),_t||(dt(),_t=!0),bt.add(e,t)}var _t=!1,bt=new j;function wt(){for(var e;e=V();){try{e.a.call(e.b)}catch(e){vt(e)}U(q,e)}_t=!1}function Et(e,t){if(this.a=It,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=h)try{var n=this;e.call(t,(function(e){Mt(n,St,e)}),(function(e){if(!(e instanceof zt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}Mt(n,kt,e)}))}catch(e){Mt(this,kt,e)}}var It=0,St=2,kt=3;function Tt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Tt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ct=new F((function(){return new Tt}),(function(e){e.reset()}));function xt(e,t,n){var r=Ct.get();return r.g=e,r.b=t,r.f=n,r}function Nt(e){if(e instanceof Et)return e;var t=new Et(h);return Mt(t,St,e),t}function At(e){return new Et((function(t,n){n(e)}))}function Pt(e,t,n){Ft(e,t,n,null)||yt(E(t,e))}function Rt(e){return new Et((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)Pt(e[o],E(i,o,!0),E(i,o,!1));else t(r)}))}function Ot(e,t){if(e.a==It)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==It&&1==r?Ot(n,t):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):jt(n),qt(n,i,kt,t)))}e.c=null}else Mt(e,kt,t)}function Dt(e,t){e.b||e.a!=St&&e.a!=kt||Ut(e),e.f?e.f.next=t:e.b=t,e.f=t}function Lt(e,t,n,r){var i=xt(null,null,null);return i.a=new Et((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(e){o(e)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof zt?o(t):e(i)}catch(e){o(e)}}:o})),i.a.c=e,Dt(e,i),i.a}function Mt(e,t,n){e.a==It&&(e===n&&(t=kt,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Ft(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Ut(e),t!=kt||n instanceof zt||function(e,t){e.g=!0,yt((function(){e.g&&Bt.call(null,t)}))}(e,n)))}function Ft(e,t,n,r){if(e instanceof Et)return Dt(e,xt(t||h,n||null,r)),!0;if(O(e))return e.then(t,n,r),!0;if(g(e))try{var i=e.then;if(p(i))return function(e,t,n,r,i){function o(e){a||(a=!0,r.call(i,e))}var a=!1;try{t.call(e,(function(e){a||(a=!0,n.call(i,e))}),o)}catch(e){o(e)}}(e,i,t,n,r),!0}catch(e){return n.call(r,e),!0}return!1}function Ut(e){e.h||(e.h=!0,yt(e.gc,e))}function jt(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function qt(e,t,n,r){if(n==kt&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Vt(t,n,r);else try{t.c?t.g.call(t.f):Vt(t,n,r)}catch(e){Bt.call(null,e)}U(Ct,t)}function Vt(e,t,n){t==St?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}Et.prototype.then=function(e,t,n){return Lt(this,p(e)?e:null,p(t)?t:null,n)},Et.prototype.$goog_Thenable=!0,(e=Et.prototype).oa=function(e,t){return(e=xt(e,e,t)).c=!0,Dt(this,e),this},e.o=function(e,t){return Lt(this,null,e,t)},e.cancel=function(e){if(this.a==It){var t=new zt(e);yt((function(){Ot(this,t)}),this)}},e.$c=function(e){this.a=It,Mt(this,St,e)},e.ad=function(e){this.a=It,Mt(this,kt,e)},e.gc=function(){for(var e;e=jt(this);)qt(this,e,this.a,this.i);this.h=!1};var Bt=vt;function zt(e){D.call(this,e)}function Kt(){0!=Wt&&(Ht[m(this)]=this),this.ya=this.ya,this.pa=this.pa}S(zt,D),zt.prototype.name="cancel";var Wt=0,Ht={};function Gt(e){if(!e.ya&&(e.ya=!0,e.Da(),0!=Wt)){var t=m(e);if(0!=Wt&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ht[t]}}Kt.prototype.ya=!1,Kt.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Qt=Object.freeze||function(e){return e},$t=!Ye||9<=Number(ut),Yt=Ye&&!st("9"),Xt=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{s.addEventListener("test",h,t),s.removeEventListener("test",h,t)}catch(e){}return e}();function Jt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function Zt(e,t){if(Jt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Ze){e:{try{He(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:en[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Jt.prototype.preventDefault=function(){this.defaultPrevented=!0},S(Zt,Jt);var en=Qt({2:"touch",3:"pen",4:"mouse"});Zt.prototype.preventDefault=function(){Zt.bb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Yt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}},Zt.prototype.g=function(){return this.a};var tn="closure_listenable_"+(1e6*Math.random()|0),nn=0;function rn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Wa=i,this.key=++nn,this.wa=this.Qa=!1}function on(e){e.wa=!0,e.listener=null,e.proxy=null,e.src=null,e.Wa=null}function an(e){this.src=e,this.a={},this.b=0}function sn(e,t){var n=t.type;n in e.a&&$(e.a[n],t)&&(on(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function un(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.wa&&o.listener==t&&o.capture==!!n&&o.Wa==r)return i}return-1}an.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=un(e,t,r,i);return-1<a?(t=e[a],n||(t.Qa=!1)):((t=new rn(t,this.src,o,!!r,i)).Qa=n,e.push(t)),t};var cn="closure_lm_"+(1e6*Math.random()|0),ln={};function hn(e,t,n,r,i){if(r&&r.once)dn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)hn(e,t[o],n,r,i);else n=En(n),e&&e[tn]?Sn(e,t,n,g(r)?!!r.capture:!!r,i):fn(e,t,n,!1,r,i)}function fn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=g(i)?!!i.capture:!!i,s=bn(e);if(s||(e[cn]=s=new an(e)),!(n=s.add(t,n,r,a,o)).proxy)if(r=function(){var e=_n,t=$t?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Xt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(mn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}}function dn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)dn(e,t[o],n,r,i);else n=En(n),e&&e[tn]?kn(e,t,n,g(r)?!!r.capture:!!r,i):fn(e,t,n,!0,r,i)}function pn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)pn(e,t[o],n,r,i);else r=g(r)?!!r.capture:!!r,n=En(n),e&&e[tn]?(e=e.v,(t=String(t).toString())in e.a&&-1<(n=un(o=e.a[t],n,r,i))&&(on(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--))):e&&(e=bn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=un(t,n,r,i)),(n=-1<e?t[e]:null)&&gn(n))}function gn(e){if("number"!=typeof e&&e&&!e.wa){var t=e.src;if(t&&t[tn])sn(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(mn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=bn(t))?(sn(n,e),0==n.b&&(n.src=null,t[cn]=null)):on(e)}}}function mn(e){return e in ln?ln[e]:ln[e]="on"+e}function vn(e,t,n,r){var i=!0;if((e=bn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.wa&&(o=yn(o,r),i=i&&!1!==o)}return i}function yn(e,t){var n=e.listener,r=e.Wa||e.src;return e.Qa&&gn(e),n.call(r,t)}function _n(e,t){if(e.wa)return!0;if(!$t){if(!t)e:{t=["window","event"];for(var n=s,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Zt(r=t,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(e){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=vn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=vn(r[i],e,!1,t),n=n&&o}return n}return yn(e,new Zt(t,this))}function bn(e){return(e=e[cn])instanceof an?e:null}var wn="__closure_events_fn_"+(1e9*Math.random()>>>0);function En(e){return p(e)?e:(e[wn]||(e[wn]=function(t){return e.handleEvent(t)}),e[wn])}function In(){Kt.call(this),this.v=new an(this),this.bc=this,this.hb=null}function Sn(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function kn(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function Tn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&sn(e.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function Cn(e,t,n){if(p(e))n&&(e=w(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=w(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function xn(e){var t=null;return new Et((function(n,r){-1==(t=Cn((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw s.clearTimeout(t),e}))}function Nn(e){if(e.X&&"function"==typeof e.X)return e.X();if("string"==typeof e)return e.split("");if(d(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function An(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.X||"function"!=typeof e.X){if(d(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function Pn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Pn)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Rn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];On(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)On(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function On(e,t){return Object.prototype.hasOwnProperty.call(e,t)}S(In,Kt),In.prototype[tn]=!0,In.prototype.addEventListener=function(e,t,n,r){hn(this,e,t,n,r)},In.prototype.removeEventListener=function(e,t,n,r){pn(this,e,t,n,r)},In.prototype.dispatchEvent=function(e){var t,n=this.hb;if(n)for(t=[];n;n=n.hb)t.push(n);n=this.bc;var r=e.type||e;if("string"==typeof e)e=new Jt(e,n);else if(e instanceof Jt)e.target=e.target||n;else{var i=e;ye(e=new Jt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=Tn(a,r,!0,e)&&i}if(i=Tn(a=e.b=n,r,!0,e)&&i,i=Tn(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Tn(a=e.b=t[o],r,!1,e)&&i;return i},In.prototype.Da=function(){if(In.bb.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)on(n[r]);delete t.a[e],t.b--}}this.hb=null},(e=Pn.prototype).X=function(){Rn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return Rn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return On(this.b,e)?this.b[e]:t},e.set=function(e,t){On(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Dn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ln(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof Ln?(this.i=void 0!==t?t:e.i,Mn(this,e.c),this.l=e.l,this.a=e.a,Fn(this,e.g),this.f=e.f,Un(this,rr(e.b)),this.h=e.h):e&&(n=String(e).match(Dn))?(this.i=!!t,Mn(this,n[1]||"",!0),this.l=zn(n[2]||""),this.a=zn(n[3]||"",!0),Fn(this,n[4]),this.f=zn(n[5]||"",!0),Un(this,n[6]||"",!0),this.h=zn(n[7]||"")):(this.i=!!t,this.b=new Xn(null,this.i))}function Mn(e,t,n){e.c=n?zn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Fn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function Un(e,t,n){t instanceof Xn?(e.b=t,function(e,t){t&&!e.f&&(Jn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(er(this,t),nr(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=Kn(t,$n)),e.b=new Xn(t,e.i))}function jn(e,t,n){e.b.set(t,n)}function qn(e,t){return e.b.get(t)}function Vn(e){return e instanceof Ln?new Ln(e):new Ln(e,void 0)}function Bn(e,t,n,r){var i=new Ln(null,void 0);return e&&Mn(i,e),t&&(i.a=t),n&&Fn(i,n),r&&(i.f=r),i}function zn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Kn(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Wn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Wn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ln.prototype.toString=function(){var e=[],t=this.c;t&&e.push(Kn(t,Hn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(Kn(t,Hn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(Kn(n,"/"==n.charAt(0)?Qn:Gn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",Kn(n,Yn)),e.join("")},Ln.prototype.resolve=function(e){var t=new Ln(this),n=!!e.c;n?Mn(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Fn(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ce(i,"./")||ce(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?Un(t,rr(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Hn=/[#\/\?@]/g,Gn=/[#\?:]/g,Qn=/[#\?]/g,$n=/[#\?@]/g,Yn=/#/g;function Xn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Jn(e){e.a||(e.a=new Pn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Zn(e){var t=An(e);if(void 0===t)throw Error("Keys are undefined");var n=new Xn(null,void 0);e=Nn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?nr(n,i,o):n.add(i,o)}return n}function er(e,t){Jn(e),t=ir(e,t),On(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,On((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Rn(e)))}function tr(e,t){return Jn(e),t=ir(e,t),On(e.a.b,t)}function nr(e,t,n){er(e,t),0<n.length&&(e.c=null,e.a.set(ir(e,t),Z(n)),e.b+=n.length)}function rr(e){var t=new Xn;return t.c=e.c,e.a&&(t.a=new Pn(e.a),t.b=e.b),t}function ir(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function or(e){var t=[];return sr(new ar,e,t),t.join("")}function ar(){}function sr(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),sr(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&"function"!=typeof(o=t[r])&&(n.push(i),lr(r,n),n.push(":"),sr(e,o,n),i=",");return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":lr(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}(e=Xn.prototype).add=function(e,t){Jn(this),this.c=null,e=ir(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Jn(this),this.a.forEach((function(n,r){K(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.Y=function(){Jn(this);for(var e=this.a.X(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.X=function(e){Jn(this);var t=[];if("string"==typeof e)tr(this,e)&&(t=J(t,this.a.get(ir(this,e))));else{e=this.a.X();for(var n=0;n<e.length;n++)t=J(t,e[n])}return t},e.set=function(e,t){return Jn(this),this.c=null,tr(this,e=ir(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.X(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var ur={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},cr=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function lr(e,t){t.push('"',e.replace(cr,(function(e){var t=ur[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),ur[e]=t),t})),'"')}function hr(){var e=Pr();return Ye&&!!ut&&11==ut||/Edge\/\d+/.test(e)}function fr(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function dr(e,t){t=t||s.window;var n="about:blank";e&&(n=Oe(Fe(e)||qe)),t.location.href=n}function pr(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<pr(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function gr(e){return!!((e=(e||Pr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function mr(e){e=e||s.window;try{e.close()}catch(e){}}function vr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Pr().toLowerCase(),r&&(t.target=r,ce(n,"crios/")&&(t.target="_blank")),xr(Pr())==Tr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Re?n:Fe(void 0!==n.href?n.href:String(n))||qe,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((de("iPhone")&&!de("iPod")&&!de("iPad")||de("iPad")||de("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(_e(a=mt(document,"A"),"HTMLAnchorElement"),t=t instanceof Re?t:Ue(t),a.href=Oe(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=ze("",r,n,a),e=Oe(t),a&&(Je&&ce(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+We(e)+'">',e=new Ve(e=(r=ke())?r.createHTML(e):e,null,Be),r=a.document)&&(r.write(function(e){return e instanceof Ve&&e.constructor===Ve?e.a:(M("expected object of type SafeHtml, got '"+e+"' of type "+f(e)),"type_error:SafeHtml")}(e)),r.close())):(a=ze(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(e){}return a}var yr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_r=/^[^@]+@[^@]+$/;function br(){var e=null;return new Et((function(t){"complete"==s.document.readyState?t():(e=function(){t()},dn(window,"load",e))})).o((function(t){throw pn(window,"load",e),t}))}function wr(e){return e=e||Pr(),!("file:"!==Mr()&&"ionic:"!==Mr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Er(){var e=s.window;try{return!(!e||e==e.top)}catch(e){return!1}}function Ir(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function Sr(){return Y.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Y.default.INTERNAL.hasOwnProperty("node")?"Node":Ir()?"Worker":"Browser"}function kr(){var e=Sr();return"ReactNative"===e||"Node"===e}var Tr="Firefox",Cr="Chrome";function xr(e){var t=e.toLowerCase();return ce(t,"opera/")||ce(t,"opr/")||ce(t,"opios/")?"Opera":ce(t,"iemobile")?"IEMobile":ce(t,"msie")||ce(t,"trident/")?"IE":ce(t,"edge/")?"Edge":ce(t,"firefox/")?Tr:ce(t,"silk/")?"Silk":ce(t,"blackberry")?"Blackberry":ce(t,"webos")?"Webos":!ce(t,"safari/")||ce(t,"chrome/")||ce(t,"crios/")||ce(t,"android")?!ce(t,"chrome/")&&!ce(t,"crios/")||ce(t,"edge/")?ce(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":Cr:"Safari"}var Nr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Ar(e,t){t=t||[];var n,r=[],i={};for(n in Nr)i[Nr[n]]=!0;for(n=0;n<t.length;n++)void 0!==i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=Sr())?r=xr(i=Pr()):"Worker"===r&&(r=xr(i=Pr())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Pr(){return s.navigator&&s.navigator.userAgent||""}function Rr(e,t){e=e.split("."),t=t||s;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Or(){try{var e=s.localStorage,t=Vr();if(e)return e.setItem(t,"1"),e.removeItem(t),!hr()||!!s.indexedDB}catch(e){return Ir()&&!!s.indexedDB}return!1}function Dr(){return(Lr()||"chrome-extension:"===Mr()||wr())&&!kr()&&Or()&&!Ir()}function Lr(){return"http:"===Mr()||"https:"===Mr()}function Mr(){return s.location&&s.location.protocol||null}function Fr(e){return!gr(e=e||Pr())&&xr(e)!=Tr}function Ur(e){return void 0===e?null:or(e)}function jr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function qr(e){if(null!==e)return JSON.parse(e)}function Vr(e){return e||Math.floor(1e9*Math.random()).toString()}function Br(e){return"Safari"!=xr(e=e||Pr())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function zr(){var e=s.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Kr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Pr(),t=Sr(),this.b=gr(e)||"ReactNative"===t}function Wr(){var e=s.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function Hr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(e){}return null}function Gr(){return!(!Rr("fireauth.oauthhelper",s)&&!Rr("fireauth.iframe",s))}Kr.prototype.get=function(){var e=s.navigator;return!e||"boolean"!=typeof e.onLine||!Lr()&&"chrome-extension:"!==Mr()&&void 0===e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Qr,$r={};function Yr(e){$r[e]||($r[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}try{var Xr={};Object.defineProperty(Xr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Xr,"abcd",{configurable:!0,enumerable:!0,value:2}),Qr=2==Xr.abcd}catch(Qe){Qr=!1}function Jr(e,t,n){Qr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Zr(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Jr(e,n,t[n])}function ei(e){var t={};return Zr(t,e),t}function ti(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Jr(t,n,ti(e[n]));return t}function ni(e){var t=e&&(e[si]?"phone":null);if(!(t&&e&&e[ai]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");Jr(this,"uid",e[ai]),Jr(this,"displayName",e[ii]||null);var n=null;e[oi]&&(n=new Date(e[oi]).toUTCString()),Jr(this,"enrollmentTime",n),Jr(this,"factorId",t)}function ri(e){try{var t=new ui(e)}catch(e){t=null}return t}ni.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ii="displayName",oi="enrolledAt",ai="mfaEnrollmentId",si="phoneInfo";function ui(e){ni.call(this,e),Jr(this,"phoneNumber",e[si])}function ci(e){var t={},n=e[di],r=e[gi],i=e[mi];if(e=ri(e[pi]),!i||i!=hi&&i!=fi&&!n||i==fi&&!r||i==li&&!e)throw Error("Invalid checkActionCode response!");i==fi?(t[yi]=n||null,t[bi]=n||null,t[vi]=r):(t[yi]=r||null,t[bi]=r||null,t[vi]=n||null),t[_i]=e||null,Jr(this,Ei,i),Jr(this,wi,ti(t))}S(ui,ni),ui.prototype.w=function(){var e=ui.bb.w.call(this);return e.phoneNumber=this.phoneNumber,e};var li="REVERT_SECOND_FACTOR_ADDITION",hi="EMAIL_SIGNIN",fi="VERIFY_AND_CHANGE_EMAIL",di="email",pi="mfaInfo",gi="newEmail",mi="requestType",vi="email",yi="fromEmail",_i="multiFactorInfo",bi="previousEmail",wi="data",Ei="operation";function Ii(e){var t=qn(e=Vn(e),Si)||null,n=qn(e,ki)||null,r=qn(e,xi)||null;if(r=r&&Ai[r]||null,!t||!n||!r)throw new T("argument-error",Si+", "+ki+"and "+xi+" are required in a valid action code URL.");Zr(this,{apiKey:t,operation:r,code:n,continueUrl:qn(e,Ti)||null,languageCode:qn(e,Ci)||null,tenantId:qn(e,Ni)||null})}var Si="apiKey",ki="oobCode",Ti="continueUrl",Ci="languageCode",xi="mode",Ni="tenantId",Ai={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:li,signIn:hi,verifyAndChangeEmail:fi,verifyEmail:"VERIFY_EMAIL"};function Pi(e){try{return new Ii(e)}catch(e){return null}}function Ri(e){var t=e[Fi];if(void 0===t)throw new T("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new T("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Oi];if(n&&"object"==typeof n){t=n[qi];var r=n[Ui];if(n=n[ji],"string"==typeof t&&t.length){if(this.a=t,void 0!==r&&"boolean"!=typeof r)throw new T("argument-error",Ui+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new T("argument-error",ji+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==t)throw new T("argument-error",qi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new T("missing-android-pkg-name")}}else if(void 0!==n)throw new T("argument-error",Oi+" property must be a non null object when specified.");if(this.f=null,(t=e[Mi])&&"object"==typeof t){if("string"==typeof(t=t[Vi])&&t.length)this.f=t;else if(void 0!==t)throw new T("argument-error",Vi+" property must be a non empty string when specified.")}else if(void 0!==t)throw new T("argument-error",Mi+" property must be a non null object when specified.");if(void 0!==(t=e[Li])&&"boolean"!=typeof t)throw new T("argument-error",Li+" property must be a boolean when specified.");if(this.c=!!t,void 0!==(e=e[Di])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new T("argument-error",Di+" property must be a non empty string when specified.");this.i=e||null}var Oi="android",Di="dynamicLinkDomain",Li="handleCodeInApp",Mi="iOS",Fi="url",Ui="installApp",ji="minimumVersion",qi="packageName",Vi="bundleId";function Bi(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var zi=null;function Ki(e){var t=Hi(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function Wi(e){try{return new Ki(e)}catch(e){return null}}function Hi(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=function(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=zi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!zi){zi={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===zi[o]&&(zi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t.push(e)})),t}(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[t++];var a=r[t++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else o=r[t++],a=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(e.join(""))}catch(e){}return null}Ki.prototype.T=function(){return this.f},Ki.prototype.l=function(){return this.c},Ki.prototype.toString=function(){return this.h};var Gi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Qi=["client_id","response_type","scope","redirect_uri","state"],$i={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Qi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Qi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Qi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Gi},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Yi(e){for(var t in $i)if($i[t].fa==e)return $i[t];return null}function Xi(e){var t={};t["facebook.com"]=no,t["google.com"]=io,t["github.com"]=ro,t["twitter.com"]=oo;var n=e&&e[Zi];try{if(n)return t[n]?new t[n](e):new to(e);if(void 0!==e[Ji])return new eo(e)}catch(e){}return null}var Ji="idToken",Zi="providerId";function eo(e){var t=e[Zi];if(!t&&e[Ji]){var n=Wi(e[Ji]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,void 0!==e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Jr(this,"providerId",t),Jr(this,"isNewUser",n)}function to(e){eo.call(this,e),Jr(this,"profile",ti((e=qr(e.rawUserInfo||"{}"))||{}))}function no(e){if(to.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function ro(e){if(to.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Jr(this,"username",this.profile&&this.profile.login||null)}function io(e){if(to.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function oo(e){if(to.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Jr(this,"username",e.screenName||null)}function ao(e){var t=Vn(e),n=qn(t,"link"),r=qn(Vn(n),"link");return t=qn(t,"deep_link_id"),qn(Vn(t),"link")||t||r||n||e}function so(e,t){if(!e&&!t)throw new T("internal-error","Internal assert: no raw session string available");if(e&&t)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?uo:co}S(to,eo),S(no,to),S(ro,to),S(io,to),S(oo,to);var uo="enroll",co="signin";function lo(){}function ho(e,t){return e.then((function(e){if(e[Za]){var n=Wi(e[Za]);if(!n||t!=n.i)throw new T("user-mismatch");return e}throw new T("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==N+"user-not-found"?new T("user-mismatch"):e}))}function fo(e,t){if(!t)throw new T("internal-error","failed to construct a credential");this.a=t,Jr(this,"providerId",e),Jr(this,"signInMethod",e)}function po(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function go(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new fo(e.providerId,e.pendingToken)}catch(e){}return null}function mo(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Jr(this,"idToken",t.idToken),t.accessToken&&Jr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Jr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");Jr(this,"accessToken",t.oauthToken),Jr(this,"secret",t.oauthTokenSecret)}Jr(this,"providerId",e),Jr(this,"signInMethod",n)}function vo(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Zn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function yo(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new mo(e.providerId,t,e.signInMethod)}catch(e){}}return null}function _o(e,t){this.Qc=t||[],Zr(this,{providerId:e,isOAuthProvider:!0}),this.Jb={},this.qb=(Yi(e)||{}).Ja||null,this.pb=null}function bo(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');_o.call(this,e,[])}function wo(e){_o.call(this,e,Qi),this.a=[]}function Eo(){wo.call(this,"facebook.com")}function Io(e){if(!e)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return g(e)&&(t=e.accessToken),(new Eo).credential({accessToken:t})}function So(){wo.call(this,"github.com")}function ko(e){if(!e)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return g(e)&&(t=e.accessToken),(new So).credential({accessToken:t})}function To(){wo.call(this,"google.com"),this.Ca("profile")}function Co(e,t){var n=e;return g(e)&&(n=e.idToken,t=e.accessToken),(new To).credential({idToken:n,accessToken:t})}function xo(){_o.call(this,"twitter.com",Gi)}function No(e,t){var n=e;if(g(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new mo("twitter.com",n,"twitter.com")}function Ao(e,t,n){this.a=e,this.f=t,Jr(this,"providerId","password"),Jr(this,"signInMethod",n===Ro.EMAIL_LINK_SIGN_IN_METHOD?Ro.EMAIL_LINK_SIGN_IN_METHOD:Ro.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Po(e){return e&&e.email&&e.password?new Ao(e.email,e.password,e.signInMethod):null}function Ro(){Zr(this,{providerId:"password",isOAuthProvider:!1})}function Oo(e,t){if(!(t=Do(t)))throw new T("argument-error","Invalid email link!");return new Ao(e,t.code,Ro.EMAIL_LINK_SIGN_IN_METHOD)}function Do(e){return(e=Pi(e=ao(e)))&&e.operation===hi?e:null}function Lo(e){if(!(e.fb&&e.eb||e.La&&e.ea))throw new T("internal-error");this.a=e,Jr(this,"providerId","phone"),this.fa="phone",Jr(this,"signInMethod","phone")}function Mo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return K(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new Lo(t)}return null}function Fo(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.fb,code:e.a.eb}}function Uo(e){try{this.a=e||Y.default.auth()}catch(e){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Zr(this,{providerId:"phone",isOAuthProvider:!1})}function jo(e,t){if(!e)throw new T("missing-verification-id");if(!t)throw new T("missing-verification-code");return new Lo({fb:e,eb:t})}function qo(e){if(e.temporaryProof&&e.phoneNumber)return new Lo({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return Co(o,n);case"facebook.com":return Io(n);case"github.com":return ko(n);case"twitter.com":return No(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new fo(t,a):new mo(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new wo(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(e){return null}}function Vo(e){if(!e.isOAuthProvider)throw new T("invalid-oauth-provider")}function Bo(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function zo(e){return(e=e||{}).type?new Bo(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&C(e.error),e.postBody,e.tenantId):null}function Ko(){this.b=null,this.a=[]}so.prototype.Ha=function(){return this.a?Nt(this.a):Nt(this.b)},so.prototype.w=function(){return this.type==uo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},lo.prototype.ka=function(){},lo.prototype.b=function(){},lo.prototype.c=function(){},lo.prototype.w=function(){},fo.prototype.ka=function(e){return bs(e,po(this))},fo.prototype.b=function(e,t){var n=po(this);return n.idToken=t,ws(e,n)},fo.prototype.c=function(e,t){return ho(Es(e,po(this)),t)},fo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},mo.prototype.ka=function(e){return bs(e,vo(this))},mo.prototype.b=function(e,t){var n=vo(this);return n.idToken=t,ws(e,n)},mo.prototype.c=function(e,t){return ho(Es(e,vo(this)),t)},mo.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},_o.prototype.Ka=function(e){return this.Jb=me(e),this},S(bo,_o),S(wo,_o),wo.prototype.Ca=function(e){return Q(this.a,e)||this.a.push(e),this},wo.prototype.Rb=function(){return Z(this.a)},wo.prototype.credential=function(e,t){var n;if(!(n=g(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new mo(this.providerId,n,this.providerId)},S(Eo,wo),Jr(Eo,"PROVIDER_ID","facebook.com"),Jr(Eo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),S(So,wo),Jr(So,"PROVIDER_ID","github.com"),Jr(So,"GITHUB_SIGN_IN_METHOD","github.com"),S(To,wo),Jr(To,"PROVIDER_ID","google.com"),Jr(To,"GOOGLE_SIGN_IN_METHOD","google.com"),S(xo,_o),Jr(xo,"PROVIDER_ID","twitter.com"),Jr(xo,"TWITTER_SIGN_IN_METHOD","twitter.com"),Ao.prototype.ka=function(e){return this.signInMethod==Ro.EMAIL_LINK_SIGN_IN_METHOD?ru(e,As,{email:this.a,oobCode:this.f}):ru(e,Js,{email:this.a,password:this.f})},Ao.prototype.b=function(e,t){return this.signInMethod==Ro.EMAIL_LINK_SIGN_IN_METHOD?ru(e,Ps,{idToken:t,email:this.a,oobCode:this.f}):ru(e,Ks,{idToken:t,email:this.a,password:this.f})},Ao.prototype.c=function(e,t){return ho(this.ka(e),t)},Ao.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Zr(Ro,{PROVIDER_ID:"password"}),Zr(Ro,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Zr(Ro,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Lo.prototype.ka=function(e){return e.gb(Fo(this))},Lo.prototype.b=function(e,t){var n=Fo(this);return n.idToken=t,ru(e,eu,n)},Lo.prototype.c=function(e,t){var n=Fo(this);return n.operation="REAUTH",ho(e=ru(e,tu,n),t)},Lo.prototype.w=function(){var e={providerId:"phone"};return this.a.fb&&(e.verificationId=this.a.fb),this.a.eb&&(e.verificationCode=this.a.eb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},Uo.prototype.gb=function(e,t){var n=this.a.a;return Nt(t.verify()).then((function(r){if("string"!=typeof r)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":var i=g(e)?e.session:null,o=g(e)?e.phoneNumber:e;return(i&&i.type==uo?i.Ha().then((function(e){return function(e,t){return ru(e,Hs,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==co?i.Ha().then((function(t){return function(e,t){return ru(e,Gs,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return ru(e,Bs,t)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(e){return"function"==typeof t.reset&&t.reset(),e}),(function(e){throw"function"==typeof t.reset&&t.reset(),e}));default:throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Zr(Uo,{PROVIDER_ID:"phone"}),Zr(Uo,{PHONE_SIGN_IN_METHOD:"phone"}),Bo.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Bo.prototype.T=function(){return this.h},Bo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Wo,Ho=null;function Go(e){var t="unauthorized-domain",n=void 0,r=Vn(e);e=r.a,"chrome-extension"==(r=r.c)?n=Ke("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=Ke("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",T.call(this,t,n)}function Qo(e,t,n){T.call(this,e,n),(e=t||{}).Kb&&Jr(this,"email",e.Kb),e.ea&&Jr(this,"phoneNumber",e.ea),e.credential&&Jr(this,"credential",e.credential),e.$b&&Jr(this,"tenantId",e.$b)}function $o(e){if(e.code){var t=e.code||"";0==t.indexOf(N)&&(t=t.substring(N.length));var n={credential:qo(e),$b:e.tenantId};if(e.email)n.Kb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new T(t,e.message||void 0);return new Qo(t,n,e.message)}return null}function Yo(){}function Xo(e){return e.c||(e.c=e.b())}function Jo(){}function Zo(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function ea(){}function ta(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.qc,this),this.a.onerror=w(this.Tb,this),this.a.onprogress=w(this.rc,this),this.a.ontimeout=w(this.vc,this)}function na(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function ra(e,t,n){this.reset(e,t,n,void 0,void 0)}function ia(e){this.f=e,this.b=this.c=this.a=null}function oa(e,t){this.name=e,this.value=t}S(Go,T),S(Qo,T),Qo.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&ye(e,t),e},Qo.prototype.toJSON=function(){return this.w()},Yo.prototype.c=null,S(Jo,Yo),Jo.prototype.a=function(){var e=Zo(this);return e?new ActiveXObject(e):new XMLHttpRequest},Jo.prototype.b=function(){var e={};return Zo(this)&&(e[0]=!0,e[1]=!0),e},Wo=new Jo,S(ea,Yo),ea.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new ta;throw Error("Unsupported browser")},ea.prototype.b=function(){return{}},(e=ta.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,na(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",na(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,na(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ra.prototype.a=null,ra.prototype.reset=function(e,t,n,r,i){r||I(),delete this.a},oa.prototype.toString=function(){return this.name};var aa=new oa("SEVERE",1e3),sa=new oa("WARNING",900),ua=new oa("CONFIG",700),ca=new oa("FINE",500);function la(e){return e.c?e.c:e.a?la(e.a):(M("Root logger has no level set."),null)}ia.prototype.log=function(e,t,n){if(e.value>=la(this).value)for(p(t)&&(t=t()),e=new ra(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var ha={},fa=null;function da(e){var t;if(fa||(fa=new ia(""),ha[""]=fa,fa.c=ua),!(t=ha[e])){t=new ia(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=da(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,ha[e]=t}return t}function pa(e,t){e&&e.log(ca,t,void 0)}function ga(e){this.f=e}function ma(e){In.call(this),this.u=e,this.h=void 0,this.readyState=va,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=da("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}S(ga,Yo),ga.prototype.a=function(){return new ma(this.f)},ga.prototype.b=function(e){return function(){return e}}({}),S(ma,In);var va=0;function ya(e){e.c.read().then(e.pc.bind(e)).catch(e.Va.bind(e))}function _a(e){e.readyState=4,e.g=null,e.c=null,e.m=null,ba(e)}function ba(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function wa(e){In.call(this),this.headers=new Pn,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Ea,this.u=this.S=!1}(e=ma.prototype).open=function(e,t){if(this.readyState!=va)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,ba(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,_a(this)),this.readyState=va},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,ba(this)),this.a&&(this.readyState=3,ba(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==s.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,ya(this)):e.text().then(this.tc.bind(this),this.Va.bind(this)))))},e.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?_a(this):ba(this),3==this.readyState&&ya(this)}},e.tc=function(e){this.a&&(this.response=this.responseText=e,_a(this))},e.sc=function(e){this.a&&(this.response=e,_a(this))},e.Va=function(e){var t=this.i;t&&t.log(sa,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&_a(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(sa,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(sa,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ma.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),S(wa,In);var Ea="";wa.prototype.b=da("goog.net.XhrIo");var Ia=/^https?$/i,Sa=["POST","PUT"];function ka(e){return"content-type"==e.toLowerCase()}function Ta(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,Ca(e),Na(e)}function Ca(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function xa(e){if(e.c&&void 0!==a)if(e.C[1]&&4==Pa(e)&&2==Ra(e))pa(e.b,Oa(e,"Local request error detected and ignored"));else if(e.i&&4==Pa(e))Cn(e.Wb,0,e);else if(e.dispatchEvent("readystatechange"),4==Pa(e)){pa(e.b,Oa(e,"Request complete")),e.c=!1;try{var t,n=Ra(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(Dn)[1]||null;if(!o&&s.self&&s.self.location){var u=s.self.location.protocol;o=u.substr(0,u.length-1)}i=!Ia.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<Pa(e)?e.a.statusText:""}catch(t){pa(e.b,"Can not get status: "+t.message),c=""}e.h=c+" ["+Ra(e)+"]",Ca(e)}}finally{Na(e)}}}function Na(e,t){if(e.a){Aa(e);var n=e.a,r=e.C[0]?h:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){(e=e.b)&&e.log(aa,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function Aa(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(s.clearTimeout(e.s),e.s=null)}function Pa(e){return e.a?e.a.readyState:0}function Ra(e){try{return 2<Pa(e)?e.a.status:-1}catch(e){return-1}}function Oa(e,t){return t+" ["+e.P+" "+e.l+" "+Ra(e)+"]"}function Da(e){var t=Wa;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function La(e,t,n){e.a=!0,e.c=n,e.f=!t,ja(e)}function Ma(e){if(e.a){if(!e.v)throw new qa(e);e.v=!1}}function Fa(e,t,n,r){e.g.push([t,n,r]),e.a&&ja(e)}function Ua(e){return G(e.g,(function(e){return p(e[1])}))}function ja(e){if(e.h&&e.a&&Ua(e)){var t=e.h,n=za[t];n&&(s.clearTimeout(n.a),delete za[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var u=o.call(i||e.s,t);void 0!==u&&(e.f=e.f&&(u==t||u instanceof Error),e.c=t=u),(O(t)||"function"==typeof s.Promise&&t instanceof s.Promise)&&(r=!0,e.i=!0)}catch(r){t=r,e.f=!0,Ua(e)||(n=!0)}}e.c=t,r&&(u=w(e.m,e,!0),r=w(e.m,e,!1),t instanceof Da?(Fa(t,u,r),t.C=!0):t.then(u,r)),n&&(t=new Ba(t),za[t.a]=t,e.h=t.a)}function qa(){D.call(this)}function Va(){D.call(this)}function Ba(e){this.a=s.setTimeout(w(this.c,this),0),this.b=e}(e=wa.prototype).Ma=function(){void 0!==a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",pa(this.b,Oa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(pa(this.b,Oa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Na(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Na(this,!0)),wa.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?xa(this):this.Jc())},e.Jc=function(){xa(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Ea:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(aa,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return pa(this.b,"Can not get response: "+e.message),null}},Da.prototype.cancel=function(e){if(this.a)this.c instanceof Da&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new Va(this),Ma(this),La(this,!1,e))}},Da.prototype.m=function(e,t){this.i=!1,La(this,e,t)},Da.prototype.then=function(e,t,n){var r,i,o=new Et((function(e,t){r=e,i=t}));return Fa(this,r,(function(e){e instanceof Va?o.cancel():i(e)})),o.then(e,t,n)},Da.prototype.$goog_Thenable=!0,S(qa,D),qa.prototype.message="Deferred has already fired",qa.prototype.name="AlreadyCalledError",S(Va,D),Va.prototype.message="Deferred was canceled",Va.prototype.name="CanceledError",Ba.prototype.c=function(){throw delete za[this.a],this.b};var za={};function Ka(e){var t={},n=t.document||document,r=Ce(e).toString(),i=mt(document,"SCRIPT"),o={Xb:i,Ma:void 0},a=new Da(o),u=null,h=null!=t.timeout?t.timeout:5e3;return 0<h&&(u=window.setTimeout((function(){Ha(i,!0);var e=new $a(Qa,"Timeout reached for loading script "+r);Ma(a),La(a,!1,e)}),h),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ha(i,t.xd||!1,u),Ma(a),La(a,!0,null))},i.onerror=function(){Ha(i,!0,u);var e=new $a(Ga,"Error while loading script "+r);Ma(a),La(a,!1,e)},ye(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ht(i,o),function(e,t){_e(e,"HTMLScriptElement"),e.src=Ce(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=s?t=l(t.document):(null===c&&(c=l(s.document)),t=c),t&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function Wa(){if(this&&this.Xb){var e=this.Xb;e&&"SCRIPT"==e.tagName&&Ha(e,!0,this.Ma)}}function Ha(e,t,n){null!=n&&s.clearTimeout(n),e.onload=h,e.onerror=h,e.onreadystatechange=h,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Ga=0,Qa=1;function $a(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),D.call(this,n),this.code=e}function Ya(e){this.f=e}function Xa(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||es,this.g=me(e.secureTokenHeaders||ts),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||ns,this.a=me(e.firebaseHeaders||rs),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Sr(),!(n=s.XMLHttpRequest||n&&Y.default.INTERNAL.node&&Y.default.INTERNAL.node.XMLHttpRequest)&&!Ir())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Ir()?this.f=new ga(self):kr()?this.f=new Ya(n):this.f=new ea,this.b=null}S($a,D),S(Ya,Yo),Ya.prototype.a=function(){return new this.f},Ya.prototype.b=function(){return{}};var Ja,Za="idToken",es=new Kr(3e4,6e4),ts={"Content-Type":"application/x-www-form-urlencoded"},ns=new Kr(3e4,6e4),rs={"Content-Type":"application/json"};function is(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function os(e,t){t&&(e.l=as("https://securetoken.googleapis.com/v1/token",t),e.h=as("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=as("https://identitytoolkit.googleapis.com/v2/",t))}function as(e,t){return e=Vn(e),t=Vn(t.url),e.f=e.a+e.f,Mn(e,t.c),e.a=t.a,Fn(e,t.g),e.toString()}function ss(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function us(e,t,n,r,i,o,a){(function(){var e=Pr();return!((e=xr(e)!=Cr?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e||Ye&&ut&&!(9<ut))})()||Ir()?e=w(e.u,e):(Ja||(Ja=new Et((function(e,t){!function(e,t){((window.gapi||{}).client||{}).request?e():(s[ls]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){Fa(e,null,t,void 0)}(Ka(xe(cs,{onload:ls})),(function(){t(Error("CORS_UNSUPPORTED"))})))}(e,t)}))),e=w(e.s,e)),e(t,n,r,i,o,a)}Xa.prototype.T=function(){return this.b},Xa.prototype.u=function(e,t,n,r,i,o){if(Ir()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new wa(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}Sn(a,"complete",(function(){u&&clearTimeout(u);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return pa(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(t){e=null}t&&t(e)})),kn(a,"ready",(function(){u&&clearTimeout(u),Gt(this)})),kn(a,"timeout",(function(){u&&clearTimeout(u),Gt(this),t&&t(null)})),function(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():Wo.a(),e.C=e.D?Xo(e.D):Xo(Wo),e.a.onreadystatechange=w(e.Wb,e);try{pa(e.b,Oa(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(t){return pa(e.b,Oa(e,"Error opening Xhr: "+t.message)),void Ta(e,t)}t=r||"";var o=new Pn(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(d(e)||"string"==typeof e)K(e,t,void 0);else for(var n=An(e),r=Nn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=ka,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(o.Y()),r=s.FormData&&t instanceof s.FormData,!Q(Sa,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{Aa(e),0<e.g&&(e.u=function(e){return Ye&&st(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),pa(e.b,Oa(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=w(e.Ma,e)):e.s=Cn(e.Ma,e.g,e)),pa(e.b,Oa(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(t){pa(e.b,Oa(e,"Send error: "+t.message)),Ta(e,t)}}(a,e,n,r,i)};var cs=new be(Se,"https://apis.google.com/js/client.js?onload=%{onload}"),ls="__fcb"+Math.floor(1e6*Math.random()).toString();function hs(e){if("string"!=typeof(e=e.email)||!_r.test(e))throw new T("invalid-email")}function fs(e){"email"in e&&hs(e)}function ds(e){if(!e[Za]){if(e.mfaPendingCredential)throw new T("multi-factor-auth-required",null,me(e));throw new T("internal-error")}}function ps(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new T("internal-error")}else{if(!e.sessionInfo)throw new T("missing-verification-id");if(!e.code)throw new T("missing-verification-code")}}Xa.prototype.s=function(e,t,n,r,i){var o=this;Ja.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},Xa.prototype.Ab=function(){return ru(this,Ws,{})},Xa.prototype.Cb=function(e,t){return ru(this,zs,{idToken:e,email:t})},Xa.prototype.Db=function(e,t){return ru(this,Ks,{idToken:e,password:t})};var gs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ms(e){if(!e.phoneVerificationInfo)throw new T("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new T("missing-verification-code")}function vs(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new T("internal-error")}function ys(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&tr(e=new Xn(e.postBody),"nonce")&&(t.nonce=e.get("nonce"))),t}function _s(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=$o(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=$o(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=$o(e)):e.errorMessage&&(t=iu(e.errorMessage)),t)throw t;ds(e)}function bs(e,t){return t.returnIdpCredential=!0,ru(e,Qs,t)}function ws(e,t){return t.returnIdpCredential=!0,ru(e,Ys,t)}function Es(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,ru(e,$s,t)}function Is(e){if(!e.oobCode)throw new T("invalid-action-code")}(e=Xa.prototype).Eb=function(e,t){var n={idToken:e},r=[];return pe(gs,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),ru(this,zs,n)},e.wb=function(e,t){return ye(e={requestType:"PASSWORD_RESET",email:e},t),ru(this,Us,e)},e.xb=function(e,t){return ye(e={requestType:"EMAIL_SIGNIN",email:e},t),ru(this,Ls,e)},e.vb=function(e,t){return ye(e={requestType:"VERIFY_EMAIL",idToken:e},t),ru(this,Ms,e)},e.Fb=function(e,t,n){return ye(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),ru(this,Fs,e)},e.gb=function(e){return ru(this,Zs,e)},e.ob=function(e,t){return ru(this,Vs,{oobCode:e,newPassword:t})},e.Sa=function(e){return ru(this,ks,{oobCode:e})},e.kb=function(e){return ru(this,Ss,{oobCode:e})};var Ss={endpoint:"setAccountInfo",A:Is,Z:"email",B:!0},ks={endpoint:"resetPassword",A:Is,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new T("internal-error")},B:!0},Ts={endpoint:"signupNewUser",A:function(e){if(hs(e),!e.password)throw new T("weak-password")},G:ds,V:!0,B:!0},Cs={endpoint:"createAuthUri",B:!0},xs={endpoint:"deleteAccount",O:["idToken"]},Ns={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new T("internal-error")}},As={endpoint:"emailLinkSignin",O:["email","oobCode"],A:hs,G:ds,V:!0,B:!0},Ps={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:hs,G:ds,V:!0},Rs={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:ms,G:ds,B:!0,Na:!0},Os={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:ms,G:ds,B:!0,Na:!0},Ds={endpoint:"getAccountInfo"},Ls={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new T("internal-error");hs(e)},Z:"email",B:!0},Ms={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new T("internal-error")},Z:"email",B:!0},Fs={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new T("internal-error")},Z:"email",B:!0},Us={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new T("internal-error");hs(e)},Z:"email",B:!0},js={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},qs={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new T("internal-error")}},Vs={endpoint:"resetPassword",A:Is,Z:"email",B:!0},Bs={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},zs={endpoint:"setAccountInfo",O:["idToken"],A:fs,V:!0},Ks={endpoint:"setAccountInfo",O:["idToken"],A:function(e){if(fs(e),!e.password)throw new T("weak-password")},G:ds,V:!0},Ws={endpoint:"signupNewUser",G:ds,V:!0,B:!0},Hs={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new T("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Gs={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Qs={endpoint:"verifyAssertion",A:vs,Za:ys,G:_s,V:!0,B:!0},$s={endpoint:"verifyAssertion",A:vs,Za:ys,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new T("user-not-found");if(e.errorMessage)throw iu(e.errorMessage);ds(e)},V:!0,B:!0},Ys={endpoint:"verifyAssertion",A:function(e){if(vs(e),!e.idToken)throw new T("internal-error")},Za:ys,G:_s,V:!0},Xs={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new T("invalid-custom-token")},G:ds,V:!0,B:!0},Js={endpoint:"verifyPassword",A:function(e){if(hs(e),!e.password)throw new T("wrong-password")},G:ds,V:!0,B:!0},Zs={endpoint:"verifyPhoneNumber",A:ps,G:ds,B:!0},eu={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new T("internal-error");ps(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",$o(e);ds(e)}},tu={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ps,G:ds,B:!0},nu={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[Za]^!!e.refreshToken)throw new T("internal-error")},B:!0,Na:!0};function ru(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(null==r||""===r)return!1}return!0}(n,t.O))return At(new T("internal-error"));var r,i=!!t.Na,o=t.Vb||"POST";return Nt(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&void 0===n.tenantId&&(n.tenantId=e.b),function(e,t,n,r,i,o,a){var s=Vn(t+n);jn(s,"key",e.c),a&&jn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&jn(s,c,i[c]);return new Et((function(t,n){us(e,s.toString(),(function(e){e?e.error?n(ou(e,o||{})):t(e):n(new T("network-request-failed"))}),r,u?void 0:or(jr(i)),e.a,e.v.get())}))}(e,i?e.i:e.h,t.endpoint,o,n,t.Ib,t.mb||!1)})).then((function(e){return r=e,t.Za?t.Za(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new T("internal-error");return r[t.Z]}))}function iu(e){return ou({error:{errors:[{message:e}],code:400,message:e}})}function ou(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new T(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",ye(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new T(r[i],t);return!t&&e&&(t=Ur(e)),new T("internal-error",t)}function au(e){this.b=e,this.a=null,this.sb=function(e){return(lu||(lu=new Et((function(e,t){function n(){zr(),Rr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){zr(),t(Error("Network Error"))},timeout:uu.get()})}if(Rr("gapi.iframes.Iframe"))e();else if(Rr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Rr("gapi.load")?n():t(Error("Network Error"))},Nt(Ka(r=xe(su,{onload:r}))).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw lu=null,e})))).then((function(){return new Et((function(t,n){Rr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Rr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),cu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var su=new be(Se,"https://apis.google.com/js/api.js?onload=%{onload}"),uu=new Kr(3e4,6e4),cu=new Kr(5e3,15e3),lu=null;function hu(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,e=this.g?Bn((e=Vn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):Bn("https",this.l,null,"/__/auth/iframe"),this.a=e,jn(this.a,"apiKey",this.h),jn(this.a,"appName",this.i),this.b=null,this.c=[]}function fu(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function du(e){try{return Y.default.app(e).auth().Ga()}catch(e){return[]}}function pu(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function gu(e){var t=fr();return function(e){return ru(e,js,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=Vn(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Vn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:yr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new Go(fr())}))}function mu(e){return e.m||(e.m=br().then((function(){if(!e.u){var t=e.c,n=e.i,r=du(e.b),i=new hu(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=Z(r||[]),e.u=i.toString()}e.v=new au(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.sb.then((function(){e.a.register("authEvent",t,Rr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=zo(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",Nt(n)}return n.status="ERROR",Nt(n)}))}(e)}))),e.m}function vu(e){return e.l||(e.C=e.c?Ar(e.c,du(e.b)):null,e.l=new Xa(e.g,R(e.i),e.C),e.f&&os(e.l,e.f)),e.l}function yu(e,t,n,r,i,o,a,s,u,c,l,h){return(e=new fu(e,t,n,r,i,h)).l=o,e.g=a,e.i=s,e.b=me(u||null),e.f=c,e.zb(l).toString()}function _u(e){if(this.a=e||Y.default.INTERNAL.reactNative&&Y.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function bu(e){this.b=e,this.a={},this.f=w(this.c,this)}hu.prototype.toString=function(){return this.f?jn(this.a,"v",this.f):er(this.a.b,"v"),this.b?jn(this.a,"eid",this.b):er(this.a.b,"eid"),this.c.length?jn(this.a,"fw",this.c.join(",")):er(this.a.b,"fw"),this.a.toString()},fu.prototype.zb=function(e){return this.h=e,this},fu.prototype.toString=function(){if(this.v){var e=Vn(this.v.url);e=Bn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=Bn("https",this.u,null,"/__/auth/handler");if(jn(e,"apiKey",this.s),jn(e,"appName",this.c),jn(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=Y.default.app(this.c).auth().la()}catch(e){n=null}for(var r in t.pb=n,jn(e,"providerId",this.a.providerId),t=jr((n=this.a).Jb))t[r]=t[r].toString();r=n.Qc,t=me(t);for(var i=0;i<r.length;i++){var o=r[i];o in t&&delete t[o]}n.qb&&n.pb&&!t[n.qb]&&(t[n.qb]=n.pb),ge(t)||jn(e,"customParameters",Ur(t))}if("function"==typeof this.a.Rb&&(n=this.a.Rb()).length&&jn(e,"scopes",n.join(",")),this.l?jn(e,"redirectUrl",this.l):er(e.b,"redirectUrl"),this.g?jn(e,"eventId",this.g):er(e.b,"eventId"),this.i?jn(e,"v",this.i):er(e.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!qn(e,a)&&jn(e,a,this.b[a]);return this.h?jn(e,"tid",this.h):er(e.b,"tid"),this.f?jn(e,"eid",this.f):er(e.b,"eid"),(a=du(this.c)).length&&jn(e,"fw",a.join(",")),e.toString()},(e=pu.prototype).Pb=function(e,t,n){var r=new T("popup-closed-by-user"),i=new T("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(e){var t={type:"webStorageSupport"};return mu(e).then((function(){return function(e,t){return e.sb.then((function(){return new Et((function(n){e.a.send(t.type,t,n,Rr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.v,t)})).then((function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&mr(e),t(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(e){return new Et((function(t){return function n(){xn(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return xn(n).then((function(){t(r)}))}))},e.Yb=function(){var e=Pr();return!Fr(e)&&!Br(e)},e.Ub=function(){return!1},e.Nb=function(e,t,n,r,i,o,a,s){if(!e)return At(new T("popup-blocked"));if(a&&!Fr())return this.ma().o((function(t){mr(e),i(t)})),r(),Nt();this.a||(this.a=gu(vu(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw mr(e),i(t),t}));return r(),t})).then((function(){Vo(n),a||dr(yu(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Ob=function(e,t,n,r){this.a||(this.a=gu(vu(this)));var i=this;return this.a.then((function(){Vo(t),dr(yu(i.s,i.g,i.b,e,t,fr(),n,i.c,void 0,i.i,r,i.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ma=function(){var e=this;return mu(this).then((function(){return e.v.sb})).o((function(){throw e.a=null,new T("network-request-failed")}))},e.ac=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Ta=function(e){X(this.h,(function(t){return t==e}))},(e=_u.prototype).get=function(e){return Nt(this.a.getItem(e)).then((function(e){return e&&qr(e)}))},e.set=function(e,t){return Nt(this.a.setItem(e,Ur(t)))},e.U=function(e){return Nt(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var wu,Eu=[];function Iu(e,t,n){ge(e.a)&&e.b.addEventListener("message",e.f),void 0===e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Su(e){this.a=e}function ku(e){this.c=e,this.b=!1,this.a=[]}function Tu(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return At(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new Et((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),void 0!==e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},e.a.push(c),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(t){return Cu(e,c),t})).o((function(t){throw Cu(e,c),t}))}function Cu(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),X(e.a,(function(e){return e==t}))}}function xu(){if(!Ru())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;Ir()&&self?(this.v=function(){var e=Ir()?self:null;if(K(Eu,(function(n){n.b==e&&(t=n)})),!t){var t=new bu(e);Eu.push(t)}return t}(),Iu(this.v,"keyChanged",(function(t,n){return Fu(e).then((function(t){return 0<t.length&&K(e.a,(function(e){e(t)})),{keyProcessed:Q(t,n.key)}}))})),Iu(this.v,"ping",(function(){return Nt(["keyChanged"])}))):function(){var e=s.navigator;return e&&e.serviceWorker?Nt().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):Nt(null)}().then((function(t){(e.h=t)&&(e.g=new ku(new Su(t)),Tu(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&Q(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function Nu(e){return new Et((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(e){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new Et((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return Nu(e)})).then((function(e){t(e)})).o((function(e){n(e)}))}}))}function Au(e){return e.i||(e.i=Nu(e)),e.i}function Pu(e,t){var n=0;return new Et((function r(i,o){Au(e).then(t).then(i).o((function(t){if(!(3<++n))return Au(e).then((function(t){return t.close(),e.i=void 0,r(i,o)})).o((function(e){o(e)}));o(t)}))}))}function Ru(){try{return!!s.indexedDB}catch(e){return!1}}function Ou(e){return e.objectStore("firebaseLocalStorage")}function Du(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Lu(e){return new Et((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function Mu(e,t){return e.g&&e.h&&function(){var e=s.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Tu(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):Nt()}function Fu(e){return Au(e).then((function(e){var t=Ou(Du(e,!1));return t.getAll?Lu(t.getAll()):new Et((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=pr(e.c,n),e.c=n}return r}))}function Uu(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function ju(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=Nt().then((function(){if(Ru()){var e=Vr(),r="__sak"+e;return wu||(wu=new xu),(n=wu).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){K(t.a,(function(t){t(e)}))})),e}))}function qu(){this.a={},this.type="inMemory"}function Vu(){if(!function(){var e="Node"==Sr();if(!(e=Bu()||e&&Y.default.INTERNAL.node&&Y.default.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Sr())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Bu()||Y.default.INTERNAL.node.localStorage,this.type="localStorage"}function Bu(){try{var e=s.localStorage,t=Vr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function zu(){this.type="nullStorage"}function Ku(){if(!function(){var e="Node"==Sr();if(!(e=Wu()||e&&Y.default.INTERNAL.node&&Y.default.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Sr())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Wu()||Y.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Wu(){try{var e=s.sessionStorage,t=Vr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function Hu(){var e={};e.Browser=$u,e.Node=Yu,e.ReactNative=Xu,e.Worker=Ju,this.a=e[Sr()]}bu.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];K(r,(function(t){i.push(Nt().then((function(){return t(e.origin,e.data.data)})))})),Rt(i).then((function(r){var i=[];K(r,(function(e){i.push({fulfilled:e.Qb,value:e.value,reason:e.reason?e.reason.message:void 0})})),K(i,(function(e){for(var t in e)void 0===e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},Su.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},ku.prototype.close=function(){for(;0<this.a.length;)Cu(this,this.a[0]);this.b=!0},(e=xu.prototype).set=function(e,t){var n=this,r=!1;return Pu(this,(function(t){return Lu((t=Ou(Du(t,!0))).get(e))})).then((function(i){return Pu(n,(function(o){if(o=Ou(Du(o,!0)),i)return i.value=t,Lu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,Lu(o.add(a))}))})).then((function(){return n.c[e]=t,Mu(n,e)})).oa((function(){r&&n.b--}))},e.get=function(e){return Pu(this,(function(t){return Lu(Ou(Du(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.U=function(e){var t=this,n=!1;return Pu(this,(function(r){return n=!0,t.b++,Lu(Ou(Du(r,!0)).delete(e))})).then((function(){return delete t.c[e],Mu(t,e)})).oa((function(){n&&t.b--}))},e.ca=function(e){0==this.a.length&&function(e){Uu(e),function t(){e.f=setTimeout((function(){e.l=Fu(e).then((function(t){0<t.length&&K(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}()}(this),this.a.push(e)},e.ia=function(e){X(this.a,(function(t){return t==e})),0==this.a.length&&Uu(this)},(e=ju.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.U=function(e){return this.b.then((function(t){return t.U(e)}))},e.ca=function(e){this.a.push(e)},e.ia=function(e){X(this.a,(function(t){return t==e}))},(e=qu.prototype).get=function(e){return Nt(this.a[e])},e.set=function(e,t){return this.a[e]=t,Nt()},e.U=function(e){return delete this.a[e],Nt()},e.ca=function(){},e.ia=function(){},(e=Vu.prototype).get=function(e){var t=this;return Nt().then((function(){return qr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Nt().then((function(){var r=Ur(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return Nt().then((function(){t.a.removeItem(e)}))},e.ca=function(e){s.window&&hn(s.window,"storage",e)},e.ia=function(e){s.window&&pn(s.window,"storage",e)},(e=zu.prototype).get=function(){return Nt(null)},e.set=function(){return Nt()},e.U=function(){return Nt()},e.ca=function(){},e.ia=function(){},(e=Ku.prototype).get=function(e){var t=this;return Nt().then((function(){return qr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Nt().then((function(){var r=Ur(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return Nt().then((function(){t.a.removeItem(e)}))},e.ca=function(){},e.ia=function(){};var Gu,Qu,$u={F:Vu,cb:Ku},Yu={F:Vu,cb:Ku},Xu={F:_u,cb:zu},Ju={F:Vu,cb:zu},Zu={rd:"local",NONE:"none",td:"session"};function ec(){var e=!(Br(Pr())||!Er()),t=Fr(),n=Or();this.m=e,this.h=t,this.l=n,this.a={},Gu||(Gu=new Hu),e=Gu;try{this.g=!hr()&&Gr()||!s.indexedDB?new e.a.F:new ju(Ir()?new qu:new e.a.F)}catch(e){this.g=new qu,this.h=!0}try{this.i=new e.a.cb}catch(e){this.i=new qu}this.v=new qu,this.f=w(this.Zb,this),this.b={}}function tc(){return Qu||(Qu=new ec),Qu}function nc(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function rc(e,t){return"firebase:"+e.name+(t?":"+t:"")}function ic(e,t,n){return n=rc(t,n),"local"==t.F&&(e.b[n]=null),nc(e,t.F).U(n)}function oc(e){e.c&&(clearInterval(e.c),e.c=null)}function ac(e){this.a=e,this.b=tc()}(e=ec.prototype).get=function(e,t){return nc(this,e.F).get(rc(e,t))},e.set=function(e,t,n){var r=rc(e,n),i=this,o=nc(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},e.addListener=function(e,t,n){e=rc(e,t),this.l&&(this.b[e]=s.localStorage.getItem(e)),ge(this.a)&&(nc(this,"local").ca(this.f),this.h||(hr()||!Gr())&&s.indexedDB||!this.l||function(e){oc(e),e.c=setInterval((function(){for(var t in e.a){var n=s.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Zt({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Zb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=rc(e,t),this.a[e]&&(X(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),ge(this.a)&&(nc(this,"local").ia(this.f),oc(this))},e.Zb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?nc(this,"local").ia(this.f):oc(this),this.m)if(n=s.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?s.localStorage.setItem(t,r):s.localStorage.removeItem(t);else if(this.b[t]===r&&void 0===e.a.a)return;var o=this;n=function(){void 0===e.a.a&&o.b[t]===s.localStorage.getItem(t)||(o.b[t]=s.localStorage.getItem(t),o.nb(t))},Ye&&ut&&10==ut&&s.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else K(e,w(this.nb,this))},e.nb=function(e){this.a[e]&&K(this.a[e],(function(e){e()}))};var sc,uc={name:"authEvent",F:"local"};function cc(){this.a=tc()}function lc(e,t){this.b=hc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===sc&&(sc=s.Int32Array?new Int32Array(yc):yc),this.reset()}S(lc,(function(){this.b=-1}));for(var hc=64,fc=hc-1,dc=[],pc=0;pc<fc;pc++)dc[pc]=0;var gc=J(128,dc);function mc(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|sc[t])|0)+(0|n[t])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function vc(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"==typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(mc(e),i=0);else{if(!d(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(mc(e),i=0)}}e.c=i,e.g+=n}lc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):Z(this.h)};var yc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function _c(){lc.call(this,8,bc)}S(_c,lc);var bc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function wc(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new cc,this.g=new ac(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ec(e){return new T("invalid-cordova-configuration",e)}function Ic(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(e){}}function Sc(e){return e.f||(e.f=e.ma().then((function(){return new Et((function(t){e.Ea((function n(r){return t(r),e.Ta(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),kc(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=ao(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=qr(qn(o=Vn(i),"firebaseError")||null))?C(o):null)?new Bo(r.c,r.b,null,null,o,null,r.T()):new Bo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Ic(e,i)}))}var n=new Bo("unknown",null,null,null,new T("no-auth-event")),r=!1,i=xn(500).then((function(){return kc(e).then((function(){r||Ic(e,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Rr("BuildInfo.packageName",s).toLowerCase()+"://")&&t({url:e}),"function"==typeof o)try{o(e)}catch(e){console.error(e)}},Ho||(Ho=new Ko),function(e){var t=Ho;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"==typeof(e=Rr("universalLinks.subscribe",s))&&e(null,t.b))}(t)}(e)}))}))),e.f}function kc(e){var t=null;return function(e){return e.b.get(uc,e.a).then((function(e){return zo(e)}))}(e.g).then((function(n){return t=n,ic((n=e.g).b,uc,n.a)})).then((function(){return t}))}function Tc(e){this.a=e,this.b=tc()}(e=wc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(wr(void 0)?br().then((function(){return new Et((function(e,t){var n=s.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):At(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Rr("universalLinks.subscribe",s))throw Ec("cordova-universal-links-plugin-fix is not installed");if(void 0===Rr("BuildInfo.packageName",s))throw Ec("cordova-plugin-buildinfo is not installed");if("function"!=typeof Rr("cordova.plugins.browsertab.openUrl",s))throw Ec("cordova-plugin-browsertab is not installed");if("function"!=typeof Rr("cordova.InAppBrowser.open",s))throw Ec("cordova-plugin-inappbrowser is not installed")}),(function(){throw new T("cordova-not-ready")}))},e.Pb=function(e,t){return t(new T("operation-not-supported-in-this-environment")),Nt()},e.Nb=function(){return At(new T("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(e,t,n,r){if(this.c)return At(new T("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=Nt().then((function(){return Vo(t),Sc(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new Bo(t,r,null,o,new T("no-auth-event"),null,i),u=Rr("BuildInfo.packageName",s);if("string"!=typeof u)throw new T("invalid-cordova-configuration");var c=Rr("BuildInfo.displayName",s),l={};if(Pr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Pr().toLowerCase().match(/android/))return At(new T("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=function(e){var t=new _c;vc(t,e),e=[];var n=8*t.g;56>t.c?vc(t,gc,56-t.c):vc(t,gc,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(mc(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return H(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}(o),l.sessionId=o;var h=yu(e.v,e.i,e.l,t,n,null,r,e.m,l,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(uc,a.w(),t)})).then((function(){var t=Rr("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof t)throw new T("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!=typeof(n=Rr("cordova.plugins.browsertab.openUrl",s)))throw new T("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Rr("cordova.InAppBrowser.open",s)))throw new T("invalid-cordova-configuration");t=Pr(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new Et((function(e,t){u=function(){var t=Rr("cordova.plugins.browsertab.close",s);return e(),"function"==typeof t&&t(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=xn(2e3).then((function(){t(new T("redirect-cancelled-by-user"))})))},l=function(){Wr()&&c()},o.addEventListener("resume",c,!1),Pr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(e){return kc(i).then((function(){throw e}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Ta(u),i.c=null}))},e.Ea=function(e){this.b.push(e),Sc(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Bo("unknown",null,null,null,new T("no-auth-event")),e(t))}))},e.Ta=function(e){X(this.b,(function(t){return t==e}))};var Cc={name:"pendingRedirect",F:"session"};function xc(e){return ic(e.b,Cc,e.a)}function Nc(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=w(this.s,this),this.b=new Kc,this.C=new $c,this.g=new Tc(Bc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Ac(this.D,this.v,this.m,x,this.J)}function Ac(e,t,n,r,i){var o=Y.default.SDK_VERSION||null;return wr()?new wc(e,t,n,o,r,i):new pu(e,t,n,o,r,i)}function Pc(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function Rc(e){e.a.Yb()&&Pc(e).o((function(t){var n=new Bo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Uc(t)&&e.s(n)})),e.a.Ub()||Wc(e.b)}function Oc(e,t){Q(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Cc,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?xc(e.g).then((function(){Pc(e).o((function(t){var n=new Bo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Uc(t)&&e.s(n)}))})):Rc(e)})).o((function(){Rc(e)}))}function Dc(e,t){X(e.h,(function(e){return e==t}))}Nc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Ac(this.D,this.v,this.m,null,this.J),this.i={}},Nc.prototype.s=function(e){if(!e)throw new T("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return Wc(this.b),t};var Lc=new Kr(2e3,1e4),Mc=new Kr(3e4,6e4);function Fc(e,t,n,r,i,o,a){return e.a.Nb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function Uc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function jc(e,t,n,r,i){var o;return function(e){return e.b.set(Cc,"pending",e.a)}(e.g).then((function(){return e.a.Ob(t,n,r,i).o((function(t){if(Uc(t))throw new T("operation-not-supported-in-this-environment");return o=t,xc(e.g).then((function(){throw o}))})).then((function(){return e.a.ac()?new Et((function(){})):xc(e.g).then((function(){return e.ra()})).then((function(){})).o((function(){}))}))}))}function qc(e,t,n,r,i){return e.a.Pb(r,(function(e){t.na(n,null,e,i)}),Lc.get())}Nc.prototype.ra=function(){return this.b.ra()};var Vc={};function Bc(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function zc(e,t,n,r){var i=Bc(t,n,r);return Vc[i]||(Vc[i]=new Nc(e,t,n,r)),Vc[i]}function Kc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Wc(e){e.g||(e.g=!0,Qc(e,!1,null,null))}function Hc(e){e.g&&!e.i&&Qc(e,!1,null,null)}function Gc(e,t){if(e.b=function(){return Nt(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Qc(e,t,n,r){t?r?function(e,t){if(e.b=function(){return At(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):Gc(e,n):Gc(e,{user:null}),e.f=[],e.c=[]}function $c(){}function Yc(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(e){this.jb=e},enumerable:!1})}function Xc(e,t){this.a=t,Jr(this,"verificationId",e)}function Jc(e,t,n,r){return new Uo(e).gb(t,n).then((function(e){return new Xc(e,r)}))}function Zc(e){var t=Hi(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Zr(this,{token:e,expirationTime:Hr(1e3*t.exp),authTime:Hr(1e3*t.auth_time),issuedAtTime:Hr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function el(e,t,n){var r=t&&t[nl];if(!r)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=me(t),this.g=n,this.c=new so(null,r),this.b=[];var i=this;K(t[tl]||[],(function(e){(e=ri(e))&&i.b.push(e)})),Jr(this,"auth",this.a),Jr(this,"session",this.c),Jr(this,"hints",this.b)}Kc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Kc.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(Qc(this,!0,null,e.a),Nt()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){Qc(e,s,t,null)})).o((function(t){Qc(e,s,null,t)}))}(this,e,t):At(new T("invalid-auth-event")):(Qc(this,!1,null,null),Nt())}else At(new T("invalid-auth-event"))},Kc.prototype.ra=function(){var e=this;return new Et((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new T("timeout");e.a&&e.a.cancel(),e.a=xn(Mc.get()).then((function(){e.b||(e.g=!0,Qc(e,!0,null,t))}))}(e))}))},$c.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),Nt()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then((function(e){t.na(r,e,null,n)})).o((function(e){t.na(r,null,e,n)}))}(e,t):At(new T("invalid-auth-event"))}else At(new T("invalid-auth-event"))},Xc.prototype.confirm=function(e){return e=jo(this.verificationId,e),this.a(e)};var tl="mfaInfo",nl="mfaPendingCredential";function rl(e,t,n,r){T.call(this,"multi-factor-auth-required",r,t),this.b=new el(e,t,n),Jr(this,"resolver",this.b)}function il(e,t,n){if(e&&g(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new rl(t,e.serverResponse,n,e.message)}catch(e){}return null}function ol(){}function al(e){Jr(this,"factorId",e.fa),this.a=e}function sl(e){if(al.call(this,e),this.a.fa!=Uo.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ul(e,t){for(var n in Jt.call(this,e),t)this[n]=t[n]}function cl(e,t){this.a=e,this.b=[],this.c=w(this.yc,this),hn(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&K(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[ai]=e.uid),e.displayName&&(r[ii]=e.displayName),e.enrollmentTime&&(r[oi]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[si]=e.phoneNumber);try{t=new ui(r)}catch(e){}e=t}else e=null;e&&n.push(e)})),ll(this,n)}function ll(e,t){e.b=t,Jr(e,"enrolledFactors",t)}function hl(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function fl(e,t){e.stop(),e.b=xn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(e,t)).then((function(){return function(){var e=s.document,t=null;return Wr()||!e?Nt():new Et((function(n){t=function(){Wr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return e.h()})).then((function(){fl(e,!0)})).o((function(t){e.i(t)&&fl(e,!1)}))}function dl(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function pl(e,t){void 0===t&&(t=e.b?(t=e.b).a-t.g:0),e.c=Date.now()+1e3*t}function gl(e,t){e.b=Wi(t[Za]||""),e.a=t.refreshToken,pl(e,void 0!==(t=t.expiresIn)?Number(t):void 0)}function ml(e,t){this.a=e||null,this.b=t||null,Zr(this,{lastSignInTime:Hr(t||null),creationTime:Hr(e||null)})}function vl(e,t,n,r,i,o){Zr(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function yl(e,t,n){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var r=Y.default.SDK_VERSION?Ar(Y.default.SDK_VERSION):null;this.a=new Xa(this.l,R(x),r),(this.u=e.emulatorConfig||null)&&os(this.a,this.u),this.h=new dl(this.a),Cl(this,t[Za]),gl(this.h,t),Jr(this,"refreshToken",this.h.a),Al(this,n||{}),In.call(this),this.P=!1,this.s&&Dr()&&(this.b=zc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(e){return new hl((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.h.c-Date.now()-3e5;return 0<t?t:0}))}(this),this.ba=w(this.ib,this);var i=this;this.za=null,this.Pa=function(e){i.xa(e.h)},this.qa=null,this.Ba=function(e){_l(i,e.c)},this.$=null,this.aa=[],this.Oa=function(e){El(i,e.f)},this.ja=null,this.S=new cl(this,n),Jr(this,"multiFactor",this.S)}function _l(e,t){e.u=t,os(e.a,t),e.b&&(t=e.b,e.b=zc(e.s,e.l,e.m,e.u),e.P&&(Dc(t,e),Oc(e.b,e)))}function bl(e,t){e.qa&&pn(e.qa,"languageCodeChanged",e.Pa),(e.qa=t)&&hn(t,"languageCodeChanged",e.Pa)}function wl(e,t){e.$&&pn(e.$,"emulatorConfigChanged",e.Ba),(e.$=t)&&hn(t,"emulatorConfigChanged",e.Ba)}function El(e,t){e.aa=t,ss(e.a,Y.default.SDK_VERSION?Ar(Y.default.SDK_VERSION,e.aa):null)}function Il(e,t){e.ja&&pn(e.ja,"frameworkChanged",e.Oa),(e.ja=t)&&hn(t,"frameworkChanged",e.Oa)}function Sl(e){try{return Y.default.app(e.m).auth()}catch(t){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function kl(e){e.J||e.D.b||(e.D.start(),pn(e,"tokenChanged",e.ba),hn(e,"tokenChanged",e.ba))}function Tl(e){pn(e,"tokenChanged",e.ba),e.D.stop()}function Cl(e,t){e.Aa=t,Jr(e,"_lat",t)}function xl(e){for(var t=[],n=0;n<e.W.length;n++)t.push(e.W[n](e));return Rt(t).then((function(){return e}))}function Nl(e){e.b&&!e.P&&(e.P=!0,Oc(e.b,e))}function Al(e,t){Zr(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new ml(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Pl(){}function Rl(e){return Nt().then((function(){if(e.J)throw new T("app-deleted")}))}function Ol(e){return H(e.providerData,(function(e){return e.providerId}))}function Dl(e,t){t&&(Ll(e,t.providerId),e.providerData.push(t))}function Ll(e,t){X(e.providerData,(function(e){return e.providerId==t}))}function Ml(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Jr(e,t,n)}function Fl(e,t){e!=t&&(Zr(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?Jr(e,"metadata",function(e){return new ml(e.a,e.b)}(t.metadata)):Jr(e,"metadata",new ml),K(t.providerData,(function(t){Dl(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.h,t.h),Jr(e,"refreshToken",e.h.a),ll(e.S,t.S.b))}function Ul(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return ru(e.a,Ds,{idToken:t}).then(w(e.Kc,e))}(e,t).then((function(){return n||Ml(e,"isAnonymous",!1),t}))}))}function jl(e,t){t[Za]&&e.Aa!=t[Za]&&(gl(e.h,t),e.dispatchEvent(new ul("tokenChanged")),Cl(e,t[Za]),Ml(e,"refreshToken",e.h.a))}function ql(e,t){return Ul(e).then((function(){if(Q(Ol(e),t))return xl(e).then((function(){throw new T("provider-already-linked")}))}))}function Vl(e,t,n){return ei({user:e,credential:qo(t),additionalUserInfo:t=Xi(t),operationType:n})}function Bl(e,t){return jl(e,t),e.reload().then((function(){return e}))}function zl(e,t,n,r,i){if(!Dr())return At(new T("operation-not-supported-in-this-environment"));if(e.i&&!i)return At(e.i);var o=Yi(n.providerId),a=Vr(e.uid+":::"),s=null;(!Fr()||Er())&&e.s&&n.isOAuthProvider&&(s=yu(e.s,e.l,e.m,t,n,null,a,Y.default.SDK_VERSION||null,null,null,e.tenantId,e.u));var u=vr(s,o&&o.va,o&&o.ua);return r=r().then((function(){if(Wl(e),!i)return e.I().then((function(){}))})).then((function(){return Fc(e.b,u,t,n,a,!!s,e.tenantId)})).then((function(){return new Et((function(n,r){e.na(t,null,new T("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=a,e.c=qc(e.b,e,t,u,a)}))})).then((function(e){return u&&mr(u),e?ei(e):null})).o((function(e){throw u&&mr(u),e})),Hl(e,r,i)}function Kl(e,t,n,r,i){if(!Dr())return At(new T("operation-not-supported-in-this-environment"));if(e.i&&!i)return At(e.i);var o=null,a=Vr(e.uid+":::");return r=r().then((function(){if(Wl(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,xl(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set($l,e.w(),t.a)),t})).then((function(){return jc(e.b,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ha)return Yl(e.ha);throw o})).then((function(){if(o)throw o})),Hl(e,r,i)}function Wl(e){if(!e.b||!e.P){if(e.b&&!e.P)throw new T("internal-error");throw new T("auth-domain-config-required")}}function Hl(e,t,n){var r=function(e,t,n){return e.i&&!n?(t.cancel(),At(e.i)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||e.dispatchEvent(new ul("userInvalidated")),e.i=t),t}))}(e,t,n);return e.N.push(r),r.oa((function(){$(e.N,r)})),r.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=il(t.w(),Sl(e),w(e.jc,e))),n||t}))}function Gl(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[Za]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new yl(t,n,e);return e.providerData&&K(e.providerData,(function(e){e&&Dl(i,ei(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function Ql(e){this.a=e,this.b=tc()}el.prototype.Rc=function(e){var t=this;return e.tb(this.a.a,this.c).then((function(e){var n=me(t.f);return delete n[tl],delete n[nl],ye(n,e),t.g(n)}))},S(rl,T),ol.prototype.tb=function(e,t,n){return t.type==uo?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),ye(n,{phoneVerificationInfo:Fo(e.a)}),ru(t,Rs,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return ye(n={mfaPendingCredential:n},{phoneVerificationInfo:Fo(e.a)}),ru(t,Os,n)}))}(this,e,t)},S(al,ol),S(sl,al),S(ul,Jt),(e=cl.prototype).yc=function(e){ll(this,function(e){var t=[];return K(e.mfaInfo||[],(function(e){(e=ri(e))&&t.push(e)})),t}(e.hd))},e.Sb=function(){return this.a.I().then((function(e){return new so(e,null)}))},e.fc=function(e,t){var n=this,r=this.a.a;return this.Sb().then((function(n){return e.tb(r,n,t)})).then((function(e){return jl(n.a,e),n.a.reload()}))},e.bd=function(e){var t=this,n="string"==typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return ru(r,nu,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=W(t.b,(function(e){return e.uid!=n}));return ll(t,r),jl(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.w=function(){return{multiFactor:{enrolledFactors:H(this.b,(function(e){return e.w()}))}}},hl.prototype.start=function(){this.a=this.c,fl(this,!0)},hl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},dl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},dl.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?At(new T("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?function(e,t){return function(e,t){return new Et((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?us(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(ou(e)):e.access_token&&e.refresh_token?n(e):r(new T("internal-error")):r(new T("network-request-failed"))}),"POST",Zn(t).toString(),e.g,e.m.get()):r(new T("internal-error"))}))}(e.f,t).then((function(t){return e.b=Wi(t.access_token),e.a=t.refresh_token,pl(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Nt(null):Nt({accessToken:this.b.toString(),refreshToken:this.a})},ml.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},S(yl,In),yl.prototype.xa=function(e){this.za=e,is(this.a,e)},yl.prototype.la=function(){return this.za},yl.prototype.Ga=function(){return Z(this.aa)},yl.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Jr(yl.prototype,"providerId","firebase"),(e=yl.prototype).reload=function(){var e=this;return Hl(this,Rl(this).then((function(){return Ul(e).then((function(){return xl(e)})).then(Pl)})))},e.oc=function(e){return this.I(e).then((function(e){return new Zc(e)}))},e.I=function(e){var t=this;return Hl(this,Rl(this).then((function(){return t.h.getToken(e)})).then((function(e){if(!e)throw new T("internal-error");return e.accessToken!=t.Aa&&(Cl(t,e.accessToken),t.dispatchEvent(new ul("tokenChanged"))),Ml(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new T("internal-error");Al(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?H(e,(function(e){return new vl(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Dl(this,t[n]);Ml(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new ul("userReloaded",{hd:e}))},e.Lc=function(e){return Yr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(e)},e.ub=function(e){var t=this,n=null;return Hl(this,e.c(this.a,this.uid).then((function(e){return jl(t,e),n=Vl(t,e,"reauthenticate"),t.i=null,t.reload()})).then((function(){return n})),!0)},e.Cc=function(e){return Yr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(e)},e.rb=function(e){var t=this,n=null;return Hl(this,ql(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Vl(t,e,"link"),Bl(t,e)})).then((function(){return n})))},e.Dc=function(e,t){var n=this;return Hl(this,ql(this,"phone").then((function(){return Jc(Sl(n),e,t,w(n.rb,n))})))},e.Mc=function(e,t){var n=this;return Hl(this,Nt().then((function(){return Jc(Sl(n),e,t,w(n.ub,n))})),!0)},e.Cb=function(e){var t=this;return Hl(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return jl(t,e),t.reload()})))},e.ed=function(e){var t=this;return Hl(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return jl(t,e),t.reload()})))},e.Db=function(e){var t=this;return Hl(this,this.I().then((function(n){return t.a.Db(n,e)})).then((function(e){return jl(t,e),t.reload()})))},e.Eb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Rl(this);var t=this;return Hl(this,this.I().then((function(n){return t.a.Eb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return jl(t,e),Ml(t,"displayName",e.displayName||null),Ml(t,"photoURL",e.photoUrl||null),K(t.providerData,(function(e){"password"===e.providerId&&(Jr(e,"displayName",t.displayName),Jr(e,"photoURL",t.photoURL))})),xl(t)})).then(Pl))},e.cd=function(e){var t=this;return Hl(this,Ul(this).then((function(n){return Q(Ol(t),e)?function(e,t,n){return ru(e,Ns,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return K(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),K(Ol(t),(function(e){n[e]||Ll(t,e)})),n[Uo.PROVIDER_ID]||Jr(t,"phoneNumber",null),xl(t)})):xl(t).then((function(){throw new T("no-such-provider")}))})))},e.delete=function(){var e=this;return Hl(this,this.I().then((function(t){return ru(e.a,xs,{idToken:t})})).then((function(){e.dispatchEvent(new ul("userDeleted"))}))).then((function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");bl(e,null),wl(e,null),Il(e,null),e.N=[],e.J=!0,Tl(e),Jr(e,"refreshToken",null),e.b&&Dc(e.b,e)}))},e.Gb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?w(this.Lb,this):"reauthViaPopup"==e&&t==(this.g||null)?w(this.Mb,this):"linkViaRedirect"==e&&(this.ga||null)==t?w(this.Lb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?w(this.Mb,this):null},e.Ec=function(e){var t=this;return zl(this,"linkViaPopup",e,(function(){return ql(t,e.providerId).then((function(){return xl(t)}))}),!1)},e.Nc=function(e){return zl(this,"reauthViaPopup",e,(function(){return Nt()}),!0)},e.Fc=function(e){var t=this;return Kl(this,"linkViaRedirect",e,(function(){return ql(t,e.providerId)}),!1)},e.Oc=function(e){return Kl(this,"reauthViaRedirect",e,(function(){return Nt()}),!0)},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Hl(this,this.I().then((function(n){return ws(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=Vl(i,e,"link"),Bl(i,e)})).then((function(){return o})))},e.Mb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Hl(this,Nt().then((function(){return ho(Es(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=Vl(i,e,"reauthenticate"),jl(i,e),i.i=null,i.reload()})).then((function(){return o})),!0)},e.vb=function(e){var t=this,n=null;return Hl(this,this.I().then((function(t){return n=t,void 0===e||ge(e)?{}:Bi(new Ri(e))})).then((function(e){return t.a.vb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Fb=function(e,t){var n=this,r=null;return Hl(this,this.I().then((function(e){return r=e,void 0===t||ge(t)?{}:Bi(new Ri(t))})).then((function(t){return n.a.Fb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.jc=function(e){var t=null,n=this;return Hl(this,e=ho(Nt(e),n.uid).then((function(e){return t=Vl(n,e,"reauthenticate"),jl(n,e),n.i=null,n.reload()})).then((function(){return t})),!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&ye(e,this.metadata.w()),K(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),ye(e,this.S.w()),e};var $l={name:"redirectUser",F:"session"};function Yl(e){return ic(e.b,$l,e.a)}function Xl(e){this.a=e,this.b=tc(),this.c=null,this.f=function(e){var t=eh("local"),n=eh("session"),r=eh("none");return function(e,t,n){var r=rc(t,n),i=nc(e,t.F);return e.get(t,n).then((function(o){var a=null;try{a=qr(s.localStorage.getItem(r))}catch(e){}if(a&&!o)return s.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(Zl,e.a).then((function(e){return e?eh(e):t}))}))}))})).then((function(t){return e.c=t,Jl(e,t.F)})).o((function(){e.c||(e.c=t)}))}(this),this.b.addListener(eh("local"),this.a,w(this.g,this))}function Jl(e,t){var n,r=[];for(n in Zu)Zu[n]!==t&&r.push(ic(e.b,eh(Zu[n]),e.a));return r.push(ic(e.b,Zl,e.a)),function(e){return new Et((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)Pt(e[s],E(o,s),a);else t(i)}))}(r)}Xl.prototype.g=function(){var e=this,t=eh("local");ih(this,(function(){return Nt().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return Jl(e,"local").then((function(){e.c=t}))}))}))};var Zl={name:"persistence",F:"session"};function eh(e){return{name:"authUser",F:e}}function th(e,t){return ih(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function nh(e){return ih(e,(function(){return ic(e.b,e.c,e.a)}))}function rh(e,t,n){return ih(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),Gl(e||{})}))}))}function ih(e,t){return e.f=e.f.then(t,t),e.f}function oh(e){if(this.l=!1,Jr(this,"settings",new Yc),Jr(this,"app",e),!dh(this).options||!dh(this).options.apiKey)throw new T("invalid-api-key");e=Y.default.SDK_VERSION?Ar(Y.default.SDK_VERSION):null,this.a=new Xa(dh(this).options&&dh(this).options.apiKey,R(x),e),this.P=[],this.s=[],this.N=[],this.Pa=Y.default.INTERNAL.createSubscribe(w(this.zc,this)),this.W=void 0,this.ib=Y.default.INTERNAL.createSubscribe(w(this.Ac,this)),hh(this,null),this.i=new Xl(dh(this).options.apiKey+":"+dh(this).name),this.D=new Ql(dh(this).options.apiKey+":"+dh(this).name),this.$=vh(this,function(e){var t=dh(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get($l,e.a).then((function(e){return e&&t&&(e.authDomain=t),Gl(e||{})}))}(e.D,dh(e).options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),Yl(e.D)}));return vh(e,t)}(e).then((function(){return rh(e.i,t,e.R)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return th(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:nh(e.i)}))):null})).then((function(t){hh(e,t||null)}));return vh(e,n)}(this)),this.h=vh(this,function(e){return e.$.then((function(){return lh(e)})).o((function(){})).then((function(){if(!e.l)return e.ja()})).o((function(){})).then((function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(eh("local"),t.a,e.ja)}}))}(this)),this.ba=!1,this.ja=w(this.Zc,this),this.Ba=w(this.da,this),this.qa=w(this.mc,this),this.za=w(this.wc,this),this.Aa=w(this.xc,this),this.b=null,function(e){var t=dh(e).options.authDomain,n=dh(e).options.apiKey;t&&Dr()&&(e.Oa=e.$.then((function(){if(!e.l){if(e.b=zc(t,n,dh(e).name,e.R),Oc(e.b,e),ph(e)&&Nl(ph(e)),e.m){Nl(e.m);var r=e.m;r.xa(e.la()),bl(r,e),El(r=e.m,e.J),Il(r,e),_l(r=e.m,e.R),wl(r,e),e.m=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Gc,this),this.u=0,In.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.xa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.zb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.R){var e=Vn(this.R.url);e=ei({protocol:e.c,host:e.a,port:e.g,options:ei({disableWarnings:this.R.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.R=null}function ah(e){Jt.call(this,"languageCodeChanged"),this.h=e}function sh(e){Jt.call(this,"emulatorConfigChanged"),this.c=e}function uh(e){Jt.call(this,"frameworkChanged"),this.f=e}function ch(e){return e.Oa||At(new T("auth-domain-config-required"))}function lh(e){if(!Dr())return At(new T("operation-not-supported-in-this-environment"));var t=ch(e).then((function(){return e.b.ra()})).then((function(e){return e?ei(e):null}));return vh(e,t)}function hh(e,t){ph(e)&&(function(e,t){X(e.W,(function(e){return e==t}))}(ph(e),e.Ba),pn(ph(e),"tokenChanged",e.qa),pn(ph(e),"userDeleted",e.za),pn(ph(e),"userInvalidated",e.Aa),Tl(ph(e))),t&&(t.W.push(e.Ba),hn(t,"tokenChanged",e.qa),hn(t,"userDeleted",e.za),hn(t,"userInvalidated",e.Aa),0<e.u&&kl(t)),Jr(e,"currentUser",t),t&&(t.xa(e.la()),bl(t,e),El(t,e.J),Il(t,e),_l(t,e.R),wl(t,e))}function fh(e,t){var n=null,r=null;return vh(e,t.then((function(t){return n=qo(t),r=Xi(t),function(e,t){var n={};return n.apiKey=dh(e).options.apiKey,n.authDomain=dh(e).options.authDomain,n.appName=dh(e).name,e.R&&(n.emulatorConfig=e.R),e.$.then((function(){return function(e,t,n,r){var i=new yl(e,t);return n&&(i.ha=n),r&&El(i,r),i.reload().then((function(){return i}))}(n,t,e.D,e.Ga())})).then((function(t){return ph(e)&&t.uid==ph(e).uid?(Fl(ph(e),t),e.da(t)):(hh(e,t),Nl(t),e.da(t))})).then((function(){mh(e)}))}(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=il(t.w(),e,w(e.kc,e))),n||t})).then((function(){return ei({user:ph(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function dh(e){return e.app}function ph(e){return e.currentUser}function gh(e){return ph(e)&&ph(e)._lat||null}function mh(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](gh(e));if(e.W!==e.getUid()&&e.N.length)for(e.W=e.getUid(),t=0;t<e.N.length;t++)e.N[t]&&e.N[t](gh(e))}}function vh(e,t){return e.P.push(t),t.oa((function(){$(e.P,t)})),t}function yh(){}function _h(){this.a={},this.b=1e12}Xl.prototype.yb=function(e){var t=null,n=this;return function(e){var t=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");e:{for(r in Zu)if(Zu[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch(Sr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Ru()&&"none"!==e)throw n;break;default:if(!Or()&&"none"!==e)throw n}}(e),ih(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,Jl(n,e)})).then((function(){if(n.c=eh(e),t)return n.b.set(n.c,t,n.a)})):Nt()}))},S(oh,In),S(ah,Jt),S(sh,Jt),S(uh,Jt),(e=oh.prototype).yb=function(e){return vh(this,e=this.i.yb(e))},e.xa=function(e){this.aa===e||this.l||(this.aa=e,is(this.a,this.aa),this.dispatchEvent(new ah(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=s.navigator;this.xa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.R){if(!/^https?:\/\//.test(e))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!e&&br().then((function(){var e=s.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),s.document.body.appendChild(e)}))})(t=!!t&&!!t.disableWarnings),this.R={url:e,ec:t},this.settings.jb=!0,os(this.a,this.R),this.dispatchEvent(new sh(this.R))}},e.Gc=function(e){this.J.push(e),ss(this.a,Y.default.SDK_VERSION?Ar(Y.default.SDK_VERSION,this.J):null),this.dispatchEvent(new uh(this.J))},e.Ga=function(){return Z(this.J)},e.zb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:dh(this).options.apiKey,authDomain:dh(this).options.authDomain,appName:dh(this).name,currentUser:ph(this)&&ph(this).w()}},e.Gb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?w(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return fh(i,bs(i.a,o))}))},e.Xc=function(e){if(!Dr())return At(new T("operation-not-supported-in-this-environment"));var t=this,n=Yi(e.providerId),r=Vr(),i=null;(!Fr()||Er())&&dh(this).options.authDomain&&e.isOAuthProvider&&(i=yu(dh(this).options.authDomain,dh(this).options.apiKey,dh(this).name,"signInViaPopup",e,null,r,Y.default.SDK_VERSION||null,null,null,this.T(),this.R));var o=vr(i,n&&n.va,n&&n.ua);return vh(this,n=ch(this).then((function(n){return Fc(n,o,"signInViaPopup",e,r,!!i,t.T())})).then((function(){return new Et((function(e,n){t.na("signInViaPopup",null,new T("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=r,t.c=qc(t.b,t,"signInViaPopup",o,r)}))})).then((function(e){return o&&mr(o),e?ei(e):null})).o((function(e){throw o&&mr(o),e})))},e.Yc=function(e){if(!Dr())return At(new T("operation-not-supported-in-this-environment"));var t=this;return vh(this,ch(this).then((function(){return function(e){return ih(e,(function(){return e.b.set(Zl,e.c.F,e.a)}))}(t.i)})).then((function(){return jc(t.b,"signInViaRedirect",e,void 0,t.T())})))},e.ra=function(){var e=this;return lh(this).then((function(t){return e.b&&Hc(e.b.b),t})).o((function(t){throw e.b&&Hc(e.b.b),t}))},e.dd=function(e){if(!e)return At(new T("null-user"));if(this.S!=e.tenantId)return At(new T("tenant-id-mismatch"));var t=this,n={};n.apiKey=dh(this).options.apiKey,n.authDomain=dh(this).options.authDomain,n.appName=dh(this).name;var r=function(e,t,n,r){var i=e.h,o={};return o[Za]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new yl(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&El(t,r),Fl(t,e),t}(e,n,t.D,t.Ga());return vh(this,this.h.then((function(){if(dh(t).options.apiKey!=e.l)return r.reload()})).then((function(){return ph(t)&&e.uid==ph(t).uid?(Fl(ph(t),e),t.da(e)):(hh(t,r),Nl(r),t.da(r))})).then((function(){mh(t)})))},e.Bb=function(){var e=this;return vh(this,this.h.then((function(){return e.b&&Hc(e.b.b),ph(e)?(hh(e,null),nh(e.i).then((function(){mh(e)}))):Nt()})))},e.Zc=function(){var e=this;return rh(this.i,dh(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=ph(e)&&t){n=ph(e).uid;var r=t.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Fl(ph(e),t),ph(e).I();(ph(e)||t)&&(hh(e,t),t&&(Nl(t),t.ha=e.D),e.b&&Oc(e.b,e),mh(e))}}))},e.da=function(e){return th(this.i,e)},e.mc=function(){mh(this),this.da(ph(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()},e.kc=function(e){var t=this;return this.h.then((function(){return fh(t,Nt(e))}))},e.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(ph(t))}))},e.Ac=function(e){var t=this;!function(e,t){e.N.push(t),vh(e,e.h.then((function(){!e.l&&Q(e.N,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(gh(e)))})))}(this,(function(){e.next(ph(t))}))},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof e?e(ph(r)):"function"==typeof e.next&&e.next(ph(r))})),this.Pa(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"==typeof e?e(ph(r)):"function"==typeof e.next&&e.next(ph(r))})),this.ib(e,t,n)},e.nc=function(e){var t=this;return vh(this,this.h.then((function(){return ph(t)?ph(t).I(e).then((function(e){return{accessToken:e}})):null})))},e.Tc=function(e){var t=this;return this.h.then((function(){return fh(t,ru(t.a,Xs,{token:e}))})).then((function(e){var n=e.user;return Ml(n,"isAnonymous",!1),t.da(n),e}))},e.Uc=function(e,t){var n=this;return this.h.then((function(){return fh(n,ru(n.a,Js,{email:e,password:t}))}))},e.dc=function(e,t){var n=this;return this.h.then((function(){return fh(n,ru(n.a,Ts,{email:e,password:t}))}))},e.ab=function(e){var t=this;return this.h.then((function(){return fh(t,e.ka(t.a))}))},e.Sc=function(e){return Yr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(e)},e.Ab=function(){var e=this;return this.h.then((function(){var t=ph(e);if(t&&t.isAnonymous){var n=ei({providerId:null,isNewUser:!1});return ei({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return fh(e,e.a.Ab()).then((function(t){var n=t.user;return Ml(n,"isAnonymous",!0),e.da(n),t}))}))},e.getUid=function(){return ph(this)&&ph(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&ph(this)&&kl(ph(this))},e.Pc=function(e){var t=this;K(this.s,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&ph(this)&&Tl(ph(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),vh(this,this.h.then((function(){t.l||Q(t.s,e)&&e(gh(t))})))},e.removeAuthTokenListener=function(e){X(this.s,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener(eh("local"),e.a,this.ja),this.b&&(Dc(this.b,this),Hc(this.b.b)),Promise.resolve()},e.hc=function(e){return vh(this,function(e,t){return ru(e,Cs,{identifier:t,continueUri:Lr()?fr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},e.Bc=function(e){return!!Do(e)},e.xb=function(e,t){var n=this;return vh(this,Nt().then((function(){var e=new Ri(t);if(!e.c)throw new T("argument-error",Li+" must be true when sending sign in link to email");return Bi(e)})).then((function(t){return n.a.xb(e,t)})).then((function(){})))},e.jd=function(e){return this.Sa(e).then((function(e){return e.data.email}))},e.ob=function(e,t){return vh(this,this.a.ob(e,t).then((function(){})))},e.Sa=function(e){return vh(this,this.a.Sa(e).then((function(e){return new ci(e)})))},e.kb=function(e){return vh(this,this.a.kb(e).then((function(){})))},e.wb=function(e,t){var n=this;return vh(this,Nt().then((function(){return void 0===t||ge(t)?{}:Bi(new Ri(t))})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},e.Wc=function(e,t){return vh(this,Jc(this,e,t,w(this.ab,this)))},e.Vc=function(e,t){var n=this;return vh(this,Nt().then((function(){var r=t||fr(),i=Oo(e,r);if(!(r=Do(r)))throw new T("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new T("tenant-id-mismatch");return n.ab(i)})))},yh.prototype.render=function(){},yh.prototype.reset=function(){},yh.prototype.getResponse=function(){},yh.prototype.execute=function(){};var bh=null;function wh(e,t){return(t=Eh(t))&&e.a[t]||null}function Eh(e){return(e=void 0===e?1e12:e)?e.toString():null}function Ih(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=lt(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():hn(this.f,"click",this.i)}function Sh(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function kh(){}function Th(){}_h.prototype.render=function(e,t){return this.a[this.b.toString()]=new Ih(e,t),this.b++},_h.prototype.reset=function(e){var t=wh(this,e);e=Eh(e),t&&e&&(t.delete(),delete this.a[e])},_h.prototype.getResponse=function(e){return(e=wh(this,e))?e.getResponse():null},_h.prototype.execute=function(e){(e=wh(this,e))&&e.execute()},Ih.prototype.getResponse=function(){return Sh(this),this.b},Ih.prototype.execute=function(){Sh(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(e){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(e){}e.h&&e.execute()}),6e4)}),500))},Ih.prototype.delete=function(){Sh(this),this.g=!0,clearTimeout(this.a),this.a=null,pn(this.f,"click",this.i)},Jr(kh,"FACTOR_ID","phone"),Th.prototype.g=function(){return bh||(bh=new _h),Nt(bh)},Th.prototype.c=function(){};var Ch=null;function xh(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Nh=new be(Se,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Ah=new Kr(3e4,6e4);xh.prototype.g=function(e){var t=this;return new Et((function(n,r){var i=setTimeout((function(){r(new T("network-request-failed"))}),Ah.get());!s.grecaptcha||e!==t.f&&!t.b?(s[t.a]=function(){if(s.grecaptcha){t.f=e;var o=s.grecaptcha.render;s.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new T("internal-error"));delete s[t.a]},Nt(Ka(xe(Nh,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},xh.prototype.c=function(){this.b--};var Ph=null;function Rh(e,t,n,r,i,o,a){if(Jr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=t,this.g=null,a?(Ch||(Ch=new Th),a=Ch):(Ph||(Ph=new xh),a=Ph),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Lh])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Mh],!s.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!lt(t)||!this.i&&lt(t).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Xa(e,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Oh];this.a[Oh]=function(e){if(Fh(u,e),"function"==typeof c)c(e);else if("string"==typeof c){var t=Rr(c,s);"function"==typeof t&&t(e)}};var l=this.a[Dh];this.a[Dh]=function(){if(Fh(u,null),"function"==typeof l)l();else if("string"==typeof l){var e=Rr(l,s);"function"==typeof e&&e()}}}var Oh="callback",Dh="expired-callback",Lh="sitekey",Mh="size";function Fh(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(e){}}function Uh(e,t){return e.h.push(t),t.oa((function(){$(e.h,t)})),t}function jh(e){if(e.J)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function qh(e,t,n){var r=!1;try{this.b=n||Y.default.app()}catch(e){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(e){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(e){}o=Y.default.SDK_VERSION?Ar(Y.default.SDK_VERSION,o):null,Rh.call(this,n,e,t,(function(){try{var e=i.b.auth().la()}catch(t){e=null}return e}),o,R(x),r)}function Vh(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=Bh.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=Bh[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new T("argument-error",e+" failed: "+r)}(e=Rh.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=Uh(this,Nt().then((function(){if(Lr()&&!Ir())return br();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,ru(e.s,qs,{})})).then((function(t){e.a[Lh]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},e.render=function(){jh(this);var e=this;return Uh(this,this.Ia().then((function(){if(null===e.c){var t=e.v;if(!e.i){var n=lt(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ct&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',We(a.name),'"'),a.type){o.push(' type="',We(a.type),'"');var s={};ye(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=mt(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ht(o,a)),2<r.length&&gt(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){jh(this);var e=this;return Uh(this,this.render().then((function(t){return new Et((function(n){var r=e.g.getResponse(t);if(r)n(r);else{var i=function(t){t&&(function(e,t){X(e.l,(function(e){return e==t}))}(e,i),n(t))};e.l.push(i),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){jh(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){jh(this),this.J=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=lt(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},S(qh,Rh);var Bh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function zh(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"==typeof e}}}function Kh(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"==typeof e}}}function Wh(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:g}}function Hh(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"==typeof e}}}function Gh(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function Qh(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function $h(e,t){return g(e)&&"string"==typeof e.type&&e.type===t&&"function"==typeof e.Ha}function Yh(e){return g(e)&&"string"==typeof e.uid}function Xh(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function Jh(e,t){for(var n in t){var r=t[n].name;e[r]=tf(r,e[n],t[n].j)}}function Zh(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:E((function(e){return this[e]}),n),set:E((function(e,t,n,r){Vh(e,[n],[r],!0),this[t]=r}),r,n,t[n].lb),enumerable:!0})}}function ef(e,t,n,r){e[t]=tf(t,n,r)}function tf(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Vh(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}Jh(oh.prototype,{kb:{name:"applyActionCode",j:[zh("code")]},Sa:{name:"checkActionCode",j:[zh("code")]},ob:{name:"confirmPasswordReset",j:[zh("code"),zh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[zh("email"),zh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[zh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[zh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Xh(Wh(),Hh(),"nextOrObserver"),Hh("opt_error",!0),Hh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Xh(Wh(),Hh(),"nextOrObserver"),Hh("opt_error",!0),Hh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[zh("email"),Xh(Wh("opt_actionCodeSettings",!0),Gh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[zh("email"),Wh("actionCodeSettings")]},yb:{name:"setPersistence",j:[zh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Qh()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Qh()]},Tc:{name:"signInWithCustomToken",j:[zh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[zh("email"),zh("password")]},Vc:{name:"signInWithEmailLink",j:[zh("email"),zh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[zh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Xh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof yl)}},Gh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[zh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[zh("url"),Wh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[zh("code")]}}),Zh(oh.prototype,{lc:{name:"languageCode",lb:Xh(zh(),Gh(),"languageCode")},ti:{name:"tenantId",lb:Xh(zh(),Gh(),"tenantId")}}),oh.Persistence=Zu,oh.Persistence.LOCAL="local",oh.Persistence.SESSION="session",oh.Persistence.NONE="none",Jh(yl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Kh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Kh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Qh()]},rb:{name:"linkWithCredential",j:[Qh()]},Dc:{name:"linkWithPhoneNumber",j:[zh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Qh()]},ub:{name:"reauthenticateWithCredential",j:[Qh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[zh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Xh(Wh("opt_actionCodeSettings",!0),Gh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[zh(null,!0)]},cd:{name:"unlink",j:[zh("provider")]},Cb:{name:"updateEmail",j:[zh("email")]},Db:{name:"updatePassword",j:[zh("password")]},ed:{name:"updatePhoneNumber",j:[Qh("phone")]},Eb:{name:"updateProfile",j:[Wh("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[zh("email"),Xh(Wh("opt_actionCodeSettings",!0),Gh(null,!0),"opt_actionCodeSettings",!0)]}}),Jh(_h.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Jh(yh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Jh(Et.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Zh(Yc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Kh("appVerificationDisabledForTesting")}}),Jh(Xc.prototype,{confirm:{name:"confirm",j:[zh("verificationCode")]}}),ef(lo,"fromJSON",(function(e){e="string"==typeof e?JSON.parse(e):e;for(var t,n=[yo,Po,Mo,go],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[Xh(zh(),Wh(),"json")]),ef(Ro,"credential",(function(e,t){return new Ao(e,t)}),[zh("email"),zh("password")]),Jh(Ao.prototype,{w:{name:"toJSON",j:[zh(null,!0)]}}),Jh(Eo.prototype,{Ca:{name:"addScope",j:[zh("scope")]},Ka:{name:"setCustomParameters",j:[Wh("customOAuthParameters")]}}),ef(Eo,"credential",Io,[Xh(zh(),Wh(),"token")]),ef(Ro,"credentialWithLink",Oo,[zh("email"),zh("emailLink")]),Jh(So.prototype,{Ca:{name:"addScope",j:[zh("scope")]},Ka:{name:"setCustomParameters",j:[Wh("customOAuthParameters")]}}),ef(So,"credential",ko,[Xh(zh(),Wh(),"token")]),Jh(To.prototype,{Ca:{name:"addScope",j:[zh("scope")]},Ka:{name:"setCustomParameters",j:[Wh("customOAuthParameters")]}}),ef(To,"credential",Co,[Xh(zh(),Xh(Wh(),Gh()),"idToken"),Xh(zh(),Gh(),"accessToken",!0)]),Jh(xo.prototype,{Ka:{name:"setCustomParameters",j:[Wh("customOAuthParameters")]}}),ef(xo,"credential",No,[Xh(zh(),Wh(),"token"),zh("secret",!0)]),Jh(wo.prototype,{Ca:{name:"addScope",j:[zh("scope")]},credential:{name:"credential",j:[Xh(zh(),Xh(Wh(),Gh()),"optionsOrIdToken"),Xh(zh(),Gh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Wh("customOAuthParameters")]}}),Jh(mo.prototype,{w:{name:"toJSON",j:[zh(null,!0)]}}),Jh(fo.prototype,{w:{name:"toJSON",j:[zh(null,!0)]}}),ef(Uo,"credential",jo,[zh("verificationId"),zh("verificationCode")]),Jh(Uo.prototype,{gb:{name:"verifyPhoneNumber",j:[Xh(zh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?$h(e.session,uo)&&"string"==typeof e.phoneNumber:e.session&&e.multiFactorHint?$h(e.session,co)&&Yh(e.multiFactorHint):e.session&&e.multiFactorUid?$h(e.session,co)&&"string"==typeof e.multiFactorUid:!!e.phoneNumber&&"string"==typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]}}),Jh(Lo.prototype,{w:{name:"toJSON",j:[zh(null,!0)]}}),Jh(T.prototype,{toJSON:{name:"toJSON",j:[zh(null,!0)]}}),Jh(Qo.prototype,{toJSON:{name:"toJSON",j:[zh(null,!0)]}}),Jh(Go.prototype,{toJSON:{name:"toJSON",j:[zh(null,!0)]}}),Jh(rl.prototype,{toJSON:{name:"toJSON",j:[zh(null,!0)]}}),Jh(el.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}}]}}),Jh(cl.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}},zh("displayName",!0)]},bd:{name:"unenroll",j:[Xh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Yh},zh(),"multiFactorInfoIdentifier")]}}),Jh(qh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),ef(Ii,"parseLink",Pi,[zh("link")]),ef(kh,"assertion",(function(e){return new sl(e)}),[Qh("phone")]),function(){if(void 0===Y.default||!Y.default.INTERNAL||!Y.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:hi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:li,VERIFY_AND_CHANGE_EMAIL:fi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:oh,AuthCredential:lo,Error:T};ef(e,"EmailAuthProvider",Ro,[]),ef(e,"FacebookAuthProvider",Eo,[]),ef(e,"GithubAuthProvider",So,[]),ef(e,"GoogleAuthProvider",To,[]),ef(e,"TwitterAuthProvider",xo,[]),ef(e,"OAuthProvider",wo,[zh("providerId")]),ef(e,"SAMLAuthProvider",bo,[zh("providerId")]),ef(e,"PhoneAuthProvider",Uo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof oh)}}]),ef(e,"RecaptchaVerifier",qh,[Xh(zh(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),Wh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof Y.default.app.App)}}]),ef(e,"ActionCodeURL",Ii,[]),ef(e,"PhoneMultiFactorGenerator",kh,[]),Y.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new oh(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC"}),Y.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:w((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:w(e.nc,e),addAuthTokenListener:w(e.cc,e),removeAuthTokenListener:w(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Y.default.registerVersion("@firebase/auth","0.16.7"),Y.default.INTERNAL.extendNamespace({User:yl})}()}.apply(void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var J=n(589),Z=n(594),ee=function(e,t){return(ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function te(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var ne,re="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},ie=ie||{},oe=re||self;function ae(){}function se(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ue(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ce="closure_uid_"+(1e9*Math.random()>>>0),le=0;function he(e,t,n){return e.call.apply(e.bind,arguments)}function fe(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function de(e,t,n){return(de=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?he:fe).apply(null,arguments)}function pe(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ge(){return Date.now()}function me(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Pb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function ve(){this.j=this.j,this.i=this.i}ve.prototype.j=!1,ve.prototype.ka=function(){!this.j&&(this.j=!0,this.H(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,ce)&&e[ce]||(e[ce]=++le)}(this)},ve.prototype.H=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var ye=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},_e=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function be(e){return Array.prototype.concat.apply([],arguments)}function we(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ee(e){return/^[\s\xa0]*$/.test(e)}var Ie,Se=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function ke(e,t){return-1!=e.indexOf(t)}function Te(e,t){return e<t?-1:e>t?1:0}e:{var Ce=oe.navigator;if(Ce){var xe=Ce.userAgent;if(xe){Ie=xe;break e}}Ie=""}function Ne(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Ae(e){var t={};for(var n in e)t[n]=e[n];return t}var Pe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Re(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<Pe.length;o++)n=Pe[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Oe(e){return Oe[" "](e),e}Oe[" "]=ae;var De,Le,Me=ke(Ie,"Opera"),Fe=ke(Ie,"Trident")||ke(Ie,"MSIE"),Ue=ke(Ie,"Edge"),je=Ue||Fe,qe=ke(Ie,"Gecko")&&!(ke(Ie.toLowerCase(),"webkit")&&!ke(Ie,"Edge"))&&!(ke(Ie,"Trident")||ke(Ie,"MSIE"))&&!ke(Ie,"Edge"),Ve=ke(Ie.toLowerCase(),"webkit")&&!ke(Ie,"Edge");function Be(){var e=oe.document;return e?e.documentMode:void 0}e:{var ze="",Ke=(Le=Ie,qe?/rv:([^\);]+)(\)|;)/.exec(Le):Ue?/Edge\/([\d\.]+)/.exec(Le):Fe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Le):Ve?/WebKit\/(\S+)/.exec(Le):Me?/(?:Version)[ \/]?(\S+)/.exec(Le):void 0);if(Ke&&(ze=Ke?Ke[1]:""),Fe){var We=Be();if(null!=We&&We>parseFloat(ze)){De=String(We);break e}}De=ze}var He,Ge={};function Qe(e){return function(e,t){var n=Ge;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,(function(){for(var t=0,n=Se(String(De)).split("."),r=Se(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=Te(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||Te(0==a[2].length,0==s[2].length)||Te(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}oe.document&&Fe?He=Be()||parseInt(De,10)||void 0:He=void 0;var $e=He,Ye=!Fe||9<=Number($e),Xe=Fe&&!Qe("9"),Je=function(){if(!oe.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{oe.addEventListener("test",ae,t),oe.removeEventListener("test",ae,t)}catch(e){}return e}();function Ze(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function et(e,t){if(Ze.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(qe){e:{try{Oe(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:tt[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}Ze.prototype.b=function(){this.defaultPrevented=!0},me(et,Ze);var tt={2:"touch",3:"pen",4:"mouse"};et.prototype.b=function(){et.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Xe)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}};var nt="closure_listenable_"+(1e6*Math.random()|0),rt=0;function it(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.da=i,this.key=++rt,this.Y=this.Z=!1}function ot(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.da=null}function at(e){this.src=e,this.a={},this.b=0}function st(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=ye(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ot(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function ut(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.Y&&o.listener==t&&o.capture==!!n&&o.da==r)return i}return-1}at.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=ut(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new it(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var ct="closure_lm_"+(1e6*Math.random()|0),lt={};function ht(e,t,n,r,i){if(r&&r.once)return dt(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)ht(e,t[o],n,r,i);return null}return n=wt(n),e&&e[nt]?e.wa(t,n,ue(r)?!!r.capture:!!r,i):ft(e,t,n,!1,r,i)}function ft(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=ue(i)?!!i.capture:!!i;if(a&&!Ye)return null;var s=_t(e);if(s||(e[ct]=s=new at(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=yt,t=Ye?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Je||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(mt(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function dt(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)dt(e,t[o],n,r,i);return null}return n=wt(n),e&&e[nt]?e.xa(t,n,ue(r)?!!r.capture:!!r,i):ft(e,t,n,!0,r,i)}function pt(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)pt(e,t[o],n,r,i);else r=ue(r)?!!r.capture:!!r,n=wt(n),e&&e[nt]?(e=e.c,(t=String(t).toString())in e.a&&-1<(n=ut(o=e.a[t],n,r,i))&&(ot(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--))):e&&(e=_t(e))&&(t=e.a[t.toString()],e=-1,t&&(e=ut(t,n,r,i)),(n=-1<e?t[e]:null)&&gt(n))}function gt(e){if("number"!=typeof e&&e&&!e.Y){var t=e.src;if(t&&t[nt])st(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(mt(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=_t(t))?(st(n,e),0==n.b&&(n.src=null,t[ct]=null)):ot(e)}}}function mt(e){return e in lt?lt[e]:lt[e]="on"+e}function vt(e,t){var n=e.listener,r=e.da||e.src;return e.Z&&gt(e),n.call(r,t)}function yt(e,t){if(e.Y)return!0;if(!Ye){if(!t)e:{t=["window","event"];for(var n=oe,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}return vt(e,t=new et(t,this))}return vt(e,new et(t,this))}function _t(e){return(e=e[ct])instanceof at?e:null}var bt="__closure_events_fn_"+(1e9*Math.random()>>>0);function wt(e){return"function"==typeof e?e:(e[bt]||(e[bt]=function(t){return e.handleEvent(t)}),e[bt])}function Et(){ve.call(this),this.c=new at(this),this.J=this,this.D=null}function It(e,t){var n,r=e.D;if(r)for(n=[];r;r=r.D)n.push(r);if(e=e.J,r=t.type||t,"string"==typeof t)t=new Ze(t,e);else if(t instanceof Ze)t.target=t.target||e;else{var i=t;Re(t=new Ze(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.a=n[o];i=St(a,r,!0,t)&&i}if(i=St(a=t.a=e,r,!0,t)&&i,i=St(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=St(a=t.a=n[o],r,!1,t)&&i}function St(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.da||a.src;a.Z&&st(e.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}me(Et,ve),Et.prototype[nt]=!0,(ne=Et.prototype).addEventListener=function(e,t,n,r){ht(this,e,t,n,r)},ne.removeEventListener=function(e,t,n,r){pt(this,e,t,n,r)},ne.H=function(){if(Et.X.H.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)ot(n[r]);delete t.a[e],t.b--}}this.D=null},ne.wa=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},ne.xa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var kt=oe.JSON.stringify;function Tt(){this.b=this.a=null}var Ct,xt=new(function(){function e(e,t){this.c=e,this.f=t,this.b=0,this.a=null}return e.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e},e}())((function(){return new At}),(function(e){e.reset()}));function Nt(){var e=Dt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function At(){this.next=this.b=this.a=null}function Pt(e){oe.setTimeout((function(){throw e}),0)}function Rt(e,t){Ct||function(){var e=oe.Promise.resolve(void 0);Ct=function(){e.then(Lt)}}(),Ot||(Ct(),Ot=!0),Dt.add(e,t)}Tt.prototype.add=function(e,t){var n=xt.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},At.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},At.prototype.reset=function(){this.next=this.b=this.a=null};var Ot=!1,Dt=new Tt;function Lt(){for(var e;e=Nt();){try{e.a.call(e.b)}catch(e){Pt(e)}var t=xt;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}Ot=!1}function Mt(e,t){Et.call(this),this.b=e||1,this.a=t||oe,this.f=de(this.eb,this),this.g=ge()}function Ft(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}function Ut(e,t,n){if("function"==typeof e)n&&(e=de(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=de(e.handleEvent,e)}return 2147483647<Number(t)?-1:oe.setTimeout(e,t||0)}function jt(e){e.a=Ut((function(){e.a=null,e.c&&(e.c=!1,jt(e))}),e.h);var t=e.b;e.b=null,e.g.apply(null,t)}me(Mt,Et),(ne=Mt.prototype).aa=!1,ne.M=null,ne.eb=function(){if(this.aa){var e=ge()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),It(this,"tick"),this.aa&&(Ft(this),this.start()))}},ne.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=ge())},ne.H=function(){Mt.X.H.call(this),Ft(this),delete this.a};var qt=function(e){function t(t,n){var r=e.call(this)||this;return r.g=t,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(e,t){function n(){this.constructor=e}ee(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.f=function(e){this.b=arguments,this.a?this.c=!0:jt(this)},t.prototype.H=function(){e.prototype.H.call(this),this.a&&(oe.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(ve);function Vt(e){ve.call(this),this.b=e,this.a={}}me(Vt,ve);var Bt=[];function zt(e,t,n,r){Array.isArray(n)||(n&&(Bt[0]=n.toString()),n=Bt);for(var i=0;i<n.length;i++){var o=ht(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function Kt(e){Ne(e.a,(function(e,t){this.a.hasOwnProperty(t)&&gt(e)}),e),e.a={}}function Wt(){this.a=!0}function Ht(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return kt(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}Vt.prototype.H=function(){Vt.X.H.call(this),Kt(this)},Vt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Wt.prototype.info=function(){};var Gt={},Qt=null;function $t(){return Qt=Qt||new Et}function Yt(e){Ze.call(this,Gt.Ga,e)}function Xt(e){var t=$t();It(t,new Yt(t,e))}function Jt(e,t){Ze.call(this,Gt.STAT_EVENT,e),this.stat=t}function Zt(e){var t=$t();It(t,new Jt(t,e))}function en(e){Ze.call(this,Gt.Ha,e)}function tn(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return oe.setTimeout((function(){e()}),t)}Gt.Ga="serverreachability",me(Yt,Ze),Gt.STAT_EVENT="statevent",me(Jt,Ze),Gt.Ha="timingevent",me(en,Ze);var nn={NO_ERROR:0,fb:1,sb:2,rb:3,mb:4,qb:5,tb:6,Ea:7,TIMEOUT:8,wb:9},rn={kb:"complete",Gb:"success",Fa:"error",Ea:"abort",yb:"ready",zb:"readystatechange",TIMEOUT:"timeout",ub:"incrementaldata",xb:"progress",nb:"downloadprogress",Ob:"uploadprogress"};function on(){}function an(e){return e.b||(e.b=e.c())}function sn(){}on.prototype.b=null;var un,cn={OPEN:"a",jb:"b",Fa:"c",vb:"d"};function ln(){Ze.call(this,"d")}function hn(){Ze.call(this,"c")}function fn(){}function dn(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new Vt(this),this.P=pn,e=je?125:void 0,this.R=new Mt(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.G=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}me(ln,Ze),me(hn,Ze),me(fn,on),fn.prototype.a=function(){return new XMLHttpRequest},fn.prototype.c=function(){return{}},un=new fn;var pn=45e3,gn={},mn={};function vn(e,t,n){e.G=1,e.i=jn(On(t)),e.j=n,e.I=!0,yn(e,null)}function yn(e,t){e.u=ge(),wn(e),e.l=On(e.i);var n=e.l,r=e.S;Array.isArray(r)||(r=[String(r)]),Jn(n.b,"t",r),e.D=0,e.a=Hr(e.g,e.g.C?t:null),0<e.O&&(e.F=new qt(de(e.Da,e,e.a),e.O)),zt(e.J,e.a,"readystatechange",e.bb),t=e.B?Ae(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),Xt(1),function(e,t,n,r,i,o){e.info((function(){if(e.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.c,e.m,e.l,e.f,e.S,e.j)}function _n(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=bn(e,n);if(i==mn){4==t&&(e.h=4,Zt(14),r=!1),Ht(e.c,e.f,null,"[Incomplete Response]");break}if(i==gn){e.h=4,Zt(15),Ht(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}Ht(e.c,e.f,i,null),Tn(e,i)}4==t&&0==n.length&&(e.h=1,Zt(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.V&&(e.V=!0,(t=e.g).a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ur(t),t.F=!0,Zt(11))):(Ht(e.c,e.f,n,"[Invalid Chunked Response]"),kn(e),Sn(e))}function bn(e,t){var n=e.D,r=t.indexOf("\n",n);return-1==r?mn:(n=Number(t.substring(n,r)),isNaN(n)?gn:(r+=1)+n>t.length?mn:(t=t.substr(r,n),e.D=r+n,t))}function wn(e){e.T=ge()+e.P,En(e,e.P)}function En(e,t){if(null!=e.o)throw Error("WatchDog timer not null");e.o=tn(de(e.$a,e),t)}function In(e){e.o&&(oe.clearTimeout(e.o),e.o=null)}function Sn(e){0==e.g.v||e.A||Vr(e.g,e)}function kn(e){In(e);var t=e.F;t&&"function"==typeof t.ka&&t.ka(),e.F=null,Ft(e.R),Kt(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ka())}function Tn(e,t){try{var n=e.g;if(0!=n.v&&(n.a==e||or(n.b,e)))if(n.I=e.N,!e.C&&or(n.b,e)&&3==n.v){try{var r=n.la.a.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.j){if(n.a){if(!(n.a.u+3e3<e.u))break e;qr(n),Nr(n)}Fr(n),Zt(18)}}else n.pa=i[1],0<n.pa-n.P&&37500>i[2]&&n.G&&0==n.o&&!n.m&&(n.m=tn(de(n.Xa,n),6e3));if(1>=ir(n.b)&&n.fa){try{n.fa()}catch(e){}n.fa=void 0}}else zr(n,11)}else if((e.C||n.a==e)&&qr(n),!Ee(t))for(t=r=n.la.a.parse(t),r=0;r<t.length;r++)if(i=t[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ha=i[2];var o=i[3];null!=o&&(n.ia=o,n.c.info("VER="+n.ia));var a=i[4];null!=a&&(n.qa=a,n.c.info("SVER="+n.qa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=e.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(ke(l,"spdy")||ke(l,"quic")||ke(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(ar(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.oa=f,Un(u.B,u.A,f))}}n.v=3,n.f&&n.f.ua(),n.U&&(n.N=ge()-e.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=e;if((u=n).ma=Wr(u,u.C?u.ha:null,u.ga),d.C){sr(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(In(p),wn(p)),u.a=d}else Mr(u);0<n.g.length&&Rr(n)}else"stop"!=i[0]&&"close"!=i[0]||zr(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?zr(n,7):xr(n):"noop"!=i[0]&&n.f&&n.f.ta(i),n.o=0);Xt(4)}catch(e){}}function Cn(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(se(e)||"string"==typeof e)_e(e,t,void 0);else{if(e.L&&"function"==typeof e.L)var n=e.L();else if(e.K&&"function"==typeof e.K)n=void 0;else if(se(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.K&&"function"==typeof e.K)return e.K();if("string"==typeof e)return e.split("");if(se(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function xn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof xn)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Nn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];An(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)An(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function An(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(ne=dn.prototype).setTimeout=function(e){this.P=e},ne.bb=function(e){e=e.target;var t=this.F;t&&3==Sr(e)?t.f():this.Da(e)},ne.Da=function(e){try{if(e==this.a)e:{var t=Sr(this.a),n=this.a.va(),r=this.a.W();if(!(3>t||3==t&&!je&&!this.a.$())){this.A||4!=t||7==n||Xt(8==n||0>=r?3:2),In(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,t,i),this.b){if(this.U&&!this.C){t:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ee(a)){var u=a;break t}}u=null}if(!u){this.b=!1,this.h=3,Zt(12),kn(this),Sn(this);break e}Ht(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Tn(this,u)}this.I?(_n(this,t,o),je&&this.b&&3==t&&(zt(this.J,this.R,"tick",this.ab),this.R.start())):(Ht(this.c,this.f,o,null),Tn(this,o)),4==t&&kn(this),this.b&&!this.A&&(4==t?Vr(this.g,this):(this.b=!1,wn(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Zt(12)):(this.h=0,Zt(13)),kn(this),Sn(this)}}}catch(e){}},ne.ab=function(){if(this.a){var e=Sr(this.a),t=this.a.$();this.D<t.length&&(In(this),_n(this,e,t),this.b&&4!=e&&wn(this))}},ne.cancel=function(){this.A=!0,kn(this)},ne.$a=function(){this.o=null;var e=ge();0<=e-this.T?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.c,this.l),2!=this.G&&(Xt(3),Zt(17)),kn(this),this.h=2,Sn(this)):En(this,this.T-e)},(ne=xn.prototype).K=function(){Nn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},ne.L=function(){return Nn(this),this.a.concat()},ne.get=function(e,t){return An(this.b,e)?this.b[e]:t},ne.set=function(e,t){An(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},ne.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Pn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Rn(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof Rn){this.a=void 0!==t?t:e.a,Dn(this,e.f),this.j=e.j,Ln(this,e.c),Mn(this,e.h),this.g=e.g,t=e.b;var n=new Qn;n.c=t.c,t.a&&(n.a=new xn(t.a),n.b=t.b),Fn(this,n),this.i=e.i}else e&&(n=String(e).match(Pn))?(this.a=!!t,Dn(this,n[1]||"",!0),this.j=qn(n[2]||""),Ln(this,n[3]||"",!0),Mn(this,n[4]),this.g=qn(n[5]||"",!0),Fn(this,n[6]||"",!0),this.i=qn(n[7]||"")):(this.a=!!t,this.b=new Qn(null,this.a))}function On(e){return new Rn(e)}function Dn(e,t,n){e.f=n?qn(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Ln(e,t,n){e.c=n?qn(t,!0):t}function Mn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function Fn(e,t,n){t instanceof Qn?(e.b=t,function(e,t){t&&!e.f&&($n(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Yn(this,t),Jn(this,n,e))}),e)),e.f=t}(e.b,e.a)):(n||(t=Vn(t,Hn)),e.b=new Qn(t,e.a))}function Un(e,t,n){e.b.set(t,n)}function jn(e){return Un(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ge()).toString(36)),e}function qn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Vn(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Bn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Bn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Rn.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Vn(t,zn,!0),":");var n=this.c;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(Vn(t,zn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&e.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&e.push("/"),e.push(Vn(n,"/"==n.charAt(0)?Wn:Kn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",Vn(n,Gn)),e.join("")};var zn=/[#\/\?@]/g,Kn=/[#\?:]/g,Wn=/[#\?]/g,Hn=/[#\?@]/g,Gn=/#/g;function Qn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function $n(e){e.a||(e.a=new xn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Yn(e,t){$n(e),t=Zn(e,t),An(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,An((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Nn(e)))}function Xn(e,t){return $n(e),t=Zn(e,t),An(e.a.b,t)}function Jn(e,t,n){Yn(e,t),0<n.length&&(e.c=null,e.a.set(Zn(e,t),we(n)),e.b+=n.length)}function Zn(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(ne=Qn.prototype).add=function(e,t){$n(this),this.c=null,e=Zn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},ne.forEach=function(e,t){$n(this),this.a.forEach((function(n,r){_e(n,(function(n){e.call(t,n,r,this)}),this)}),this)},ne.L=function(){$n(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},ne.K=function(e){$n(this);var t=[];if("string"==typeof e)Xn(this,e)&&(t=be(t,this.a.get(Zn(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=be(t,e[n])}return t},ne.set=function(e,t){return $n(this),this.c=null,Xn(this,e=Zn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},ne.get=function(e,t){return e&&0<(e=this.K(e)).length?String(e[0]):t},ne.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var er=function(e,t){this.b=e,this.a=t};function tr(e){this.g=e||nr,e=oe.PerformanceNavigationTiming?0<(e=oe.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(oe.ja&&oe.ja.za&&oe.ja.za()&&oe.ja.za().Qb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var nr=10;function rr(e){return!!e.b||!!e.a&&e.a.size>=e.f}function ir(e){return e.b?1:e.a?e.a.size:0}function or(e,t){return e.b?e.b==t:!!e.a&&e.a.has(t)}function ar(e,t){e.a?e.a.add(t):e.b=t}function sr(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}function ur(e){var t,n;if(null!=e.b)return e.c.concat(e.b.s);if(null!=e.a&&0!==e.a.size){var r=e.c;try{for(var i=te(e.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return we(e.c)}function cr(){}function lr(){this.a=new cr}function hr(e,t,n){var r=n||"";try{Cn(e,(function(e,n){var i=e;ue(e)&&(i=kt(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function fr(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}tr.prototype.cancel=function(){var e,t;if(this.c=ur(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=te(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},cr.prototype.stringify=function(e){return oe.JSON.stringify(e,void 0)},cr.prototype.parse=function(e){return oe.JSON.parse(e,void 0)};var dr=oe.JSON.parse;function pr(e){Et.call(this),this.headers=new xn,this.l=e||null,this.b=!1,this.u=this.a=null,this.C="",this.h=0,this.f="",this.g=this.B=this.m=this.A=!1,this.s=0,this.o=null,this.I=gr,this.F=this.G=!1}me(pr,Et);var gr="",mr=/^https?$/i,vr=["POST","PUT"];function yr(e){return"content-type"==e.toLowerCase()}function _r(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,br(e),Er(e)}function br(e){e.A||(e.A=!0,It(e,"complete"),It(e,"error"))}function wr(e){if(e.b&&void 0!==ie&&(!e.u[1]||4!=Sr(e)||2!=e.W()))if(e.m&&4==Sr(e))Ut(e.Aa,0,e);else if(It(e,"readystatechange"),4==Sr(e)){e.b=!1;try{var t,n=e.W();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.C).match(Pn)[1]||null;if(!o&&oe.self&&oe.self.location){var a=oe.self.location.protocol;o=a.substr(0,a.length-1)}i=!mr.test(o?o.toLowerCase():"")}t=i}if(t)It(e,"complete"),It(e,"success");else{e.h=6;try{var s=2<Sr(e)?e.a.statusText:""}catch(n){s=""}e.f=s+" ["+e.W()+"]",br(e)}}finally{Er(e)}}}function Er(e,t){if(e.a){Ir(e);var n=e.a,r=e.u[0]?ae:null;e.a=null,e.u=null,t||It(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function Ir(e){e.a&&e.F&&(e.a.ontimeout=null),e.o&&(oe.clearTimeout(e.o),e.o=null)}function Sr(e){return e.a?e.a.readyState:0}function kr(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Ne(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Un(e,t,n))}function Tr(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Cr(e){this.qa=0,this.g=[],this.c=new Wt,this.ha=this.ma=this.B=this.ga=this.a=this.oa=this.A=this.V=this.i=this.O=this.l=null,this.Pa=this.R=0,this.Ma=Tr("failFast",!1,e),this.G=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.pa=this.P=-1,this.T=this.o=this.u=0,this.Ia=Tr("baseRetryDelayMs",5e3,e),this.Sa=Tr("retryDelaySeedMs",1e4,e),this.Na=Tr("forwardChannelMaxRetries",2,e),this.na=Tr("forwardChannelRequestTimeoutMs",2e4,e),this.Oa=e&&e.xmlHttpFactory||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new tr(e&&e.concurrentRequestLimit),this.la=new lr,this.ea=e&&e.fastHandshake||!1,this.Ja=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.ea&&this.S&&e&&e.detectBufferingProxy||!1,this.fa=void 0,this.N=0,this.F=!1,this.s=null,(this.La=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function xr(e){if(Ar(e),3==e.v){var t=e.R++,n=On(e.B);Un(n,"SID",e.J),Un(n,"RID",t),Un(n,"TYPE","terminate"),Dr(e,n),(t=new dn(e,e.c,t,void 0)).G=2,t.i=jn(On(n)),n=!1,oe.navigator&&oe.navigator.sendBeacon&&(n=oe.navigator.sendBeacon(t.i.toString(),"")),!n&&oe.Image&&((new Image).src=t.i,n=!0),n||(t.a=Hr(t.g,null),t.a.ba(t.i)),t.u=ge(),wn(t)}Kr(e)}function Nr(e){e.a&&(Ur(e),e.a.cancel(),e.a=null)}function Ar(e){Nr(e),e.j&&(oe.clearTimeout(e.j),e.j=null),qr(e),e.b.cancel(),e.h&&("number"==typeof e.h&&oe.clearTimeout(e.h),e.h=null)}function Pr(e,t){e.g.push(new er(e.Pa++,t)),3==e.v&&Rr(e)}function Rr(e){rr(e.b)||e.h||(e.h=!0,Rt(e.Ca,e),e.u=0)}function Or(e,t){var n;n=t?t.f:e.R++;var r=On(e.B);Un(r,"SID",e.J),Un(r,"RID",n),Un(r,"AID",e.P),Dr(e,r),e.i&&e.l&&kr(r,e.i,e.l),n=new dn(e,e.c,n,e.u+1),null===e.i&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=Lr(e,n,1e3),n.setTimeout(Math.round(.5*e.na)+Math.round(.5*e.na*Math.random())),ar(e.b,n),vn(n,r,t)}function Dr(e,t){e.f&&Cn({},(function(e,n){Un(t,n,e)}))}function Lr(e,t,n){n=Math.min(e.g.length,n);var r=e.f?de(e.f.Ka,e.f,e):null;e:for(var i=e.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{hr(l,a,"req"+c+"_")}catch(e){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function Mr(e){e.a||e.j||(e.T=1,Rt(e.Ba,e),e.o=0)}function Fr(e){return!(e.a||e.j||3<=e.o||(e.T++,e.j=tn(de(e.Ba,e),Br(e,e.o)),e.o++,0))}function Ur(e){null!=e.s&&(oe.clearTimeout(e.s),e.s=null)}function jr(e){e.a=new dn(e,e.c,"rpc",e.T),null===e.i&&(e.a.B=e.l),e.a.O=0;var t=On(e.ma);Un(t,"RID","rpc"),Un(t,"SID",e.J),Un(t,"CI",e.G?"0":"1"),Un(t,"AID",e.P),Dr(e,t),Un(t,"TYPE","xmlhttp"),e.i&&e.l&&kr(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ha,n.G=1,n.i=jn(On(t)),n.j=null,n.I=!0,yn(n,e)}function qr(e){null!=e.m&&(oe.clearTimeout(e.m),e.m=null)}function Vr(e,t){var n=null;if(e.a==t){qr(e),Ur(e),e.a=null;var r=2}else{if(!or(e.b,t))return;n=t.s,sr(e.b,t),r=1}if(e.I=t.N,0!=e.v)if(t.b)if(1==r){n=t.j?t.j.length:0,t=ge()-t.u;var i=e.u;It(r=$t(),new en(r,n,t,i)),Rr(e)}else Mr(e);else if(3==(i=t.h)||0==i&&0<e.I||!(1==r&&function(e,t){return!(ir(e.b)>=e.b.f-(e.h?1:0)||(e.h?(e.g=t.s.concat(e.g),0):1==e.v||2==e.v||e.u>=(e.Ma?0:e.Na)||(e.h=tn(de(e.Ca,e,t),Br(e,e.u)),e.u++,0)))}(e,t)||2==r&&Fr(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:zr(e,5);break;case 4:zr(e,10);break;case 3:zr(e,6);break;default:zr(e,2)}}function Br(e,t){var n=e.Ia+Math.floor(Math.random()*e.Sa);return e.f||(n*=2),n*t}function zr(e,t){if(e.c.info("Error code "+t),2==t){var n=null;e.f&&(n=null);var r=de(e.cb,e);n||(n=new Rn("//www.google.com/images/cleardot.gif"),oe.location&&"http"==oe.location.protocol||Dn(n,"https"),jn(n)),function(e,t){var n=new Wt;if(oe.Image){var r=new Image;r.onload=pe(fr,n,r,"TestLoadImage: loaded",!0,t),r.onerror=pe(fr,n,r,"TestLoadImage: error",!1,t),r.onabort=pe(fr,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=pe(fr,n,r,"TestLoadImage: timeout",!1,t),oe.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Zt(2);e.v=0,e.f&&e.f.sa(t),Kr(e),Ar(e)}function Kr(e){e.v=0,e.I=-1,e.f&&(0==ur(e.b).length&&0==e.g.length||(e.b.c.length=0,we(e.g),e.g.length=0),e.f.ra())}function Wr(e,t,n){var r=function(e){return e instanceof Rn?On(e):new Rn(e,void 0)}(n);if(""!=r.c)t&&Ln(r,t+"."+r.c),Mn(r,r.h);else{var i=oe.location;r=function(e,t,n,r){var i=new Rn(null,void 0);return e&&Dn(i,e),t&&Ln(i,t),n&&Mn(i,n),r&&(i.g=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.V&&Ne(e.V,(function(e,t){Un(r,t,e)})),t=e.A,n=e.oa,t&&n&&Un(r,t,n),Un(r,"VER",e.ia),Dr(e,r),r}function Hr(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new pr(e.Oa)).G=e.C,t}function Gr(){}function Qr(){if(Fe&&!(10<=Number($e)))throw Error("Environmental error: no available transport.")}function $r(e,t){Et.call(this),this.a=new Cr(t),this.g=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!Ee(e)&&(this.a.i=e),this.o=t&&t.supportsCrossDomainXhr||!1,this.m=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ee(t)&&(this.a.A=t,null!==(e=this.b)&&t in e&&t in(e=this.b)&&delete e[t]),this.f=new Jr(this)}function Yr(e){ln.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function Xr(){hn.call(this),this.status=1}function Jr(e){this.a=e}function Zr(e){this.f=e}function ei(e){Et.call(this),this.u=e,this.h=void 0,this.readyState=ti,this.status=0,this.responseType=this.responseText=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.o="",this.a=!1,this.m=this.f=this.g=null}(ne=pr.prototype).ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.C+"; newUri="+e);t=t?t.toUpperCase():"GET",this.C=e,this.f="",this.h=0,this.A=!1,this.b=!0,this.a=this.l?this.l.a():un.a(),this.u=this.l?an(this.l):an(un),this.a.onreadystatechange=de(this.Aa,this);try{this.B=!0,this.a.open(t,String(e),!0),this.B=!1}catch(e){return void _r(this,e)}e=n||"";var i=new xn(this.headers);r&&Cn(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=yr,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.L()),n=oe.FormData&&e instanceof oe.FormData,!(0<=ye(vr,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.G&&(this.a.withCredentials=this.G);try{Ir(this),0<this.s&&((this.F=function(e){return Fe&&Qe(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.s,this.a.ontimeout=de(this.ya,this)):this.o=Ut(this.ya,this.s,this)),this.m=!0,this.a.send(e),this.m=!1}catch(e){_r(this,e)}},ne.ya=function(){void 0!==ie&&this.a&&(this.f="Timed out after "+this.s+"ms, aborting",this.h=8,It(this,"timeout"),this.abort(8))},ne.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,It(this,"complete"),It(this,"abort"),Er(this))},ne.H=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Er(this,!0)),pr.X.H.call(this)},ne.Aa=function(){this.j||(this.B||this.m||this.g?wr(this):this.Za())},ne.Za=function(){wr(this)},ne.W=function(){try{return 2<Sr(this)?this.a.status:-1}catch(e){return-1}},ne.$=function(){try{return this.a?this.a.responseText:""}catch(e){return""}},ne.Qa=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),dr(t)}},ne.va=function(){return this.h},ne.Ra=function(){return"string"==typeof this.f?this.f:String(this.f)},(ne=Cr.prototype).ia=8,ne.v=1,ne.Ca=function(e){if(this.h)if(this.h=null,1==this.v){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t,n=new dn(this,this.c,e,void 0),r=this.l;if(this.O&&(r?Re(r=Ae(r),this.O):r=this.O),null===this.i&&(n.B=r),this.ea)e:{for(var i=t=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.g.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=Lr(this,n,t),Un(i=On(this.B),"RID",e),Un(i,"CVER",22),this.A&&Un(i,"X-HTTP-Session-Id",this.A),Dr(this,i),this.i&&r&&kr(i,this.i,r),ar(this.b,n),this.Ja&&Un(i,"TYPE","init"),this.ea?(Un(i,"$req",t),Un(i,"SID","null"),n.U=!0,vn(n,i,null)):vn(n,i,t),this.v=2}}else 3==this.v&&(e?Or(this,e):0==this.g.length||rr(this.b)||Or(this))},ne.Ba=function(){if(this.j=null,jr(this),this.U&&!(this.F||null==this.a||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=tn(de(this.Ya,this),e)}},ne.Ya=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.F=!0,Zt(10),Nr(this),jr(this))},ne.Xa=function(){null!=this.m&&(this.m=null,Nr(this),Fr(this),Zt(19))},ne.cb=function(e){e?(this.c.info("Successfully pinged google.com"),Zt(2)):(this.c.info("Failed to ping google.com"),Zt(1))},(ne=Gr.prototype).ua=function(){},ne.ta=function(){},ne.sa=function(){},ne.ra=function(){},ne.Ka=function(){},Qr.prototype.a=function(e,t){return new $r(e,t)},me($r,Et),$r.prototype.h=function(){this.a.f=this.f,this.o&&(this.a.C=!0);var e=this.a,t=this.g,n=this.b||void 0;Zt(0),e.ga=t,e.V=n||{},e.G=e.S,e.B=Wr(e,null,e.ga),Rr(e)},$r.prototype.close=function(){xr(this.a)},$r.prototype.l=function(e){if("string"==typeof e){var t={};t.__data__=e,Pr(this.a,t)}else this.m?((t={}).__data__=kt(e),Pr(this.a,t)):Pr(this.a,e)},$r.prototype.H=function(){this.a.f=null,delete this.f,xr(this.a),delete this.a,$r.X.H.call(this)},me(Yr,ln),me(Xr,hn),me(Jr,Gr),Jr.prototype.ua=function(){It(this.a,"a")},Jr.prototype.ta=function(e){It(this.a,new Yr(e))},Jr.prototype.sa=function(e){It(this.a,new Xr(e))},Jr.prototype.ra=function(){It(this.a,"b")},me(Zr,on),Zr.prototype.a=function(){return new ei(this.f)},Zr.prototype.c=function(e){return function(){return e}}({}),me(ei,Et);var ti=0;function ni(e){e.f.read().then(e.Ta.bind(e)).catch(e.ca.bind(e))}function ri(e){e.readyState=4,e.g=null,e.f=null,e.m=null,ii(e)}function ii(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ne=ei.prototype).open=function(e,t){if(this.readyState!=ti)throw this.abort(),Error("Error reopening a connection");this.s=e,this.o=t,this.readyState=1,ii(this)},ne.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.o,t)).then(this.Wa.bind(this),this.ca.bind(this))},ne.abort=function(){this.responseText="",this.l=new Headers,this.status=0,this.f&&this.f.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ri(this)),this.readyState=ti},ne.Wa=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,ii(this)),this.a&&(this.readyState=3,ii(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.Ua.bind(this),this.ca.bind(this)):void 0!==oe.ReadableStream&&"body"in e?(this.responseText="",this.f=e.body.getReader(),this.m=new TextDecoder,ni(this)):e.text().then(this.Va.bind(this),this.ca.bind(this)))))},ne.Ta=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.responseText+=t),e.done?ri(this):ii(this),3==this.readyState&&ni(this)}},ne.Va=function(e){this.a&&(this.responseText=e,ri(this))},ne.Ua=function(){this.a&&ri(this)},ne.ca=function(){this.a&&ri(this)},ne.setRequestHeader=function(e,t){this.l.append(e,t)},ne.getResponseHeader=function(e){return this.b&&this.b.get(e.toLowerCase())||""},ne.getAllResponseHeaders=function(){if(!this.b)return"";for(var e=[],t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ei.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),Qr.prototype.createWebChannel=Qr.prototype.a,$r.prototype.send=$r.prototype.l,$r.prototype.open=$r.prototype.h,$r.prototype.close=$r.prototype.close,nn.NO_ERROR=0,nn.TIMEOUT=8,nn.HTTP_ERROR=6,rn.COMPLETE="complete",sn.EventType=cn,cn.OPEN="a",cn.CLOSE="b",cn.ERROR="c",cn.MESSAGE="d",Et.prototype.listen=Et.prototype.wa,pr.prototype.listenOnce=pr.prototype.xa,pr.prototype.getLastError=pr.prototype.Ra,pr.prototype.getLastErrorCode=pr.prototype.va,pr.prototype.getStatus=pr.prototype.W,pr.prototype.getResponseJson=pr.prototype.Qa,pr.prototype.getResponseText=pr.prototype.$,pr.prototype.send=pr.prototype.ba;var oi=nn,ai=rn,si=Gt,ui=10,ci=11,li=Zr,hi=sn,fi=pr,di=n(655),pi=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();pi.o=-1;var gi={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},mi=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,di.__extends)(t,e),t}(Error),vi=new Z.Logger("@firebase/firestore");function yi(){return vi.logLevel}function _i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(vi.logLevel<=Z.LogLevel.DEBUG){var r=t.map(Ei);vi.debug.apply(vi,(0,di.__spreadArray)(["Firestore (8.6.8): "+e],r))}}function bi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(vi.logLevel<=Z.LogLevel.ERROR){var r=t.map(Ei);vi.error.apply(vi,(0,di.__spreadArray)(["Firestore (8.6.8): "+e],r))}}function wi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(vi.logLevel<=Z.LogLevel.WARN){var r=t.map(Ei);vi.warn.apply(vi,(0,di.__spreadArray)(["Firestore (8.6.8): "+e],r))}}function Ei(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Ii(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.6.8) INTERNAL ASSERTION FAILED: "+e;throw bi(t),new Error(t)}function Si(e,t){e||Ii()}function ki(e,t){return e}function Ti(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Ci=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Ti(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function xi(e,t){return e<t?-1:e>t?1:0}function Ni(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Ai(e){return e+"\0"}var Pi=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new mi(gi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new mi(gi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new mi(gi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new mi(gi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?xi(this.nanoseconds,e.nanoseconds):xi(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Ri=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Pi(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function Oi(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Di(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Li(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Mi=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&Ii(),void 0===n?n=e.length-t:n>e.length-t&&Ii(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),Fi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,di.__extends)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new mi(gi.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(Mi),Ui=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ji=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,di.__extends)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return Ui.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new mi(gi.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new mi(gi.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new mi(gi.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new mi(gi.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(Mi),qi=function(){function e(e){this.fields=e,e.sort(ji.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return Ni(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),Vi=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return xi(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();Vi.EMPTY_BYTE_STRING=new Vi("");var Bi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zi(e){if(Si(!!e),"string"==typeof e){var t=0,n=Bi.exec(e);if(Si(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ki(e.seconds),nanos:Ki(e.nanos)}}function Ki(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Wi(e){return"string"==typeof e?Vi.fromBase64String(e):Vi.fromUint8Array(e)}function Hi(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Gi(e){var t=e.mapValue.fields.__previous_value__;return Hi(t)?Gi(t):t}function Qi(e){var t=zi(e.mapValue.fields.__local_write_time__.timestampValue);return new Pi(t.seconds,t.nanos)}function $i(e){return null==e}function Yi(e){return 0===e&&1/e==-1/0}function Xi(e){return"number"==typeof e&&Number.isInteger(e)&&!Yi(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Ji=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(Fi.fromString(t))},e.fromName=function(t){return new e(Fi.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===Fi.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return Fi.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new Fi(t.slice()))},e}();function Zi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Hi(e)?4:10:Ii()}function eo(e,t){var n=Zi(e);if(n!==Zi(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Qi(e).isEqual(Qi(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=zi(e.timestampValue),r=zi(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Wi(e.bytesValue).isEqual(Wi(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ki(e.geoPointValue.latitude)===Ki(t.geoPointValue.latitude)&&Ki(e.geoPointValue.longitude)===Ki(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ki(e.integerValue)===Ki(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ki(e.doubleValue),r=Ki(t.doubleValue);return n===r?Yi(n)===Yi(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ni(e.arrayValue.values||[],t.arrayValue.values||[],eo);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Oi(n)!==Oi(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!eo(n[i],r[i])))return!1;return!0}(e,t);default:return Ii()}}function to(e,t){return void 0!==(e.values||[]).find((function(e){return eo(e,t)}))}function no(e,t){var n=Zi(e),r=Zi(t);if(n!==r)return xi(n,r);switch(n){case 0:return 0;case 1:return xi(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ki(e.integerValue||e.doubleValue),r=Ki(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ro(e.timestampValue,t.timestampValue);case 4:return ro(Qi(e),Qi(t));case 5:return xi(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Wi(e),r=Wi(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=xi(n[i],r[i]);if(0!==o)return o}return xi(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=xi(Ki(e.latitude),Ki(t.latitude));return 0!==n?n:xi(Ki(e.longitude),Ki(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=no(n[i],r[i]);if(o)return o}return xi(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=xi(r[a],o[a]);if(0!==s)return s;var u=no(n[r[a]],i[o[a]]);if(0!==u)return u}return xi(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Ii()}}function ro(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return xi(e,t);var n=zi(e),r=zi(t),i=xi(n.seconds,r.seconds);return 0!==i?i:xi(n.nanos,r.nanos)}function io(e){return oo(e)}function oo(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=zi(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Wi(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Ji.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=oo(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+oo(e.fields[o])}return t+"}"}(e.mapValue):Ii();var t,n}function ao(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function so(e){return!!e&&"integerValue"in e}function uo(e){return!!e&&"arrayValue"in e}function co(e){return!!e&&"nullValue"in e}function lo(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ho(e){return!!e&&"mapValue"in e}function fo(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue)return{timestampValue:Object.assign({},zi(e.timestampValue))};if(e.mapValue){var t={mapValue:{fields:{}}};return Di(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=fo(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=fo(e.arrayValue.values[r]);return n}return Object.assign({},e)}var po=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!ho(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fo(t)},e.prototype.setAll=function(e){var t=this,n=ji.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=fo(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());ho(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return eo(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];ho(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){Di(t,(function(t,n){return e[t]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete e[o]}},e.prototype.clone=function(){return new e(fo(this.value))},e}();function go(e){var t=[];return Di(e.fields,(function(e,n){var r=new ji([e]);if(ho(n)){var i=go(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new qi(t)}var mo=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,Ri.min(),po.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,po.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,po.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=po.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=po.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),vo=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function yo(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new vo(e,t,n,r,i,o,a)}function _o(e){var t=ki(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+io(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),$i(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Ro(t.startAt)),t.endAt&&(n+="|ub:",n+=Ro(t.endAt)),t.h=n}return t.h}function bo(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Do(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!eo(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Mo(e.startAt,t.startAt)&&Mo(e.endAt,t.endAt)}function wo(e){return Ji.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Eo=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return(0,di.__extends)(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new Io(e,n,r):"array-contains"===n?new Co(e,r):"in"===n?new xo(e,r):"not-in"===n?new No(e,r):"array-contains-any"===n?new Ao(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new So(e,n):new ko(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(no(t,this.value)):null!==t&&Zi(this.value)===Zi(t)&&this.m(no(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ii()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),Io=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=Ji.fromName(r.referenceValue),i}return(0,di.__extends)(t,e),t.prototype.matches=function(e){var t=Ji.comparator(e.key,this.key);return this.m(t)},t}(Eo),So=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=To(0,n),r}return(0,di.__extends)(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Eo),ko=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=To(0,n),r}return(0,di.__extends)(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Eo);function To(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Ji.fromName(e.referenceValue)}))}var Co=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return(0,di.__extends)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return uo(t)&&to(t.arrayValue,this.value)},t}(Eo),xo=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return(0,di.__extends)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&to(this.value.arrayValue,t)},t}(Eo),No=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return(0,di.__extends)(t,e),t.prototype.matches=function(e){if(to(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!to(this.value.arrayValue,t)},t}(Eo),Ao=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return(0,di.__extends)(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!uo(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return to(t.value.arrayValue,e)}))},t}(Eo),Po=function(e,t){this.position=e,this.before=t};function Ro(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return io(e)})).join(",")}var Oo=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Do(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Lo(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Ji.comparator(Ji.fromName(a.referenceValue),n.key):no(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Mo(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!eo(e.position[n],t.position[n]))return!1;return!0}var Fo=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function Uo(e,t,n,r,i,o,a,s){return new Fo(e,t,n,r,i,o,a,s)}function jo(e){return new Fo(e)}function qo(e){return!$i(e.limit)&&"F"===e.limitType}function Vo(e){return!$i(e.limit)&&"L"===e.limitType}function Bo(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function zo(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function Ko(e){return null!==e.collectionGroup}function Wo(e){var t=ki(e);if(null===t.p){t.p=[];var n=zo(t),r=Bo(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new Oo(n)),t.p.push(new Oo(ji.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Oo(ji.keyField(),u))}}}return t.p}function Ho(e){var t=ki(e);if(!t.T)if("F"===t.limitType)t.T=yo(t.path,t.collectionGroup,Wo(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Wo(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Oo(o.field,a))}var s=t.endAt?new Po(t.endAt.position,!t.endAt.before):null,u=t.startAt?new Po(t.startAt.position,!t.startAt.before):null;t.T=yo(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function Go(e,t,n){return new Fo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Qo(e,t){return bo(Ho(e),Ho(t))&&e.limitType===t.limitType}function $o(e){return _o(Ho(e))+"|lt:"+e.limitType}function Yo(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+io(t.value);var t})).join(", ")+"]"),$i(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+Ro(e.startAt)),e.endAt&&(t+=", endAt: "+Ro(e.endAt)),"Target("+t+")"}(Ho(e))+"; limitType="+e.limitType+")"}function Xo(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ji.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Lo(e.startAt,Wo(e),t)||e.endAt&&Lo(e.endAt,Wo(e),t))}(e,t)}function Jo(e){return function(t,n){for(var r=!1,i=0,o=Wo(e);i<o.length;i++){var a=o[i],s=Zo(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function Zo(e,t,n){var r=e.field.isKeyField()?Ji.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?no(r,i):Ii()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ii()}}function ea(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yi(t)?"-0":t}}function ta(e){return{integerValue:""+e}}function na(e,t){return Xi(t)?ta(t):ea(e,t)}var ra=function(){this._=void 0};function ia(e,t,n){return e instanceof sa?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ua?ca(e,t):e instanceof la?ha(e,t):function(e,t){var n=aa(e,t),r=da(n)+da(e.A);return so(n)&&so(e.A)?ta(r):ea(e.R,r)}(e,t)}function oa(e,t,n){return e instanceof ua?ca(e,t):e instanceof la?ha(e,t):n}function aa(e,t){return e instanceof fa?so(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var sa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,di.__extends)(t,e),t}(ra),ua=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,di.__extends)(t,e),t}(ra);function ca(e,t){for(var n=pa(t),r=function(e){n.some((function(t){return eo(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var la=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,di.__extends)(t,e),t}(ra);function ha(e,t){for(var n=pa(t),r=function(e){n=n.filter((function(t){return!eo(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var fa=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return(0,di.__extends)(t,e),t}(ra);function da(e){return Ki(e.integerValue||e.doubleValue)}function pa(e){return uo(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var ga=function(e,t){this.field=e,this.transform=t},ma=function(e,t){this.version=e,this.transformResults=t},va=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function ya(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var _a=function(){};function ba(e,t,n){e instanceof ka?function(e,t,n){var r=e.value.clone(),i=xa(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ta?function(e,t,n){if(ya(e.precondition,t)){var r=xa(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ca(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function wa(e,t,n){e instanceof ka?function(e,t,n){if(ya(e.precondition,t)){var r=e.value.clone(),i=Na(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Sa(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Ta?function(e,t,n){if(ya(e.precondition,t)){var r=Na(e.fieldTransforms,n,t),i=t.data;i.setAll(Ca(e)),i.setAll(r),t.convertToFoundDocument(Sa(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){ya(e.precondition,t)&&t.convertToNoDocument(Ri.min())}(e,t)}function Ea(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=aa(o.transform,a||null);null!=s&&(null==n&&(n=po.empty()),n.set(o.field,s))}return n||null}function Ia(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ni(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ua&&t instanceof ua||e instanceof la&&t instanceof la?Ni(e.elements,t.elements,eo):e instanceof fa&&t instanceof fa?eo(e.A,t.A):e instanceof sa&&t instanceof sa}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Sa(e){return e.isFoundDocument()?e.version:Ri.min()}var ka=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,di.__extends)(t,e),t}(_a),Ta=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return(0,di.__extends)(t,e),t}(_a);function Ca(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function xa(e,t,n){var r=new Map;Si(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,oa(a,s,n[i]))}return r}function Na(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,ia(s,u,t))}return r}var Aa,Pa,Ra=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,di.__extends)(t,e),t}(_a),Oa=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,di.__extends)(t,e),t}(_a),Da=function(e){this.count=e};function La(e){switch(e){case gi.OK:return Ii();case gi.CANCELLED:case gi.UNKNOWN:case gi.DEADLINE_EXCEEDED:case gi.RESOURCE_EXHAUSTED:case gi.INTERNAL:case gi.UNAVAILABLE:case gi.UNAUTHENTICATED:return!1;case gi.INVALID_ARGUMENT:case gi.NOT_FOUND:case gi.ALREADY_EXISTS:case gi.PERMISSION_DENIED:case gi.FAILED_PRECONDITION:case gi.ABORTED:case gi.OUT_OF_RANGE:case gi.UNIMPLEMENTED:case gi.DATA_LOSS:return!0;default:return Ii()}}function Ma(e){if(void 0===e)return bi("GRPC error has no .code"),gi.UNKNOWN;switch(e){case Aa.OK:return gi.OK;case Aa.CANCELLED:return gi.CANCELLED;case Aa.UNKNOWN:return gi.UNKNOWN;case Aa.DEADLINE_EXCEEDED:return gi.DEADLINE_EXCEEDED;case Aa.RESOURCE_EXHAUSTED:return gi.RESOURCE_EXHAUSTED;case Aa.INTERNAL:return gi.INTERNAL;case Aa.UNAVAILABLE:return gi.UNAVAILABLE;case Aa.UNAUTHENTICATED:return gi.UNAUTHENTICATED;case Aa.INVALID_ARGUMENT:return gi.INVALID_ARGUMENT;case Aa.NOT_FOUND:return gi.NOT_FOUND;case Aa.ALREADY_EXISTS:return gi.ALREADY_EXISTS;case Aa.PERMISSION_DENIED:return gi.PERMISSION_DENIED;case Aa.FAILED_PRECONDITION:return gi.FAILED_PRECONDITION;case Aa.ABORTED:return gi.ABORTED;case Aa.OUT_OF_RANGE:return gi.OUT_OF_RANGE;case Aa.UNIMPLEMENTED:return gi.UNIMPLEMENTED;case Aa.DATA_LOSS:return gi.DATA_LOSS;default:return Ii()}}(Pa=Aa||(Aa={}))[Pa.OK=0]="OK",Pa[Pa.CANCELLED=1]="CANCELLED",Pa[Pa.UNKNOWN=2]="UNKNOWN",Pa[Pa.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pa[Pa.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pa[Pa.NOT_FOUND=5]="NOT_FOUND",Pa[Pa.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pa[Pa.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pa[Pa.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pa[Pa.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pa[Pa.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pa[Pa.ABORTED=10]="ABORTED",Pa[Pa.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pa[Pa.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pa[Pa.INTERNAL=13]="INTERNAL",Pa[Pa.UNAVAILABLE=14]="UNAVAILABLE",Pa[Pa.DATA_LOSS=15]="DATA_LOSS";var Fa=function(){function e(e,t){this.comparator=e,this.root=t||ja.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ja.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ja.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Ua(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Ua(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Ua(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Ua(this.root,e,this.comparator,!0)},e}(),Ua=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),ja=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Ii();if(this.right.isRed())throw Ii();var e=this.left.check();if(e!==this.right.check())throw Ii();return e+(this.isRed()?0:1)},e}();ja.EMPTY=null,ja.RED=!0,ja.BLACK=!1,ja.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Ii()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Ii()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Ii()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Ii()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Ii()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new ja(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var qa=function(){function e(e){this.comparator=e,this.data=new Fa(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Va(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Va(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Va=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),Ba=new Fa(Ji.comparator);function za(){return Ba}var Ka=new Fa(Ji.comparator);function Wa(){return Ka}var Ha=new Fa(Ji.comparator);function Ga(){return Ha}var Qa=new qa(Ji.comparator);function $a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Qa,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Ya=new qa(xi);function Xa(){return Ya}var Ja=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,Za.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Ri.min(),r,Xa(),za(),$a())},e}(),Za=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Vi.EMPTY_BYTE_STRING,n,$a(),$a(),$a())},e}(),es=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},ts=function(e,t){this.targetId=e,this.V=t},ns=function(e,t,n,r){void 0===n&&(n=Vi.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},rs=function(){function e(){this.S=0,this.D=as(),this.C=Vi.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.F=!0,this.C=e)},e.prototype.M=function(){var e=$a(),t=$a(),n=$a();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ii()}})),new Za(this.C,this.N,e,t,n)},e.prototype.L=function(){this.F=!1,this.D=as()},e.prototype.B=function(e,t){this.F=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.F=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),is=function(){function e(e){this.W=e,this.G=new Map,this.H=za(),this.J=os(),this.Y=new qa(xi)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.k||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:Ii()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(wo(i))if(0===n){var o=new Ji(i.path);this.tt(t,o,mo.newNoDocument(o,Ri.min()))}else Si(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&wo(o.target)){var a=new Ji(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,mo.newNoDocument(a,e))}r.$&&(n.set(i,r.M()),r.L())}}));var r=$a();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Ja(e,n,this.Y,this.H,r);return this.H=za(),this.J=os(),this.Y=new qa(xi),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new rs,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new qa(xi),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||_i("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.k?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new rs),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function os(){return new Fa(Ji.comparator)}function as(){return new Fa(Ji.comparator)}var ss={asc:"ASCENDING",desc:"DESCENDING"},us={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cs=function(e,t){this.databaseId=e,this.I=t};function ls(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function hs(e,t){return e.I?t.toBase64():t.toUint8Array()}function fs(e,t){return ls(e,t.toTimestamp())}function ds(e){return Si(!!e),Ri.fromTimestamp(function(e){var t=zi(e);return new Pi(t.seconds,t.nanos)}(e))}function ps(e,t){return function(e){return new Fi(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function gs(e){var t=Fi.fromString(e);return Si(js(t)),t}function ms(e,t){return ps(e.databaseId,t.path)}function vs(e,t){var n=gs(t);if(n.get(1)!==e.databaseId.projectId)throw new mi(gi.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new mi(gi.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ji(ws(n))}function ys(e,t){return ps(e.databaseId,t)}function _s(e){var t=gs(e);return 4===t.length?Fi.emptyPath():ws(t)}function bs(e){return new Fi(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ws(e){return Si(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Es(e,t,n){return{name:ms(e,t),fields:n.value.mapValue.fields}}function Is(e,t,n){var r=vs(e,t.name),i=ds(t.updateTime),o=new po({mapValue:{fields:t.fields}}),a=mo.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Ss(e,t){var n;if(t instanceof ka)n={update:Es(e,t.key,t.value)};else if(t instanceof Ra)n={delete:ms(e,t.key)};else if(t instanceof Ta)n={update:Es(e,t.key,t.data),updateMask:Us(t.fieldMask)};else{if(!(t instanceof Oa))return Ii();n={verify:ms(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof sa)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ua)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof la)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof fa)return{fieldPath:t.field.canonicalString(),increment:n.A};throw Ii()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:fs(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ii()}(e,t.precondition)),n}function ks(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?va.updateTime(ds(e.updateTime)):void 0!==e.exists?va.exists(e.exists):va.none()}(t.currentDocument):va.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Si("REQUEST_TIME"===t.setToServerValue),n=new sa;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new ua(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new la(i)}else"increment"in t?n=new fa(e,t.increment):Ii();var o=ji.fromServerFormat(t.fieldPath);return new ga(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=vs(e,t.update.name),o=new po({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new qi(t.map((function(e){return ji.fromServerFormat(e)})))}(t.updateMask);return new Ta(i,o,a,n,r)}return new ka(i,o,n,r)}if(t.delete){var s=vs(e,t.delete);return new Ra(s,n)}if(t.verify){var u=vs(e,t.verify);return new Oa(u,n)}return Ii()}function Ts(e,t){return{documents:[ys(e,t.path)]}}function Cs(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ys(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ys(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(lo(e.value))return{unaryFilter:{field:Ds(e.field),op:"IS_NAN"}};if(co(e.value))return{unaryFilter:{field:Ds(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(lo(e.value))return{unaryFilter:{field:Ds(e.field),op:"IS_NOT_NAN"}};if(co(e.value))return{unaryFilter:{field:Ds(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ds(e.field),op:Os(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Ds(e.field),direction:Rs(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||$i(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=As(t.startAt)),t.endAt&&(n.structuredQuery.endAt=As(t.endAt)),n}function xs(e){var t=_s(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Si(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=Ns(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Oo(Ls(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return $i(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Ps(n.startAt));var l=null;return n.endAt&&(l=Ps(n.endAt)),Uo(t,i,s,a,u,"F",c,l)}function Ns(e){return e?void 0!==e.unaryFilter?[Fs(e)]:void 0!==e.fieldFilter?[Ms(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Ns(e)})).reduce((function(e,t){return e.concat(t)})):Ii():[]}function As(e){return{before:e.before,values:e.position}}function Ps(e){var t=!!e.before,n=e.values||[];return new Po(n,t)}function Rs(e){return ss[e]}function Os(e){return us[e]}function Ds(e){return{fieldPath:e.canonicalString()}}function Ls(e){return ji.fromServerFormat(e.fieldPath)}function Ms(e){return Eo.create(Ls(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ii()}}(e.fieldFilter.op),e.fieldFilter.value)}function Fs(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ls(e.unaryFilter.field);return Eo.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ls(e.unaryFilter.field);return Eo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ls(e.unaryFilter.field);return Eo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ls(e.unaryFilter.field);return Eo.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ii()}}function Us(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function js(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function qs(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Bs(t)),t=Vs(e.get(n),t);return Bs(t)}function Vs(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Bs(e){return e+""}function zs(e){var t=e.length;if(Si(t>=2),2===t)return Si(""===e.charAt(0)&&""===e.charAt(1)),Fi.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("",o);switch((a<0||a>n)&&Ii(),e.charAt(a+1)){case"":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"":i+=e.substring(o,a),i+="\0";break;case"":i+=e.substring(o,a+1);break;default:Ii()}o=a+2}return new Fi(r)}var Ks=function(e,t){this.seconds=e,this.nanoseconds=t},Ws=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Ws.store="owner",Ws.key="owner";var Hs=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Hs.store="mutationQueues",Hs.keyPath="userId";var Gs=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Gs.store="mutations",Gs.keyPath="batchId",Gs.userMutationsIndex="userMutationsIndex",Gs.userMutationsKeyPath=["userId","batchId"];var Qs=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,qs(t)]},e.key=function(e,t,n){return[e,qs(t),n]},e}();Qs.store="documentMutations",Qs.PLACEHOLDER=new Qs;var $s=function(e,t){this.path=e,this.readTime=t},Ys=function(e,t){this.path=e,this.version=t},Xs=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Xs.store="remoteDocuments",Xs.readTimeIndex="readTimeIndex",Xs.readTimeIndexPath="readTime",Xs.collectionReadTimeIndex="collectionReadTimeIndex",Xs.collectionReadTimeIndexPath=["parentPath","readTime"];var Js=function(e){this.byteSize=e};Js.store="remoteDocumentGlobal",Js.key="remoteDocumentGlobalKey";var Zs=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Zs.store="targets",Zs.keyPath="targetId",Zs.queryTargetsIndexName="queryTargetsIndex",Zs.queryTargetsKeyPath=["canonicalId","targetId"];var eu=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};eu.store="targetDocuments",eu.keyPath=["targetId","path"],eu.documentTargetsIndex="documentTargetsIndex",eu.documentTargetsKeyPath=["path","targetId"];var tu=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};tu.key="targetGlobalKey",tu.store="targetGlobal";var nu=function(e,t){this.collectionId=e,this.parent=t};nu.store="collectionParents",nu.keyPath=["collectionId","parent"];var ru=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};ru.store="clientMetadata",ru.keyPath="clientId";var iu=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};iu.store="bundles",iu.keyPath="bundleId";var ou=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};ou.store="namedQueries",ou.keyPath="name";var au=(0,di.__spreadArray)((0,di.__spreadArray)([],(0,di.__spreadArray)((0,di.__spreadArray)([],(0,di.__spreadArray)((0,di.__spreadArray)([],(0,di.__spreadArray)((0,di.__spreadArray)([],[Hs.store,Gs.store,Qs.store,Xs.store,Zs.store,Ws.store,tu.store,eu.store]),[ru.store])),[Js.store])),[nu.store])),[iu.store,ou.store]),su="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",uu=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),cu=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},lu=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Ii(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),hu=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new cu,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new pu(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=_u(t.target.error);n.ft.reject(new pu(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new pu(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(_i("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new mu(t)},e}(),fu=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t((0,J.getUA)())&&bi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return _i("SimpleDb","Removing database:",e),vu(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=(0,J.getUA)(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,di.__generator)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(_i("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new pu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new mi(gi.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new pu(e,n))},i.onupgradeneeded=function(e){_i("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){_i("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return(0,di.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u;return(0,di.__generator)(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return(0,di.__generator)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.At(e)];case 2:return s.db=h.sent(),t=hu.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),lu.reject(e)})).toPromise(),u={},a.catch((function(){})),[4,t.dt];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return c=h.sent(),l="FirebaseError"!==c.name&&o<3,_i("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),du=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return vu(this.Pt.delete())},e}(),pu=function(e){function t(t,n){var r=this;return(r=e.call(this,gi.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,di.__extends)(t,e),t}(mi);function gu(e){return"IndexedDbTransactionError"===e.name}var mu=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(_i("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(_i("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),vu(n)},e.prototype.add=function(e){return _i("SimpleDb","ADD",this.store.name,e,e),vu(this.store.add(e))},e.prototype.get=function(e){var t=this;return vu(this.store.get(e)).next((function(n){return void 0===n&&(n=null),_i("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return _i("SimpleDb","DELETE",this.store.name,e),vu(this.store.delete(e))},e.prototype.count=function(){return _i("SimpleDb","COUNT",this.store.name),vu(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.Ft=function(e,t){_i("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new lu((function(n,r){t.onerror=function(e){var t=_u(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new lu((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new du(i),a=t(i.primaryKey,i.value,o);if(a instanceof lu){var s=a.catch((function(e){return o.done(),lu.reject(e)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return lu.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function vu(e){return new lu((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=_u(e.target.error);n(t)}}))}var yu=!1;function _u(e){var t=fu._t((0,J.getUA)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new mi("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return yu||(yu=!0,setTimeout((function(){throw r}),0)),r}}return e}var bu=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return(0,di.__extends)(t,e),t}(uu);function wu(e,t){var n=ki(e);return fu.It(n.Mt,t)}var Eu=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&ba(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&wa(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&wa(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Ri.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),$a())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&Ni(this.mutations,e.mutations,(function(e,t){return Ia(e,t)}))&&Ni(this.baseMutations,e.baseMutations,(function(e,t){return Ia(e,t)}))},e}(),Iu=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){Si(t.mutations.length===r.length);for(var i=Ga(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),Su=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=Ri.min()),void 0===o&&(o=Ri.min()),void 0===a&&(a=Vi.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),ku=function(e){this.Lt=e};function Tu(e,t){if(t.document)return Is(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Ji.fromSegments(t.noDocument.path),r=Pu(t.noDocument.readTime),i=mo.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=Ji.fromSegments(t.unknownDocument.path);return r=Pu(t.unknownDocument.version),mo.newUnknownDocument(o,r)}return Ii()}function Cu(e,t,n){var r=xu(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:ms(e,t.key),fields:t.data.value.mapValue.fields,updateTime:ls(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new Xs(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=Au(t.version);return a=t.hasCommittedMutations,new Xs(null,new $s(s,u),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=Au(t.version);return new Xs(new Ys(c,l),null,null,!0,r,i)}return Ii()}function xu(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Nu(e){var t=new Pi(e[0],e[1]);return Ri.fromTimestamp(t)}function Au(e){var t=e.toTimestamp();return new Ks(t.seconds,t.nanoseconds)}function Pu(e){var t=new Pi(e.seconds,e.nanoseconds);return Ri.fromTimestamp(t)}function Ru(e,t){for(var n=(t.baseMutations||[]).map((function(t){return ks(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return ks(e.Lt,t)})),s=Pi.fromMillis(t.localWriteTimeMs);return new Eu(t.batchId,s,n,a)}function Ou(e){var t,n,r=Pu(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Pu(e.lastLimboFreeSnapshotVersion):Ri.min();return void 0!==e.query.documents?(Si(1===(n=e.query).documents.length),t=Ho(jo(_s(n.documents[0])))):t=function(e){return Ho(xs(e))}(e.query),new Su(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Vi.fromBase64String(e.resumeToken))}function Du(e,t){var n,r=Au(t.snapshotVersion),i=Au(t.lastLimboFreeSnapshotVersion);n=wo(t.target)?Ts(e.Lt,t.target):Cs(e.Lt,t.target);var o=t.resumeToken.toBase64();return new Zs(t.targetId,_o(t.target),r,o,t.sequenceNumber,i,n)}function Lu(e){var t=xs({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Go(t,t.limit,"L"):t}var Mu=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return Fu(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Pu(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return Fu(e).put({bundleId:(n=t).id,createTime:Au(ds(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return Uu(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Lu(t.bundledQuery),readTime:Pu(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return Uu(e).put(function(e){return{name:e.name,readTime:Au(ds(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function Fu(e){return wu(e,iu.store)}function Uu(e){return wu(e,ou.store)}var ju=function(){function e(){this.Bt=new qu}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),lu.resolve()},e.prototype.getCollectionParents=function(e,t){return lu.resolve(this.Bt.getEntries(t))},e}(),qu=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new qa(Fi.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new qa(Fi.comparator)).toArray()},e}(),Vu=function(){function e(){this.qt=new qu}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:qs(i)};return Bu(e).put(o)}return lu.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Ai(t),""],!1,!0);return Bu(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(zs(o.parent))}return n}))},e}();function Bu(e){return wu(e,nu.store)}var zu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ku=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function Wu(e,t,n){var r=e.store(Gs.store),i=e.store(Qs.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){Si(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Qs.key(t,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return lu.waitFor(o).next((function(){return c}))}function Hu(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Ii();t=e.noDocument}return JSON.stringify(t).length}Ku.DEFAULT_COLLECTION_PERCENTILE=10,Ku.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ku.DEFAULT=new Ku(41943040,Ku.DEFAULT_COLLECTION_PERCENTILE,Ku.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ku.DISABLED=new Ku(-1,0,0);var Gu=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return e.Kt=function(t,n,r,i){return Si(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $u(e).$t({index:Gs.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=Yu(e),a=$u(e);return a.add({}).next((function(s){Si("number"==typeof s);for(var u=new Eu(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return Ss(e.Lt,t)})),i=n.mutations.map((function(t){return Ss(e.Lt,t)}));return new Gs(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new qa((function(e,t){return xi(e.canonicalString(),t.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],g=Qs.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(g,Qs.PLACEHOLDER))}return h.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Qt[s]=u.keys()})),lu.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return $u(e).get(t).next((function(e){return e?(Si(e.userId===n.userId),Ru(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Qt[t]?lu.resolve(this.Qt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Qt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return $u(e).$t({index:Gs.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Si(t.batchId>=r),o=Ru(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return $u(e).$t({index:Gs.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $u(e).Nt(Gs.userMutationsIndex,n).next((function(e){return e.map((function(e){return Ru(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=Qs.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Yu(e).$t({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=zs(u);if(s===n.userId&&t.path.isEqual(l))return $u(e).get(c).next((function(e){if(!e)throw Ii();Si(e.userId===n.userId),o.push(Ru(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new qa(xi),i=[];return t.forEach((function(t){var o=Qs.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=Yu(e).$t({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=zs(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),lu.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=Qs.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new qa(xi);return Yu(e).$t({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=zs(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push($u(e).get(t).next((function(e){if(null===e)throw Ii();Si(e.userId===n.userId),r.push(Ru(n.R,e))})))})),lu.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return Wu(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),lu.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Qt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return lu.resolve();var r=IDBKeyRange.lowerBound(Qs.prefixForUser(t.userId)),i=[];return Yu(e).$t({range:r},(function(e,n,r){if(e[0]===t.userId){var o=zs(e[1]);i.push(o)}else r.done()})).next((function(){Si(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return Qu(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return Xu(e).get(this.userId).next((function(e){return e||new Hs(t.userId,-1,"")}))},e}();function Qu(e,t,n){var r=Qs.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Yu(e).$t({range:o,kt:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function $u(e){return wu(e,Gs.store)}function Yu(e){return wu(e,Qs.store)}function Xu(e){return wu(e,Hs.store)}var Ju=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),Zu=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new Ju(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return Ri.fromTimestamp(new Pi(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return ec(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return Si(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return ec(e).$t((function(a,s){var u=Ou(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return lu.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return ec(e).$t((function(e,n){var r=Ou(n);t(r)}))},e.prototype.Xt=function(e){return tc(e).get(tu.key).next((function(e){return Si(null!==e),e}))},e.prototype.Zt=function(e,t){return tc(e).put(tu.key,t)},e.prototype.te=function(e,t){return ec(e).put(Du(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=_o(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ec(e).$t({range:r,index:Zs.queryTargetsIndexName},(function(e,n,r){var o=Ou(n);bo(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=nc(e);return t.forEach((function(t){var a=qs(t.path);i.push(o.put(new eu(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),lu.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=nc(e);return lu.forEach(t,(function(t){var o=qs(t.path);return lu.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=nc(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=nc(e),i=$a();return r.$t({range:n,kt:!0},(function(e,t,n){var r=zs(e[1]),o=new Ji(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=qs(t.path),r=IDBKeyRange.bound([n],[Ai(n)],!1,!0),i=0;return nc(e).$t({index:eu.documentTargetsIndex,kt:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return ec(e).get(t).next((function(e){return e?Ou(e):null}))},e}();function ec(e){return wu(e,Zs.store)}function tc(e){return wu(e,tu.store)}function nc(e){return wu(e,eu.store)}function rc(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){return(0,di.__generator)(this,(function(t){if(e.code!==gi.FAILED_PRECONDITION||e.message!==su)throw e;return _i("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function ic(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=xi(n,i);return 0===a?xi(r,o):a}var oc=function(){function e(e){this.ne=e,this.buffer=new qa(ic),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();ic(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),ac=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;_i("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return(0,di.__awaiter)(t,void 0,void 0,(function(){var t;return(0,di.__generator)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return gu(t=n.sent())?(_i("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,rc(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),sc=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return lu.resolve(pi.o);var r=new oc(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(_i("LruGarbageCollector","Garbage collection skipped; disabled"),lu.resolve(zu)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(_i("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),zu):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(_i("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),yi()<=Z.LogLevel.DEBUG&&_i("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),lu.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),uc=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new sc(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return cc(e,n)},e.prototype.removeReference=function(e,t,n){return cc(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return cc(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return Xu(e).Ot((function(r){return Qu(e,r,t).next((function(e){return e&&(n=!0),lu.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){if(s<=t){var u=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),nc(e).delete([0,qs(a.path)])}))}));i.push(u)}})).next((function(){return lu.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return cc(e,t)},e.prototype.we=function(e,t){var n,r=nc(e),i=pi.o;return r.$t({index:eu.documentTargetsIndex},(function(e,r){var o=e[0],a=(e[1],r.path),s=r.sequenceNumber;0===o?(i!==pi.o&&t(new Ji(zs(n)),i),i=s,n=a):i=pi.o})).next((function(){i!==pi.o&&t(new Ji(zs(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function cc(e,t){return nc(e).put(function(e,t){return new eu(0,qs(e.path),t)}(t,e.currentSequenceNumber))}var lc=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){Di(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return Li(this.inner)},e}(),hc=function(){function e(){this.changes=new lc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:Ri.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:mo.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?lu.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),fc=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return gc(e).put(mc(t),n)},e.prototype.removeEntry=function(e,t){var n=gc(e),r=mc(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return gc(e).get(mc(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return gc(e).get(mc(t)).next((function(e){return{document:n.ye(t,e),size:Hu(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=za();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=za(),i=new Fa(Ji.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,Hu(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return lu.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return gc(e).$t({range:r},(function(e,t,r){for(var a=Ji.fromSegments(e);o&&Ji.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=za(),o=t.path.length+1,a={};if(n.isEqual(Ri.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=xu(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Xs.collectionReadTimeIndex}return gc(e).$t(a,(function(e,n,a){if(e.length===o){var s=Tu(r.R,n);t.path.isPrefixOf(s.key.path)?Xo(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new dc(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return pc(e).get(Js.key).next((function(e){return Si(!!e),e}))},e.prototype.me=function(e,t){return pc(e).put(Js.key,t)},e.prototype.ye=function(e,t){if(t){var n=Tu(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(Ri.min()))return n}return mo.newInvalidDocument(e)},e}(),dc=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new lc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return(0,di.__extends)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new qa((function(e,t){return xi(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=Cu(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=Hu(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=Cu(t.Ie.R,mo.newNoDocument(o,Ri.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),lu.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(hc);function pc(e){return wu(e,Js.store)}function gc(e){return wu(e,Xs.store)}function mc(e){return e.path.toArray()}var vc=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;Si(n<r&&n>=0&&r<=11);var o=new hu("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Ws.store)}(e),function(e){e.createObjectStore(Hs.store,{keyPath:Hs.keyPath}),e.createObjectStore(Gs.store,{keyPath:Gs.keyPath,autoIncrement:!0}).createIndex(Gs.userMutationsIndex,Gs.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Qs.store)}(e),yc(e),function(e){e.createObjectStore(Xs.store)}(e));var a=lu.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(eu.store),e.deleteObjectStore(Zs.store),e.deleteObjectStore(tu.store)}(e),yc(e)),a=a.next((function(){return function(e){var t=e.store(tu.store),n=new tu(0,0,Ri.min().toTimestamp(),0);return t.put(tu.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(Gs.store).Nt().next((function(n){e.deleteObjectStore(Gs.store),e.createObjectStore(Gs.store,{keyPath:Gs.keyPath,autoIncrement:!0}).createIndex(Gs.userMutationsIndex,Gs.userMutationsKeyPath,{unique:!0});var r=t.store(Gs.store),i=n.map((function(e){return r.put(e)}));return lu.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(ru.store,{keyPath:ru.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(Js.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Xs.store);t.createIndex(Xs.readTimeIndex,Xs.readTimeIndexPath,{unique:!1}),t.createIndex(Xs.collectionReadTimeIndex,Xs.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(iu.store,{keyPath:iu.keyPath})}(e),function(e){e.createObjectStore(ou.store,{keyPath:ou.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(Xs.store).$t((function(e,n){t+=Hu(n)})).next((function(){var n=new Js(t);return e.store(Js.store).put(Js.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(Hs.store),r=e.store(Gs.store);return n.Nt().next((function(n){return lu.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Gs.userMutationsIndex,i).next((function(r){return lu.forEach(r,(function(r){Si(r.userId===n.userId);var i=Ru(t.R,r);return Wu(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(eu.store),n=e.store(Xs.store);return e.store(tu.store).get(tu.key).next((function(e){var r=[];return n.$t((function(n,i){var o=new Fi(n),a=function(e){return[0,qs(e)]}(o);r.push(t.get(a).next((function(n){return n?lu.resolve():function(n){return t.put(new eu(0,qs(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return lu.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(nu.store,{keyPath:nu.keyPath});var n=t.store(nu.store),r=new qu,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:qs(i)})}};return t.store(Xs.store).$t({kt:!0},(function(e,t){var n=new Fi(e);return i(n.popLast())})).next((function(){return t.store(Qs.store).$t({kt:!0},(function(e,t){e[0];var n=e[1],r=(e[2],zs(n));return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(Zs.store);return n.$t((function(e,r){var i=Ou(r),o=Du(t.R,i);return n.put(o)}))},e}();function yc(e){e.createObjectStore(eu.store,{keyPath:eu.keyPath}).createIndex(eu.documentTargetsIndex,eu.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Zs.store,{keyPath:Zs.keyPath}).createIndex(Zs.queryTargetsIndexName,Zs.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(tu.store)}var _c="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",bc=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new mi(gi.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new uc(this,i),this.Le=n+"main",this.R=new ku(u),this.Be=new fu(this.Le,11,new vc(this.R)),this.qe=new Zu(this.referenceDelegate,this.R),this.Ut=new Vu,this.Ue=function(e,t){return new fc(e,t)}(this.R,this.Ut),this.Qe=new Mu,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&bi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new mi(gi.FAILED_PRECONDITION,_c);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new pi(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return(0,di.__awaiter)(t,void 0,void 0,(function(){return(0,di.__generator)(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return(0,di.__awaiter)(t,void 0,void 0,(function(){return(0,di.__generator)(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return(0,di.__awaiter)(t,void 0,void 0,(function(){return(0,di.__generator)(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Ec(t).put(new ru(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(gu(t))return _i("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return _i("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return wc(e).get(Ws.key).next((function(e){return lu.resolve(t.tn(e))}))},e.prototype.en=function(e){return Ec(e).delete(this.clientId)},e.prototype.nn=function(){return(0,di.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i=this;return(0,di.__generator)(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=wu(e,ru.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return lu.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Ke)for(t=0,n=e;t<n.length;t++)r=n[t],this.Ke.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?lu.resolve(!0):wc(e).get(Ws.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new mi(gi.FAILED_PRECONDITION,_c);return!1}}return!(!t.networkEnabled||!t.inForeground)||Ec(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&_i("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return(0,di.__awaiter)(this,void 0,void 0,(function(){var e=this;return(0,di.__generator)(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Ws.store,ru.store],(function(t){var n=new bu(t,pi.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Ec(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return Gu.Kt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(e,t,n){var r=this;_i("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,au,(function(o){return i=new bu(o,r.Ne?r.Ne.next():pi.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw bi("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new mi(gi.FAILED_PRECONDITION,su);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return wc(e).get(Ws.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new mi(gi.FAILED_PRECONDITION,_c)}))},e.prototype.Ze=function(e){var t=new Ws(this.clientId,this.allowTabSynchronization,Date.now());return wc(e).put(Ws.key,t)},e.yt=function(){return fu.yt()},e.prototype.Xe=function(e){var t=this,n=wc(e);return n.get(Ws.key).next((function(e){return t.tn(e)?(_i("IndexedDbPersistence","Releasing primary lease."),n.delete(Ws.key)):lu.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(bi("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Fe=function(){t.un(),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Ke)||void 0===t?void 0:t.getItem(this.on(e)));return _i("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return bi("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(e){bi("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function wc(e){return wu(e,Ws.store)}function Ec(e){return wu(e,ru.store)}function Ic(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Sc=function(e,t){this.progress=e,this.wn=t},kc=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return Ji.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):Ko(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new Ji(t)).next((function(e){var t=Wa();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=Wa();return this.Ut.getCollectionParents(e,i).next((function(a){return lu.forEach(a,(function(a){var s=function(e,t){return new Fo(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=mo.newInvalidDocument(c),r=r.insert(c,l)),wa(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){Xo(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=$a(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Ta&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),Tc=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=$a(),i=$a(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),Cc=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Ri.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var a=i.Cn(t,o);return(qo(t)||Vo(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(yi()<=Z.LogLevel.DEBUG&&_i("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Yo(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new qa(Jo(e));return t.forEach((function(t,r){Xo(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return yi()<=Z.LogLevel.DEBUG&&_i("QueryEngine","Using full collection scan to execute query:",Yo(t)),this.Sn.getDocumentsMatchingQuery(e,t,Ri.min())},e}(),xc=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.Fn=new Fa(xi),this.kn=new lc((function(e){return _o(e)}),bo),this.$n=Ri.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new kc(this.On,this._n,this.persistence.getIndexManager()),this.Qe=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Fn)}))},e}();function Nc(e,t,n,r){return new xc(e,t,n,r)}function Ac(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return(0,di.__generator)(this,(function(a){switch(a.label){case 0:return n=ki(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new kc(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=$a(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var d=0,p=t;d<p.length;d++){var g=p[d];r.push(g.batchId);for(var m=0,v=g.mutations;m<v.length;m++){var y=v[m];a=a.add(y.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Pc(e,t){var n=ki(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=lu.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);Si(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function Rc(e){var t=ki(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function Oc(e,t){var n=ki(e),r=t.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return Si(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.qe.updateTargetData(e,c))}}}));var s=za();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Dc(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(Ri.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return lu.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.Fn=i,e}))}function Dc(e,t,n,r,i){var o=$a();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=za();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Ri.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):_i("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function Lc(e,t){var n=ki(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function Mc(e,t){var n=ki(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,lu.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new Su(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Fn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(e.targetId,e),n.kn.set(t,e.targetId)),e}))}function Fc(e,t,n){return(0,di.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return(0,di.__generator)(this,(function(s){switch(s.label){case 0:r=ki(e),i=r.Fn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!gu(a=s.sent()))throw a;return _i("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(t),r.kn.delete(i.target),[2]}}))}))}function Uc(e,t,n){var r=ki(e),i=Ri.min(),o=$a();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=ki(e),i=r.kn.get(n);return void 0!==i?lu.resolve(r.Fn.get(i)):r.qe.getTargetData(t,n)}(r,e,Ho(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:Ri.min(),n?o:$a())})).next((function(e){return{documents:e,Bn:o}}))}))}function jc(e,t){var n=ki(e),r=ki(n.qe),i=n.Fn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function qc(e){var t=ki(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=ki(e),i=za(),o=xu(n),a=gc(t),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:Xs.readTimeIndex,range:s},(function(e,t){var n=Tu(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:Nu(o)}}))}(t.On,e,t.$n)})).then((function(e){var n=e.wn,r=e.readTime;return t.$n=r,n}))}function Vc(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){var t;return(0,di.__generator)(this,(function(n){return[2,(t=ki(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=gc(e),n=Ri.min();return t.$t({index:Xs.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Nu(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.$n=e}))]}))}))}function Bc(e,t,n,r){return(0,di.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,f,d;return(0,di.__generator)(this,(function(p){switch(p.label){case 0:for(i=ki(e),o=$a(),a=za(),s=Ga(),u=0,c=n;u<c.length;u++)l=c[u],h=t.qn(l.metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,t.Un(l)),s=s.insert(h,t.Qn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,Mc(i,function(e){return Ho(jo(Fi.fromString("__bundle__/docs/"+e)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Dc(e,f,a,Ri.min(),s).next((function(t){return f.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.qe.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function zc(e,t,n){return void 0===n&&(n=$a()),(0,di.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,di.__generator)(this,(function(o){switch(o.label){case 0:return[4,Mc(e,Ho(Lu(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=ki(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=ds(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(e,t);var a=r.withResumeToken(Vi.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Qe.saveNamedQuery(e,t)}))}))]}}))}))}var Kc=function(){function e(e){this.R=e,this.Kn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return lu.resolve(this.Kn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Kn.set(t.id,{id:(n=t).id,version:n.version,createTime:ds(n.createTime)}),lu.resolve()},e.prototype.getNamedQuery=function(e,t){return lu.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:Lu(e.bundledQuery),readTime:ds(e.readTime)}}(t)),lu.resolve()},e}(),Wc=function(){function e(){this.Wn=new qa(Hc.Gn),this.zn=new qa(Hc.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new Hc(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new Hc(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new Ji(new Fi([])),r=new Hc(n,e),i=new Hc(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new Ji(new Fi([])),n=new Hc(t,e),r=new Hc(t,e+1),i=$a();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new Hc(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),Hc=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return Ji.comparator(e.key,t.key)||xi(e.ns,t.ns)},e.Hn=function(e,t){return xi(e.ns,t.ns)||Ji.comparator(e.key,t.key)},e}(),Gc=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new qa(Hc.Gn)}return e.prototype.checkEmpty=function(e){return lu.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new Eu(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new Hc(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return lu.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return lu.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return lu.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return lu.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return lu.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new Hc(t,0),i=new Hc(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),lu.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new qa(xi);return t.forEach((function(e){var t=new Hc(e,0),i=new Hc(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),lu.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;Ji.isDocumentKey(i)||(i=i.child(""));var o=new Hc(new Ji(i),0),a=new qa(xi);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),lu.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;Si(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return lu.forEach(t.mutations,(function(i){var o=new Hc(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new Hc(t,0),r=this.rs.firstAfterOrEqual(n);return lu.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,lu.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),Qc=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new Fa(Ji.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return lu.resolve(n?n.document.clone():mo.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=za();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():mo.newInvalidDocument(e))})),lu.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=za(),i=new Ji(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||Xo(t,c)&&(r=r.insert(c.key,c.clone()))}return lu.resolve(r)},e.prototype.fs=function(e,t){return lu.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new $c(this)},e.prototype.getSize=function(e){return lu.resolve(this.size)},e}(),$c=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return(0,di.__extends)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),lu.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(hc),Yc=function(){function e(e){this.persistence=e,this.ds=new lc((function(e){return _o(e)}),bo),this.lastRemoteSnapshotVersion=Ri.min(),this.highestTargetId=0,this.ws=0,this._s=new Wc,this.targetCount=0,this.ys=Ju.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),lu.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return lu.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return lu.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),lu.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),lu.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new Ju(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,lu.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),lu.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,lu.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),lu.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return lu.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return lu.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),lu.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),lu.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),lu.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return lu.resolve(n)},e.prototype.containsKey=function(e,t){return lu.resolve(this._s.containsKey(t))},e}(),Xc=function(){function e(e,t){var n=this;this.gs={},this.Ne=new pi(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new Yc(this),this.Ut=new ju,this.Ue=function(e,t){return new Qc(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new ku(t),this.Qe=new Kc(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new Gc(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(e,t,n){var r=this;_i("MemoryPersistence","Starting transaction:",e);var i=new Jc(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return lu.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),Jc=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return(0,di.__extends)(t,e),t}(uu),Zc=function(){function e(e){this.persistence=e,this.As=new Wc,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Ii()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),lu.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),lu.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),lu.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return lu.forEach(this.vs,(function(r){var i=Ji.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return lu.or([function(){return lu.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),el=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function tl(e,t){return"firestore_clients_"+e+"_"+t}function nl(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function rl(e,t){return"firestore_targets_"+e+"_"+t}el.UNAUTHENTICATED=new el(null),el.GOOGLE_CREDENTIALS=new el("google-credentials-uid"),el.FIRST_PARTY=new el("first-party-uid");var il=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new mi(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(bi("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),ol=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new mi(i.error.code,i.error.message)),o?new e(t,i.state,r):(bi("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),al=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Xa(),a=0;i&&a<r.activeTargetIds.length;++a)i=Xi(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(bi("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),sl=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(bi("SharedClientState","Failed to parse online state: "+t),null)},e}(),ul=function(){function e(){this.activeTargetIds=Xa()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),cl=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Fa(xi),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=tl(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new ul),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Qs=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return(0,di.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l,h=this;return(0,di.__generator)(this,(function(f){switch(f.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=f.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(tl(this.persistenceKey,r)))&&(o=al.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.$s;u<c.length;u++)l=c[u],this.Fs(l);return this.$s=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(rl(this.persistenceKey,e));if(n){var r=ol.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Ks(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Ks()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(rl(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return _i("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){_i("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){_i("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.Fs=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(_i("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void bi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return(0,di.__awaiter)(t,void 0,void 0,(function(){var e,t,r,i,o,a;return(0,di.__generator)(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=pi.o;if(null!=e)try{var n=JSON.parse(e);Si("number"==typeof n),t=n}catch(e){bi("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==pi.o&&this.sequenceNumberHandler(a);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Ks=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new il(this.currentUser,e,t,n),i=nl(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=nl(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=rl(this.persistenceKey,e),i=new ol(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return al.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return il.Vs(new el(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return ol.Vs(r,t)},e.prototype.js=function(e){return sl.Vs(e)},e.prototype.ii=function(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){return(0,di.__generator)(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(_i("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.ks.insert(e,t):this.ks.remove(e),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.ks=r}))},e.prototype.Ws=function(e){this.ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=Xa();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),ll=function(){function e(){this.li=new ul,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new ul,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),hl=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),fl=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){_i("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){_i("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),dl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},pl=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),gl=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return(0,di.__extends)(t,e),t.prototype.ki=function(e,t,n,r){return new Promise((function(i,o){var a=new fi;a.listenOnce(ai.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case oi.NO_ERROR:var t=a.getResponseJson();_i("Connection","XHR received:",JSON.stringify(t)),i(t);break;case oi.TIMEOUT:_i("Connection",'RPC "'+e+'" timed out'),o(new mi(gi.DEADLINE_EXCEEDED,"Request time out"));break;case oi.HTTP_ERROR:var n=a.getStatus();if(_i("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(gi).indexOf(t)>=0?t:gi.UNKNOWN}(r.status);o(new mi(s,r.message))}else o(new mi(gi.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new mi(gi.UNAVAILABLE,"Connection failed."));break;default:Ii()}}finally{_i("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=new Qr,i=$t(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new li({})),this.Fi(o.initMessageHeaders,t),(0,J.isMobileCordova)()||(0,J.isReactNative)()||(0,J.isElectron)()||(0,J.isIE)()||(0,J.isUWP)()||(0,J.isBrowserExtension)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");_i("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new pl({Ei:function(e){c?_i("Connection","Not sending because WebChannel is closed:",e):(u||(_i("Connection","Opening WebChannel transport."),s.open(),u=!0),_i("Connection","WebChannel sending:",e),s.send(e))},Ti:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,hi.EventType.OPEN,(function(){c||_i("Connection","WebChannel transport opened.")})),h(s,hi.EventType.CLOSE,(function(){c||(c=!0,_i("Connection","WebChannel transport closed"),l.Vi())})),h(s,hi.EventType.ERROR,(function(e){c||(c=!0,wi("Connection","WebChannel transport errored:",e),l.Vi(new mi(gi.UNAVAILABLE,"The operation could not be completed")))})),h(s,hi.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];Si(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){_i("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=Aa[e];if(void 0!==t)return Ma(t)}(o),u=i.message;void 0===a&&(a=gi.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),c=!0,l.Vi(new mi(a,u)),s.close()}else _i("Connection","WebChannel received:",n),l.Si(n)}})),h(i,si.STAT_EVENT,(function(e){e.stat===ui?_i("Connection","Detected buffering proxy"):e.stat===ci&&_i("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);_i("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(e,i,o,n).then((function(e){return _i("RestConnection","Received: ",e),e}),(function(t){throw wi("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.Fi=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.6.8",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=dl[e];return this.Di+"/v1/"+t+":"+n},e}());function ml(){return"undefined"!=typeof window?window:null}function vl(){return"undefined"!=typeof document?document:null}function yl(e){return new cs(e,!0)}var _l=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Ki=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&_i("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Qi=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),bl=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new _l(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return(0,di.__awaiter)(this,void 0,void 0,(function(){return(0,di.__generator)(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return(0,di.__awaiter)(this,void 0,void 0,(function(){return(0,di.__generator)(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){return(0,di.__generator)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===gi.RESOURCE_EXHAUSTED?(bi(t.toString()),bi("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):t&&t.code===gi.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new mi(gi.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return(0,di.__awaiter)(e,void 0,void 0,(function(){return(0,di.__generator)(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return _i("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(_i("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),wl=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return(0,di.__extends)(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ii()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(Si(void 0===t||"string"==typeof t),Vi.fromBase64String(t||"")):(Si(void 0===t||t instanceof Uint8Array),Vi.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?gi.UNKNOWN:Ma(e.code);return new mi(t,e.message||"")}(s);n=new ns(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=vs(e,r.document.name),o=ds(r.document.updateTime);var s=new po({mapValue:{fields:r.document.fields}}),u=(a=mo.newFoundDocument(i,o,s),r.targetIds||[]),c=r.removedTargetIds||[];n=new es(u,c,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=vs(e,r.document),o=r.readTime?ds(r.readTime):Ri.min(),s=mo.newNoDocument(i,o),a=r.removedTargetIds||[],n=new es([],a,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=vs(e,r.document),o=r.removedTargetIds||[],n=new es([],o,i,null);else{if(!("filter"in t))return Ii();t.filter;var l=t.filter;l.targetId,r=l.count||0,i=new Da(r),o=l.targetId,n=new ts(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return Ri.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Ri.min():t.readTime?ds(t.readTime):Ri.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=bs(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=wo(r)?{documents:Ts(e,r)}:{query:Cs(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=hs(e,t.resumeToken):t.snapshotVersion.compareTo(Ri.min())>0&&(n.readTime=ls(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ii()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=bs(this.R),t.removeTarget=e,this.cr(t)},t}(bl),El=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return(0,di.__extends)(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(Si(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(Si(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?ds(e.updateTime):ds(t);return n.isEqual(Ri.min())&&(n=ds(t)),new ma(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=ds(e.commitTime);return this.listener.Tr(n,t)}return Si(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=bs(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Ss(t.R,e)}))};this.cr(n)},t}(bl),Il=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,di.__extends)(t,e),t.prototype.br=function(){if(this.Rr)throw new mi(gi.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===gi.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new mi(gi.UNKNOWN,e.toString())}))},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===gi.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new mi(gi.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),Sl=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.Fr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(bi(t),this.Vr=!1):_i("OnlineStateTracker",t)},e.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),kl=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return(0,di.__awaiter)(o,void 0,void 0,(function(){return(0,di.__generator)(this,(function(e){switch(e.label){case 0:return Dl(this)?(_i("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){var t;return(0,di.__generator)(this,(function(n){switch(n.label){case 0:return(t=ki(e)).Or.add(4),[4,Cl(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,Tl(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new Sl(n,r)};function Tl(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,di.__generator)(this,(function(r){switch(r.label){case 0:if(!Dl(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Cl(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,di.__generator)(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function xl(e,t){var n=ki(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),Ol(n)?Rl(n):$l(n).er()&&Al(n,t))}function Nl(e,t){var n=ki(e),r=$l(n);n.$r.delete(t),r.er()&&Pl(n,t),0===n.$r.size&&(r.er()?r.ir():Dl(n)&&n.Br.set("Unknown"))}function Al(e,t){e.qr.U(t.targetId),$l(e).mr(t)}function Pl(e,t){e.qr.U(t),$l(e).yr(t)}function Rl(e){e.qr=new is({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),$l(e).start(),e.Br.Sr()}function Ol(e){return Dl(e)&&!$l(e).tr()&&e.$r.size>0}function Dl(e){return 0===ki(e).Or.size}function Ll(e){e.qr=void 0}function Ml(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){return(0,di.__generator)(this,(function(t){return e.$r.forEach((function(t,n){Al(e,t)})),[2]}))}))}function Fl(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){return(0,di.__generator)(this,(function(n){return Ll(e),Ol(e)?(e.Br.Nr(t),Rl(e)):e.Br.set("Unknown"),[2]}))}))}function Ul(e,t,n){return(0,di.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,di.__generator)(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof ns&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return(0,di.__generator)(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.$r.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.$r.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),_i("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,jl(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof es?e.qr.X(t):t instanceof ts?e.qr.rt(t):e.qr.et(t),n.isEqual(Ri.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Rc(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(Vi.EMPTY_BYTE_STRING,n.snapshotVersion)),Pl(e,t);var r=new Su(n.target,t,1,n.sequenceNumber);Al(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return _i("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,jl(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function jl(e,t,n){return(0,di.__awaiter)(this,void 0,void 0,(function(){var r=this;return(0,di.__generator)(this,(function(i){switch(i.label){case 0:if(!gu(t))throw t;return e.Or.add(1),[4,Cl(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return Rc(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return(0,di.__awaiter)(r,void 0,void 0,(function(){return(0,di.__generator)(this,(function(t){switch(t.label){case 0:return _i("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,Tl(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function ql(e,t){return t().catch((function(n){return jl(e,n,t)}))}function Vl(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o;return(0,di.__generator)(this,(function(a){switch(a.label){case 0:t=ki(e),n=Yl(t),r=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return Dl(e)&&e.kr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Lc(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.kr.push(t);var n=Yl(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,jl(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Bl(t)&&zl(t),[2]}}))}))}function Bl(e){return Dl(e)&&!Yl(e).tr()&&e.kr.length>0}function zl(e){Yl(e).start()}function Kl(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){return(0,di.__generator)(this,(function(t){return Yl(e).Ar(),[2]}))}))}function Wl(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return(0,di.__generator)(this,(function(o){for(t=Yl(e),n=0,r=e.kr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}function Hl(e,t,n){return(0,di.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,di.__generator)(this,(function(o){switch(o.label){case 0:return r=e.kr.shift(),i=Iu.from(r,t,n),[4,ql(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Vl(e)];case 2:return o.sent(),[2]}}))}))}function Gl(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){return(0,di.__generator)(this,(function(n){switch(n.label){case 0:return t&&Yl(e).pr?[4,function(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,di.__generator)(this,(function(i){switch(i.label){case 0:return La(r=t.code)&&r!==gi.ABORTED?(n=e.kr.shift(),Yl(e).sr(),[4,ql(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,Vl(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Bl(e)&&zl(e),[2]}}))}))}function Ql(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n;return(0,di.__generator)(this,(function(r){switch(r.label){case 0:return n=ki(e),t?(n.Or.delete(2),[4,Tl(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Cl(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function $l(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=ki(e);return r.br(),new wl(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Ml.bind(null,e),Ri:Fl.bind(null,e),_r:Ul.bind(null,e)}),e.Mr.push((function(n){return(0,di.__awaiter)(t,void 0,void 0,(function(){return(0,di.__generator)(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),Ol(e)?Rl(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),Ll(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function Yl(e){var t=this;return e.Qr||(e.Qr=function(e,t,n){var r=ki(e);return r.br(),new El(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Kl.bind(null,e),Ri:Gl.bind(null,e),Ir:Wl.bind(null,e),Tr:Hl.bind(null,e)}),e.Mr.push((function(n){return(0,di.__awaiter)(t,void 0,void 0,(function(){return(0,di.__generator)(this,(function(t){switch(t.label){case 0:return n?(e.Qr.sr(),[4,Vl(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Qr.stop()];case 3:t.sent(),e.kr.length>0&&(_i("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Qr}var Xl=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new cu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new mi(gi.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Jl(e,t){if(bi("AsyncQueue",t+": "+e),gu(e))return new mi(gi.UNAVAILABLE,t+": "+e);throw e}var Zl=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||Ji.comparator(t.key,n.key)}:function(e,t){return Ji.comparator(e.key,t.key)},this.keyedMap=Wa(),this.sortedSet=new Fa(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),eh=function(){function e(){this.Kr=new Fa(Ji.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Kr.get(t);n?0!==e.type&&3===n.type?this.Kr=this.Kr.insert(t,e):3===e.type&&1!==n.type?this.Kr=this.Kr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Kr=this.Kr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Kr=this.Kr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Kr=this.Kr.remove(t):1===e.type&&2===n.type?this.Kr=this.Kr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Kr=this.Kr.insert(t,{type:2,doc:e.doc}):Ii():this.Kr=this.Kr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Kr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),th=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Zl.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),nh=function(){this.Wr=void 0,this.listeners=[]},rh=function(){this.queries=new lc((function(e){return $o(e)}),Qo),this.onlineState="Unknown",this.Gr=new Set};function ih(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return(0,di.__generator)(this,(function(c){switch(c.label){case 0:if(n=ki(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new nh),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=Jl(s,"Initialization of query '"+Yo(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&uh(n),[2]}}))}))}function oh(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,di.__generator)(this,(function(s){return n=ki(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function ah(e,t){for(var n=ki(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&uh(n)}function sh(e,t,n){var r=ki(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function uh(e){e.Gr.forEach((function(e){e.next()}))}var ch=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new th(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=th.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),lh=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),hh=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return vs(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?Is(this.R,e.document,!1):mo.newNoDocument(this.qn(e.metadata.name),this.Qn(e.metadata.readTime))},e.prototype.Qn=function(e){return ds(e)},e}(),fh=function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=dh(e)}return e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new hh(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||$a()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return(0,di.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i;return(0,di.__generator)(this,(function(o){switch(o.label){case 0:return[4,Bc(this.localStore,new hh(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,zc(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Sc(Object.assign({},this.progress),e))]}}))}))},e}();function dh(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var ph=function(e){this.key=e},gh=function(e){this.key=e},mh=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=$a(),this.mutatedKeys=$a(),this.lo=Jo(e),this.fo=new Zl(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new eh,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=qo(this.query)&&i.size===this.query.limit?i.last():null,c=Vo(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),h=Xo(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),qo(this.query)||Vo(this.query))for(;a.size>this.query.limit;){var l=qo(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ii()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new th(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new eh,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=$a(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new gh(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new ph(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=$a();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return th.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),vh=function(e,t,n){this.query=e,this.targetId=t,this.view=n},yh=function(e){this.key=e,this.bo=!1},_h=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new lc((function(e){return $o(e)}),Qo),this.Vo=new Map,this.So=new Set,this.Do=new Fa(Ji.comparator),this.Co=new Map,this.No=new Wc,this.xo={},this.Fo=new Map,this.ko=Ju.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function bh(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,di.__generator)(this,(function(u){switch(u.label){case 0:return n=$h(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Mc(n.localStore,Ho(t))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,wh(n,t,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&xl(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function wh(e,t,n,r){return(0,di.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u,c;return(0,di.__generator)(this,(function(l){switch(l.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return(0,di.__awaiter)(this,void 0,void 0,(function(){var i,o,a;return(0,di.__generator)(this,(function(s){switch(s.label){case 0:return(i=t.view._o(n)).Nn?[4,Uc(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(Dh(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,r)},[4,Uc(e.localStore,t,!0)];case 1:return i=l.sent(),o=new mh(t,i.Bn),a=o._o(i.documents),s=Za.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),Dh(e,n,u.To),c=new vh(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}}))}))}function Eh(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,di.__generator)(this,(function(o){switch(o.label){case 0:return n=ki(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!Qo(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Fc(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Nl(n.remoteStore,r.targetId),Rh(n,r.targetId)})).catch(rc)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Rh(n,r.targetId),[4,Fc(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Ih(e,t,n){return(0,di.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return(0,di.__generator)(this,(function(s){switch(s.label){case 0:r=Yh(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=ki(e),i=Pi.now(),o=t.reduce((function(e,t){return e.add(t.key)}),$a());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=Ea(c,n.get(c.key));null!=l&&a.push(new Ta(c.key,l,go(l.value.mapValue),va.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new Fa(xi)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,Fh(r,i.changes)];case 3:return s.sent(),[4,Vl(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=Jl(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function Sh(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,di.__generator)(this,(function(i){switch(i.label){case 0:n=ki(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Oc(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(Si(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?Si(r.bo):e.removedDocuments.size>0&&(Si(r.bo),r.bo=!1))})),[4,Fh(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,rc(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function kh(e,t,n){var r=ki(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=ki(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&uh(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Th(e,t,n){return(0,di.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return(0,di.__generator)(this,(function(c){switch(c.label){case 0:return(r=ki(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new Fa(Ji.comparator)).insert(o,mo.newNoDocument(o,Ri.min())),s=$a().add(o),u=new Ja(Ri.min(),new Map,new qa(xi),a,s),[4,Sh(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),Mh(r),[3,4];case 2:return[4,Fc(r.localStore,t,!1).then((function(){return Rh(r,t,n)})).catch(rc)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Ch(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,di.__generator)(this,(function(o){switch(o.label){case 0:n=ki(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Pc(n.localStore,t)];case 2:return i=o.sent(),Ph(n,r,null),Ah(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Fh(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,rc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function xh(e,t,n){return(0,di.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,di.__generator)(this,(function(o){switch(o.label){case 0:r=ki(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=ki(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return Si(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),Ph(r,t,n),Ah(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Fh(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,rc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Nh(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,di.__generator)(this,(function(s){switch(s.label){case 0:Dl((n=ki(e)).remoteStore)||_i("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(e){var t=ki(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.Fo.get(r)||[]).push(t),n.Fo.set(r,i),[3,4]);case 3:return o=s.sent(),a=Jl(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function Ah(e,t){(e.Fo.get(t)||[]).forEach((function(e){e.resolve()})),e.Fo.delete(t)}function Ph(e,t,n){var r=ki(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function Rh(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||Oh(e,t)}))}function Oh(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(Nl(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Mh(e))}function Dh(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof ph?(e.No.addReference(o.key,t),Lh(e,o)):o instanceof gh?(_i("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||Oh(e,o.key)):Ii()}}function Lh(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(_i("SyncEngine","New document in limbo: "+n),e.So.add(r),Mh(e))}function Mh(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new Ji(Fi.fromString(t)),r=e.ko.next();e.Co.set(r,new yh(n)),e.Do=e.Do.insert(n,r),xl(e.remoteStore,new Su(Ho(jo(n.path)),r,2,pi.o))}}function Fh(e,t,n){return(0,di.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return(0,di.__generator)(this,(function(s){switch(s.label){case 0:return r=ki(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,s){a.push(r.Oo(s,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=Tc.Pn(s.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return(0,di.__generator)(this,(function(h){switch(h.label){case 0:n=ki(e),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return lu.forEach(t,(function(t){return lu.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return lu.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return h.sent(),[3,4];case 3:if(!gu(r=h.sent()))throw r;return _i("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.Fn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(s,l));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function Uh(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,di.__generator)(this,(function(i){switch(i.label){case 0:return(n=ki(e)).currentUser.isEqual(t)?[3,3]:(_i("SyncEngine","User change. New user:",t.toKey()),[4,Ac(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.Fo.forEach((function(e){e.forEach((function(e){e.reject(new mi(gi.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fo.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Fh(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function jh(e,t){var n=ki(e),r=n.Co.get(t);if(r&&r.bo)return $a().add(r.key);var i=$a(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function qh(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,di.__generator)(this,(function(o){switch(o.label){case 0:return[4,Uc((n=ki(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&Dh(n,t.targetId,i.To),i)]}}))}))}function Vh(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){var t;return(0,di.__generator)(this,(function(n){return[2,qc((t=ki(e)).localStore).then((function(e){return Fh(t,e)}))]}))}))}function Bh(e,t,n,r){return(0,di.__awaiter)(this,void 0,void 0,(function(){var i,o;return(0,di.__generator)(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=ki(e),r=ki(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):lu.resolve(null)}))}))}((i=ki(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Vl(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Ph(i,t,r||null),Ah(i,t),function(e,t){ki(ki(e)._n).Gt(t)}(i.localStore,t)):Ii(),a.label=4;case 4:return[4,Fh(i,o)];case 5:return a.sent(),[3,7];case 6:_i("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function zh(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return(0,di.__generator)(this,(function(l){switch(l.label){case 0:return $h(n=ki(e)),Yh(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Kh(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,Ql(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],xl(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then((function(){return Rh(n,t),Fc(n.localStore,t,!0)})),Nl(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,Kh(n,u)];case 5:return l.sent(),function(e){var t=ki(e);t.Co.forEach((function(e,n){Nl(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new Fa(Ji.comparator)}(n),n.$o=!1,[4,Ql(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function Kh(e,t,n){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,d,p,g;return(0,di.__generator)(this,(function(m){switch(m.label){case 0:n=ki(e),r=[],i=[],o=0,a=t,m.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,Mc(n.localStore,Ho(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,h=c,m.label=3;case 3:return l<h.length?(f=h[l],d=n.Po.get(f),[4,qh(n,d)]):[3,6];case 4:(p=m.sent()).snapshot&&i.push(p.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,jc(n.localStore,s)];case 8:return g=m.sent(),[4,Mc(n.localStore,g)];case 9:return u=m.sent(),[4,wh(n,Wh(g),s,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Wh(e){return Uo(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Hh(e){var t=ki(e);return ki(ki(t.localStore).persistence).fn()}function Gh(e,t,n,r){return(0,di.__awaiter)(this,void 0,void 0,(function(){var i,o,a;return(0,di.__generator)(this,(function(s){switch(s.label){case 0:return(i=ki(e)).$o?(_i("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,qc(i.localStore)];case 3:return o=s.sent(),a=Ja.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,Fh(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Fc(i.localStore,t,!0)];case 6:return s.sent(),Rh(i,t,r),[3,8];case 7:Ii(),s.label=8;case 8:return[2]}}))}))}function Qh(e,t,n){return(0,di.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f;return(0,di.__generator)(this,(function(d){switch(d.label){case 0:if(!(r=$h(e)).$o)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(_i("SyncEngine","Adding an already active target "+a),[3,5]):[4,jc(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,Mc(r.localStore,s)];case 3:return u=d.sent(),[4,wh(r,Wh(s),u.targetId,!1)];case 4:d.sent(),xl(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(e){return(0,di.__generator)(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,Fc(r.localStore,e,!1).then((function(){Nl(r.remoteStore,e),Rh(r,e)})).catch(rc)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,h=n,d.label=7;case 7:return l<h.length?(f=h[l],[5,c(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function $h(e){var t=ki(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Sh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=jh.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Th.bind(null,t),t.vo._r=ah.bind(null,t.eventManager),t.vo.Mo=sh.bind(null,t.eventManager),t}function Yh(e){var t=ki(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ch.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xh.bind(null,t),t}function Xh(e,t,n){var r=ki(e);(function(e,t,n){return(0,di.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return(0,di.__generator)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,14,,15]),[4,t.getMetadata()];case 1:return r=c.sent(),[4,function(e,t){var n=ki(e),r=ds(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Qe.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(e.localStore,r)];case 2:return c.sent()?[4,t.close()]:[3,4];case 3:return[2,(c.sent(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)))];case 4:return n._updateProgress(dh(r)),i=new fh(r,e.localStore,t.R),[4,t.Lo()];case 5:o=c.sent(),c.label=6;case 6:return o?[4,i.oo(o)]:[3,10];case 7:return(a=c.sent())&&n._updateProgress(a),[4,t.Lo()];case 8:o=c.sent(),c.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return s=c.sent(),[4,Fh(e,s.wn,void 0)];case 12:return c.sent(),[4,function(e,t){var n=ki(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Qe.saveBundleMetadata(e,t)}))}(e.localStore,r)];case 13:return c.sent(),n._completeWith(s.progress),[3,15];case 14:return wi("SyncEngine","Loading bundle failed with "+(u=c.sent())),n._failWith(u),[3,15];case 15:return[2]}}))}))})(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var Jh=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){return(0,di.__generator)(this,(function(t){switch(t.label){case 0:return this.R=yl(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Qo(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Qo=function(e){return Nc(this.persistence,new Cc,e.initialUser,this.R)},e.prototype.qo=function(e){return new Xc(Zc.bs,this.R)},e.prototype.Bo=function(e){return new ll},e.prototype.terminate=function(){return(0,di.__awaiter)(this,void 0,void 0,(function(){return(0,di.__generator)(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),Zh=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Ko=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,di.__extends)(t,e),t.prototype.initialize=function(t){return(0,di.__awaiter)(this,void 0,void 0,(function(){return(0,di.__generator)(this,(function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,Vc(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,t)];case 3:return n.sent(),[4,Yh(this.Ko.syncEngine)];case 4:return n.sent(),[4,Vl(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},t.prototype.Qo=function(e){return Nc(this.persistence,new Cc,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new ac(t,e.asyncQueue)},t.prototype.qo=function(e){var t=Ic(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ku.withCacheSize(this.cacheSizeBytes):Ku.DEFAULT;return new bc(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,ml(),vl(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new ll},t}(Jh),ef=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Ko=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,di.__extends)(t,e),t.prototype.initialize=function(t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n,r=this;return(0,di.__generator)(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof cl?(this.sharedClientState.syncEngine={ui:Bh.bind(null,n),ai:Gh.bind(null,n),hi:Qh.bind(null,n),fn:Hh.bind(null,n),ci:Vh.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return(0,di.__awaiter)(r,void 0,void 0,(function(){return(0,di.__generator)(this,(function(t){switch(t.label){case 0:return[4,zh(this.Ko.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=ml();if(!cl.yt(t))throw new mi(gi.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Ic(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new cl(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(Zh),tf=function(){function e(){}return e.prototype.initialize=function(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n=this;return(0,di.__generator)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return kh(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Uh.bind(null,this.syncEngine),[4,Ql(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new rh},e.prototype.createDatastore=function(e){var t,n=yl(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new gl(t));return function(e,t,n){return new Il(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return kh(a.syncEngine,e,0)},o=fl.yt()?new fl:new hl,new kl(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new _h(e,t,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){var t;return(0,di.__generator)(this,(function(n){switch(n.label){case 0:return t=ki(e),_i("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,Cl(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();function nf(e,t){void 0===t&&(t=10240);var n=0;return{read:function(){return(0,di.__awaiter)(this,void 0,void 0,(function(){var r;return(0,di.__generator)(this,(function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]}))}))},cancel:function(){return(0,di.__awaiter)(this,void 0,void 0,(function(){return(0,di.__generator)(this,(function(e){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var rf=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),of=function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new cu,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return(0,di.__awaiter)(this,void 0,void 0,(function(){return(0,di.__generator)(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return(0,di.__awaiter)(this,void 0,void 0,(function(){return(0,di.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return(0,di.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r;return(0,di.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new lh(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return(0,di.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,di.__generator)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){var t;return(0,di.__generator)(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return(0,di.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,di.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))},e}(),af=function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,di.__generator)(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new mi(gi.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,di.__generator)(this,(function(u){switch(u.label){case 0:return n=ki(e),r=bs(n.R)+"/documents",i={documents:t.map((function(e){return ms(n.R,e)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){Si(!!t.found),t.found.name,t.found.updateTime;var n=vs(e,t.found.name),r=ds(t.found.updateTime),i=new po({mapValue:{fields:t.found.fields}});return mo.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Si(!!t.missing),Si(!!t.readTime);var n=vs(e,t.missing),r=ds(t.readTime);return mo.newNoDocument(n,r)}(e,t):Ii()}(n.R,e);a.set(t.key.toString(),t)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());Si(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new Ra(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return(0,di.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return(0,di.__generator)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=Ji.fromPath(n);t.mutations.push(new Oa(r,t.precondition(r)))})),[4,function(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,di.__generator)(this,(function(o){switch(o.label){case 0:return n=ki(e),r=bs(n.R)+"/documents",i={writes:t.map((function(e){return Ss(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ii();t=Ri.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new mi(gi.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?va.updateTime(t):va.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ri.min()))throw new mi(gi.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return va.updateTime(t)}return va.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}(),sf=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new _l(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return(0,di.__awaiter)(e,void 0,void 0,(function(){var e,t,n=this;return(0,di.__generator)(this,(function(r){return e=new af(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!$i(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!La(t)}return!1},e}(),uf=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=el.UNAUTHENTICATED,this.clientId=Ci.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return(0,di.__awaiter)(r,void 0,void 0,(function(){return(0,di.__generator)(this,(function(t){switch(t.label){case 0:return _i("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return(0,di.__awaiter)(this,void 0,void 0,(function(){return(0,di.__generator)(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new mi(gi.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new cu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return(0,di.__awaiter)(e,void 0,void 0,(function(){var e,n;return(0,di.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=Jl(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function cf(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n,r,i=this;return(0,di.__generator)(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),_i("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(e){return(0,di.__awaiter)(i,void 0,void 0,(function(){return(0,di.__generator)(this,(function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,Ac(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function lf(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,di.__generator)(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,hf(e)];case 1:return n=i.sent(),_i("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,di.__generator)(this,(function(i){switch(i.label){case 0:return(n=ki(e)).asyncQueue.verifyOperationInProgress(),_i("RemoteStore","RemoteStore received new credentials"),r=Dl(n),n.Or.add(3),[4,Cl(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,Tl(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function hf(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){return(0,di.__generator)(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(_i("FirestoreClient","Using default OfflineComponentProvider"),[4,cf(e,new Jh)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function ff(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){return(0,di.__generator)(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(_i("FirestoreClient","Using default OnlineComponentProvider"),[4,lf(e,new tf)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function df(e){return hf(e).then((function(e){return e.persistence}))}function pf(e){return hf(e).then((function(e){return e.localStore}))}function gf(e){return ff(e).then((function(e){return e.remoteStore}))}function mf(e){return ff(e).then((function(e){return e.syncEngine}))}function vf(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,di.__generator)(this,(function(r){switch(r.label){case 0:return[4,ff(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=bh.bind(null,t.syncEngine),n.onUnlisten=Eh.bind(null,t.syncEngine),n)]}}))}))}function yf(e,t,n){var r=this;void 0===n&&(n={});var i=new cu;return e.asyncQueue.enqueueAndForget((function(){return(0,di.__awaiter)(r,void 0,void 0,(function(){var r;return(0,di.__generator)(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new rf({next:function(o){t.enqueueAndForget((function(){return oh(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new mi(gi.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new mi(gi.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new ch(jo(n.path),o,{includeMetadataChanges:!0,so:!0});return ih(e,a)},[4,vf(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function _f(e,t,n){var r=this;void 0===n&&(n={});var i=new cu;return e.asyncQueue.enqueueAndForget((function(){return(0,di.__awaiter)(r,void 0,void 0,(function(){var r;return(0,di.__generator)(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new rf({next:function(n){t.enqueueAndForget((function(){return oh(e,a)})),n.fromCache&&"server"===r.source?i.reject(new mi(gi.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new ch(n,o,{includeMetadataChanges:!0,so:!0});return ih(e,a)},[4,vf(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var bf=function(e,t,n,r,i,o,a,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},wf=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),Ef=new Map,If=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},Sf=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(el.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),kf=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Tf=function(){function e(e){var t=this;this.currentUser=el.UNAUTHENTICATED,this.oc=new cu,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))};var n=function(e){_i("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit((function(e){return n(e)})),setTimeout((function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(_i("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}}),0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(_i("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Si("string"==typeof n.accessToken),new If(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable((function(){return(0,di.__awaiter)(n,void 0,void 0,(function(){return(0,di.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}}))}))}))},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Si(null===e||"string"==typeof e),new el(e)},e}(),Cf=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=el.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),xf=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new Cf(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(el.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function Nf(e,t,n){if(!n)throw new mi(gi.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Af(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new mi(gi.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Pf(e,t,n,r){if(!0===t&&!0===r)throw new mi(gi.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Rf(e){if(!Ji.isDocumentKey(e))throw new mi(gi.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Of(e){if(Ji.isDocumentKey(e))throw new mi(gi.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Df(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":Ii()}function Lf(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new mi(gi.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Df(e);throw new mi(gi.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function Mf(e,t){if(t<=0)throw new mi(gi.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var Ff=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new mi(gi.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new mi(gi.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Pf("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),Uf=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ff({}),this._settingsFrozen=!1,e instanceof wf?(this._databaseId=e,this._credentials=new Sf):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new mi(gi.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wf(e.options.projectId)}(e),this._credentials=new Tf(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new mi(gi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new mi(gi.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ff(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new Sf;switch(e.type){case"gapi":var t=e.client;return Si(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new xf(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new mi(gi.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return(e=Ef.get(this))&&(_i("ComponentProvider","Removing Datastore"),Ef.delete(this),e.terminate()),Promise.resolve();var e},e}(),jf=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Vf(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),qf=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Vf=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,jo(r))||this)._path=r,i.type="collection",i}return(0,di.__extends)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new jf(this.firestore,null,new Ji(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(qf);function Bf(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,J.getModularInstance)(e),Nf("collection","path",t),e instanceof Uf)return Of(n=Fi.fromString.apply(Fi,(0,di.__spreadArray)([t],r))),new Vf(e,null,n);if(!(e instanceof jf||e instanceof Vf))throw new mi(gi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Of(n=Fi.fromString.apply(Fi,(0,di.__spreadArray)([e.path],r)).child(Fi.fromString(t))),new Vf(e.firestore,null,n)}function zf(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,J.getModularInstance)(e),1===arguments.length&&(t=Ci.u()),Nf("doc","path",t),e instanceof Uf)return Rf(n=Fi.fromString.apply(Fi,(0,di.__spreadArray)([t],r))),new jf(e,null,new Ji(n));if(!(e instanceof jf||e instanceof Vf))throw new mi(gi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Rf(n=e._path.child(Fi.fromString.apply(Fi,(0,di.__spreadArray)([t],r)))),new jf(e.firestore,e instanceof Vf?e.converter:null,new Ji(n))}function Kf(e,t){return e=(0,J.getModularInstance)(e),t=(0,J.getModularInstance)(t),(e instanceof jf||e instanceof Vf)&&(t instanceof jf||t instanceof Vf)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Wf(e,t){return e=(0,J.getModularInstance)(e),t=(0,J.getModularInstance)(t),e instanceof qf&&t instanceof qf&&e.firestore===t.firestore&&Qo(e._query,t._query)&&e.converter===t.converter}var Hf=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=[],this.Zi=new _l(this,"async_queue_retry"),this.Tc=function(){var t=vl();t&&_i("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=vl();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Tc)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ic(),this.Ac(e)},e.prototype.enterRestrictedMode=function(){if(!this._c){this._c=!0;var e=vl();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Tc)}},e.prototype.enqueue=function(e){return this.Ic(),this._c?new Promise((function(e){})):this.Ac(e)},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.wc.push(e),t.Rc()}))},e.prototype.Rc=function(){return(0,di.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return(0,di.__generator)(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!gu(e=n.sent()))throw e;return _i("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return t.Rc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Ac=function(e){var t=this,n=this.dc.then((function(){return t.gc=!0,e().catch((function(e){throw t.yc=e,t.gc=!1,bi("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.gc=!1,e}))}));return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ic(),this.Ec.indexOf(e)>-1&&(t=0);var i=Xl.createAndSchedule(this,e,t,n,(function(e){return r.bc(e)}));return this.mc.push(i),i},e.prototype.Ic=function(){this.yc&&Ii()},e.prototype.verifyOperationInProgress=function(){},e.prototype.vc=function(){return(0,di.__awaiter)(this,void 0,void 0,(function(){var e;return(0,di.__generator)(this,(function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Pc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Vc=function(e){var t=this;return this.vc().then((function(){t.mc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.vc()}))},e.prototype.Sc=function(e){this.Ec.push(e)},e.prototype.bc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function Gf(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var Qf=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new cu,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},e}(),$f=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new Hf,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return(0,di.__extends)(t,e),t.prototype._terminate=function(){return this._firestoreClient||Xf(this),this._firestoreClient.terminate()},t}(Uf);function Yf(e){return e._firestoreClient||Xf(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Xf(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new bf(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new uf(e._credentials,e._queue,r)}function Jf(e,t,n){var r=this,i=new cu;return e.asyncQueue.enqueue((function(){return(0,di.__awaiter)(r,void 0,void 0,(function(){var r;return(0,di.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,cf(e,n)];case 1:return o.sent(),[4,lf(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===gi.FAILED_PRECONDITION||e.code===gi.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Zf(e){if(e._initialized||e._terminated)throw new mi(gi.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ed=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new mi(gi.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ji(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),td=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(Vi.fromBase64String(t))}catch(t){throw new mi(gi.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(Vi.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),nd=function(e){this._methodName=e},rd=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new mi(gi.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new mi(gi.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return xi(this._lat,e._lat)||xi(this._long,e._long)},e}(),id=/^__.*__$/,od=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new Ta(e,this.data,this.fieldMask,t,this.fieldTransforms):new ka(e,this.data,t,this.fieldTransforms)},e}(),ad=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new Ta(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function sd(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ii()}}var ud=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Dc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Cc",{get:function(){return this.settings.Cc},enumerable:!1,configurable:!0}),e.prototype.Nc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.xc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Nc({path:n,Fc:!1});return r.kc(e),r},e.prototype.$c=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Nc({path:n,Fc:!1});return r.Dc(),r},e.prototype.Oc=function(e){return this.Nc({path:void 0,Fc:!0})},e.prototype.Mc=function(e){return xd(e,this.settings.methodName,this.settings.Lc||!1,this.path,this.settings.Bc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Dc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.kc(this.path.get(e))},e.prototype.kc=function(e){if(0===e.length)throw this.Mc("Document fields must not be empty");if(sd(this.Cc)&&id.test(e))throw this.Mc('Document fields cannot begin and end with "__"')},e}(),cd=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||yl(e)}return e.prototype.qc=function(e,t,n,r){return void 0===r&&(r=!1),new ud({Cc:e,methodName:t,Bc:n,path:ji.emptyPath(),Fc:!1,Lc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function ld(e){var t=e._freezeSettings(),n=yl(e._databaseId);return new cd(e._databaseId,!!t.ignoreUndefinedProperties,n)}function hd(e,t,n,r,i,o){void 0===o&&(o={});var a=e.qc(o.merge||o.mergeFields?2:0,t,n,i);Sd("Data must be an object, but it was:",a,r);var s,u,c=Ed(r,a);if(o.merge)s=new qi(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=kd(t,f[h],n);if(!a.contains(d))throw new mi(gi.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Nd(l,d)||l.push(d)}s=new qi(l),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new od(new po(c),s,u)}var fd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,di.__extends)(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Cc)throw 1===e.Cc?e.Mc(this._methodName+"() can only appear at the top level of your update data"):e.Mc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(nd);function dd(e,t,n){return new ud({Cc:3,Bc:t.settings.Bc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var pd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,di.__extends)(t,e),t.prototype._toFieldTransform=function(e){return new ga(e.path,new sa)},t.prototype.isEqual=function(e){return e instanceof t},t}(nd),gd=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Uc=n,r}return(0,di.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=dd(this,e,!0),n=this.Uc.map((function(e){return wd(e,t)})),r=new ua(n);return new ga(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(nd),md=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Uc=n,r}return(0,di.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=dd(this,e,!0),n=this.Uc.map((function(e){return wd(e,t)})),r=new la(n);return new ga(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(nd),vd=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return(0,di.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=new fa(e.R,na(e.R,this.Qc));return new ga(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(nd);function yd(e,t,n,r){var i=e.qc(1,t,n);Sd("Data must be an object, but it was:",i,r);var o=[],a=po.empty();Di(r,(function(e,r){var s=Cd(t,e,n);r=(0,J.getModularInstance)(r);var u=i.$c(s);if(r instanceof fd)o.push(s);else{var c=wd(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new qi(o);return new ad(a,s,i.fieldTransforms)}function _d(e,t,n,r,i,o){var a=e.qc(1,t,n),s=[kd(t,r,n)],u=[i];if(o.length%2!=0)throw new mi(gi.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(kd(t,o[c])),u.push(o[c+1]);for(var l=[],h=po.empty(),f=s.length-1;f>=0;--f)if(!Nd(l,s[f])){var d=s[f],p=u[f];p=(0,J.getModularInstance)(p);var g=a.$c(d);if(p instanceof fd)l.push(d);else{var m=wd(p,g);null!=m&&(l.push(d),h.set(d,m))}}var v=new qi(l);return new ad(h,v,a.fieldTransforms)}function bd(e,t,n,r){return void 0===r&&(r=!1),wd(n,e.qc(r?4:3,t))}function wd(e,t){if(Id(e=(0,J.getModularInstance)(e)))return Sd("Unsupported field value:",t,e),Ed(e,t);if(e instanceof nd)return function(e,t){if(!sd(t.Cc))throw t.Mc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Mc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Cc)throw t.Mc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=wd(o[i],t.Oc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,J.getModularInstance)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return na(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Pi.fromDate(e);return{timestampValue:ls(t.R,n)}}if(e instanceof Pi)return n=new Pi(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:ls(t.R,n)};if(e instanceof rd)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof td)return{bytesValue:hs(t.R,e._byteString)};if(e instanceof jf){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Mc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:ps(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Mc("Unsupported field value: "+Df(e))}(e,t)}function Ed(e,t){var n={};return Li(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Di(e,(function(e,r){var i=wd(r,t.xc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Id(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Pi||e instanceof rd||e instanceof td||e instanceof jf||e instanceof nd)}function Sd(e,t,n){if(!Id(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Df(n);throw"an object"===r?t.Mc(e+" a custom object"):t.Mc(e+" "+r)}}function kd(e,t,n){if((t=(0,J.getModularInstance)(t))instanceof ed)return t._internalPath;if("string"==typeof t)return Cd(e,t);throw xd("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Td=new RegExp("[~\\*/\\[\\]]");function Cd(e,t,n){if(t.search(Td)>=0)throw xd("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(ed.bind.apply(ed,(0,di.__spreadArray)([void 0],t.split(".")))))._internalPath}catch(r){throw xd("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function xd(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new mi(gi.INVALID_ARGUMENT,(s+=". ")+e+u)}function Nd(e,t){return e.some((function(e){return e.isEqual(t)}))}var Ad=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new jf(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new Pd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(Rd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),Pd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,di.__extends)(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Ad);function Rd(e,t){return"string"==typeof t?Cd(e,t):t instanceof ed?t._internalPath:t._delegate._internalPath}var Od=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Dd=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return(0,di.__extends)(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new Ld(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(Rd("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(Ad),Ld=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,di.__extends)(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(Dd),Md=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Od(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Ld(n._firestore,n._userDataWriter,r.key,r,new Od(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new mi(gi.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new Ld(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Od(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Ld(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Od(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Fd(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function Fd(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ii()}}function Ud(e,t){return e instanceof Dd&&t instanceof Dd?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Md&&t instanceof Md&&e._firestore===t._firestore&&Wf(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function jd(e){if(Vo(e)&&0===e.explicitOrderBy.length)throw new mi(gi.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var qd=function(){};function Vd(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var Bd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Kc=t,i.jc=n,i.Wc=r,i.type="where",i}return(0,di.__extends)(t,e),t.prototype._apply=function(e){var t=ld(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new mi(gi.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){$d(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var h=l[c];u.push(Qd(r,e,h))}s={arrayValue:{values:u}}}else s=Qd(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||$d(a,o),s=bd(n,"where",a,"in"===o||"not-in"===o);var f=Eo.create(i,o,s);return function(e,t){if(t.g()){var n=zo(e);if(null!==n&&!n.isEqual(t.field))throw new mi(gi.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=Bo(e);null!==r&&Yd(0,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new mi(gi.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new mi(gi.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,f),f}(e._query,0,t,e.firestore._databaseId,this.Kc,this.jc,this.Wc);return new qf(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Fo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(qd),zd=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Kc=t,r.Gc=n,r.type="orderBy",r}return(0,di.__extends)(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new mi(gi.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new mi(gi.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Oo(t,n);return function(e,t){if(null===Bo(e)){var n=zo(e);null!==n&&Yd(0,n,t.field)}}(e,r),r}(e._query,this.Kc,this.Gc);return new qf(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Fo(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(qd),Kd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.zc=n,i.Hc=r,i}return(0,di.__extends)(t,e),t.prototype._apply=function(e){return new qf(e.firestore,e.converter,Go(e._query,this.zc,this.Hc))},t}(qd),Wd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Jc=n,i.Yc=r,i}return(0,di.__extends)(t,e),t.prototype._apply=function(e){var t=Gd(e,this.type,this.Jc,this.Yc);return new qf(e.firestore,e.converter,function(e,t){return new Fo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(qd),Hd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Jc=n,i.Yc=r,i}return(0,di.__extends)(t,e),t.prototype._apply=function(e){var t=Gd(e,this.type,this.Jc,this.Yc);return new qf(e.firestore,e.converter,function(e,t){return new Fo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(qd);function Gd(e,t,n,r){if(n[0]=(0,J.getModularInstance)(n[0]),n[0]instanceof Ad)return function(e,t,n,r,i){if(!r)throw new mi(gi.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Wo(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(ao(t,r.key));else{var c=r.data.field(u.field);if(Hi(c))throw new mi(gi.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new mi(gi.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Po(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=ld(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new mi(gi.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new mi(gi.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Ko(e)&&-1!==c.indexOf("/"))throw new mi(gi.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(Fi.fromString(c));if(!Ji.isDocumentKey(l))throw new mi(gi.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Ji(l);s.push(ao(t,h))}else{var f=bd(n,r,c);s.push(f)}}return new Po(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function Qd(e,t,n){if("string"==typeof(n=(0,J.getModularInstance)(n))){if(""===n)throw new mi(gi.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ko(t)&&-1!==n.indexOf("/"))throw new mi(gi.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Fi.fromString(n));if(!Ji.isDocumentKey(r))throw new mi(gi.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ao(e,new Ji(r))}if(n instanceof jf)return ao(e,n._key);throw new mi(gi.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Df(n)+".")}function $d(e,t){if(!Array.isArray(e)||0===e.length)throw new mi(gi.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new mi(gi.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Yd(e,t,n){if(!n.isEqual(t))throw new mi(gi.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Xd=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),Zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ki(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ii()}},e.prototype.convertObject=function(e,t){var n=this,r={};return Di(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new rd(Ki(e.latitude),Ki(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=Gi(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Qi(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=zi(e);return new Pi(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=Fi.fromString(e);Si(js(n));var r=new wf(n.get(1),n.get(3)),i=new Ji(n.popFirst(5));return r.isEqual(t)||bi("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function Jd(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Zd=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,di.__extends)(t,e),t.prototype.convertBytes=function(e){return new td(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new jf(this.firestore,null,t)},t}(Xd),ep=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ld(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=tp(e,this._firestore),i=Jd(r.converter,t,n),o=hd(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,va.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=tp(e,this._firestore);return o="string"==typeof(t=(0,J.getModularInstance)(t))||t instanceof ed?_d(this._dataReader,"WriteBatch.update",a._key,t,n,r):yd(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,va.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=tp(e,this._firestore);return this._mutations=this._mutations.concat(new Ra(t._key,va.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new mi(gi.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function tp(e,t){if((e=(0,J.getModularInstance)(e)).firestore!==t)throw new mi(gi.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var np=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,di.__extends)(t,e),t.prototype.convertBytes=function(e){return new td(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new jf(this.firestore,null,t)},t}(Xd);function rp(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Lf(e,jf);var o=Lf(e.firestore,$f),a=ld(o);return op(o,[("string"==typeof(t=(0,J.getModularInstance)(t))||t instanceof ed?_d(a,"updateDoc",e._key,t,n,r):yd(a,"updateDoc",e._key,t)).toMutation(e._key,va.exists(!0))])}function ip(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=(0,J.getModularInstance)(e);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||Gf(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(Gf(i[s])){var f=i[s];i[s]=null===(t=f.next)||void 0===t?void 0:t.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(e instanceof jf)c=Lf(e.firestore,$f),l=jo(e._key.path),u={next:function(t){i[s]&&i[s](ap(c,e,t))},error:i[s+1],complete:i[s+2]};else{var d=Lf(e,qf);c=Lf(d.firestore,$f),l=d._query;var p=new np(c);u={next:function(e){i[s]&&i[s](new Md(c,p,d,e))},error:i[s+1],complete:i[s+2]},jd(e._query)}return function(e,t,n,r){var i=this,o=new rf(r),a=new ch(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return(0,di.__awaiter)(i,void 0,void 0,(function(){var t;return(0,di.__generator)(this,(function(n){switch(n.label){case 0:return t=ih,[4,vf(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return(0,di.__awaiter)(i,void 0,void 0,(function(){var t;return(0,di.__generator)(this,(function(n){switch(n.label){case 0:return t=oh,[4,vf(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(Yf(c),l,h,u)}function op(e,t){return function(e,t){var n=this,r=new cu;return e.asyncQueue.enqueueAndForget((function(){return(0,di.__awaiter)(n,void 0,void 0,(function(){var n;return(0,di.__generator)(this,(function(i){switch(i.label){case 0:return n=Ih,[4,mf(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(Yf(e),t)}function ap(e,t,n){var r=n.docs.get(t._key),i=new np(e);return new Dd(e,i,t._key,r,new Od(n.hasPendingWrites,n.fromCache),t.converter)}var sp=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return(0,di.__extends)(t,e),t.prototype.get=function(t){var n=this,r=tp(t,this._firestore),i=new np(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new Dd(n._firestore,i,r._key,e._document,new Od(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=ld(e)}return e.prototype.get=function(e){var t=this,n=tp(e,this._firestore),r=new Zd(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Ii();var i=e[0];if(i.isFoundDocument())return new Ad(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Ad(t._firestore,r,n._key,null,n.converter);throw Ii()}))},e.prototype.set=function(e,t,n){var r=tp(e,this._firestore),i=Jd(r.converter,t,n),o=hd(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=tp(e,this._firestore);return o="string"==typeof(t=(0,J.getModularInstance)(t))||t instanceof ed?_d(this._dataReader,"Transaction.update",a._key,t,n,r):yd(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=tp(e,this._firestore);return this._transaction.delete(t._key),this},e}());function up(){if("undefined"==typeof Uint8Array)throw new mi(gi.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function cp(){if("undefined"==typeof atob)throw new mi(gi.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var lp=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return cp(),new e(td.fromBase64String(t))},e.fromUint8Array=function(t){return up(),new e(td.fromUint8Array(t))},e.prototype.toBase64=function(){return cp(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return up(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),hp=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){Zf(e=Lf(e,$f));var n=Yf(e),r=e._freezeSettings(),i=new tf;return Jf(n,i,new Zh(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){Zf(e=Lf(e,$f));var t=Yf(e),n=e._freezeSettings(),r=new tf;return Jf(t,r,new ef(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new mi(gi.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new cu;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return(0,di.__awaiter)(t,void 0,void 0,(function(){var t;return(0,di.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){var t;return(0,di.__generator)(this,(function(n){switch(n.label){case 0:return fu.yt()?(t=e+"main",[4,fu.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Ic(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),fp=function(){function e(e,t,n){var r=this;this._delegate=t,this.Xc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof wf||(this.Zc=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||wi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){void 0===r&&(r={});var i=(e=Lf(e,Uf))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==t&&wi("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},i),{host:t+":"+n,ssl:!1})),r.mockUserToken){var o=(0,J.createMockUserToken)(r.mockUserToken),a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new mi(gi.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");e._credentials=new kf(new If(o,new el(a)))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,di.__awaiter)(t,void 0,void 0,(function(){var t,n;return(0,di.__generator)(this,(function(r){switch(r.label){case 0:return[4,df(e)];case 1:return t=r.sent(),[4,gf(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=ki(e);return t.Or.delete(0),Tl(t)}(n))]}}))}))}))}(Yf(Lf(this._delegate,$f)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,di.__awaiter)(t,void 0,void 0,(function(){var t,n;return(0,di.__generator)(this,(function(r){switch(r.label){case 0:return[4,df(e)];case 1:return t=r.sent(),[4,gf(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){var t;return(0,di.__generator)(this,(function(n){switch(n.label){case 0:return(t=ki(e)).Or.add(0),[4,Cl(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Yf(Lf(this._delegate,$f)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&Pf("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Xc.enableMultiTabIndexedDbPersistence(this):this.Xc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Xc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Zc&&(this.Zc._removeServiceInstance("firestore"),this.Zc._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new cu;return e.asyncQueue.enqueueAndForget((function(){return(0,di.__awaiter)(t,void 0,void 0,(function(){var t;return(0,di.__generator)(this,(function(r){switch(r.label){case 0:return t=Nh,[4,mf(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Yf(Lf(this._delegate,$f)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new rf(t);return e.asyncQueue.enqueueAndForget((function(){return(0,di.__awaiter)(n,void 0,void 0,(function(){var t;return(0,di.__generator)(this,(function(n){switch(n.label){case 0:return t=function(e,t){ki(e).Gr.add(t),t.next()},[4,vf(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return(0,di.__awaiter)(n,void 0,void 0,(function(){var t;return(0,di.__generator)(this,(function(n){switch(n.label){case 0:return t=function(e,t){ki(e).Gr.delete(t)},[4,vf(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(Yf(e=Lf(e,$f)),Gf(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Zc)throw new mi(gi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Zc},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Tp(this,Bf(this._delegate,e))}catch(e){throw yp(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new vp(this,zf(this._delegate,e))}catch(e){throw yp(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new Ip(this,function(e,t){if(e=Lf(e,Uf),Nf("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new mi(gi.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new qf(e,null,function(e){return new Fo(Fi.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw yp(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new cu;return e.asyncQueue.enqueueAndForget((function(){return(0,di.__awaiter)(n,void 0,void 0,(function(){var n;return(0,di.__generator)(this,(function(i){switch(i.label){case 0:return[4,function(e){return ff(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new sf(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(Yf(e),(function(n){return t(new sp(e,n))}))}(this._delegate,(function(n){return e(new pp(t,n))}))},e.prototype.batch=function(){var e=this;return Yf(this._delegate),new gp(new ep(this._delegate,(function(t){return op(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new mi(gi.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new mi(gi.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),dp=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,di.__extends)(t,e),t.prototype.convertBytes=function(e){return new lp(new td(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return vp.tu(t,this.firestore,null)},t}(Xd),pp=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new dp(e)}return e.prototype.get=function(e){var t=this,n=Cp(e);return this._delegate.get(n).then((function(e){return new wp(t._firestore,new Dd(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=Cp(e);return n?(Af("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Cp(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,(0,di.__spreadArray)([a,t,n],i)),this},e.prototype.delete=function(e){var t=Cp(e);return this._delegate.delete(t),this},e}(),gp=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=Cp(e);return n?(Af("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Cp(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,(0,di.__spreadArray)([a,t,n],i)),this},e.prototype.delete=function(e){var t=Cp(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),mp=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new Ld(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ep(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.eu=function(t,n){var r=e.nu,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new dp(t),n),i.set(n,o)),o},e}();mp.nu=new WeakMap;var vp=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new dp(e)}return e.su=function(t,n,r){if(t.length%2!=0)throw new mi(gi.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new jf(n._delegate,r,new Ji(t)))},e.tu=function(t,n,r){return new e(n,new jf(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Tp(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Tp(this.firestore,Bf(this._delegate,e))}catch(e){throw yp(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=(0,J.getModularInstance)(e))instanceof jf&&Kf(this._delegate,e)},e.prototype.set=function(e,t){t=Af("DocumentReference.set",t);try{return function(e,t,n){e=Lf(e,jf);var r=Lf(e.firestore,$f),i=Jd(e.converter,t,n);return op(r,[hd(ld(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,va.none())])}(this._delegate,e,t)}catch(e){throw yp(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?rp(this._delegate,e):rp.apply(void 0,(0,di.__spreadArray)([this._delegate,e,t],n))}catch(e){throw yp(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return op(Lf((e=this._delegate).firestore,$f),[new Ra(e._key,va.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=_p(t),i=bp(t,(function(t){return new wp(e.firestore,new Dd(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return ip(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Lf(e,jf);var t=Lf(e.firestore,$f),n=Yf(t),r=new np(t);return function(e,t){var n=this,r=new cu;return e.asyncQueue.enqueueAndForget((function(){return(0,di.__awaiter)(n,void 0,void 0,(function(){var n;return(0,di.__generator)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,di.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,di.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=ki(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new mi(gi.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Jl(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,pf(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new Dd(t,r,e._key,n,new Od(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Lf(e,jf);var t=Lf(e.firestore,$f);return yf(Yf(t),e._key,{source:"server"}).then((function(n){return ap(t,e,n)}))}(this._delegate):function(e){e=Lf(e,jf);var t=Lf(e.firestore,$f);return yf(Yf(t),e._key).then((function(n){return ap(t,e,n)}))}(this._delegate)).then((function(e){return new wp(t.firestore,new Dd(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(mp.eu(this.firestore,t)):this._delegate.withConverter(null))},e}();function yp(e,t,n){return e.message=e.message.replace(t,n),e}function _p(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!Gf(r))return r}return{}}function bp(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Gf(e[0])?e[0]:Gf(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var wp=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new vp(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return Ud(this._delegate,e._delegate)},e}(),Ep=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,di.__extends)(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(wp),Ip=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new dp(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Vd(this._delegate,function(e,t,n){var r=t,i=Rd("where",e);return new Bd(i,r,n)}(t,n,r)))}catch(t){throw yp(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Vd(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=Rd("orderBy",e);return new zd(r,n)}(t,n)))}catch(t){throw yp(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Vd(this._delegate,function(e){return Mf("limit",e),new Kd("limit",e,"F")}(t)))}catch(t){throw yp(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Vd(this._delegate,function(e){return Mf("limitToLast",e),new Kd("limitToLast",e,"L")}(t)))}catch(t){throw yp(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Vd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Wd("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw yp(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Vd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Wd("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw yp(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Vd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Hd("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw yp(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Vd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Hd("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw yp(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return Wf(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Lf(e,qf);var t=Lf(e.firestore,$f),n=Yf(t),r=new np(t);return function(e,t){var n=this,r=new cu;return e.asyncQueue.enqueueAndForget((function(){return(0,di.__awaiter)(n,void 0,void 0,(function(){var n;return(0,di.__generator)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,di.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s;return(0,di.__generator)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Uc(e,t,!0)];case 1:return s=u.sent(),r=new mh(t,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=Jl(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,pf(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new Md(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Lf(e,qf);var t=Lf(e.firestore,$f),n=Yf(t),r=new np(t);return _f(n,e._query,{source:"server"}).then((function(n){return new Md(t,r,e,n)}))}(this._delegate):function(e){e=Lf(e,qf);var t=Lf(e.firestore,$f),n=Yf(t),r=new np(t);return jd(e._query),_f(n,e._query).then((function(n){return new Md(t,r,e,n)}))}(this._delegate)).then((function(e){return new kp(t.firestore,new Md(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=_p(t),i=bp(t,(function(t){return new kp(e.firestore,new Md(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return ip(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(mp.eu(this.firestore,t)):this._delegate.withConverter(null))},e}(),Sp=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Ep(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),kp=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new Ip(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new Ep(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Sp(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Ep(n._firestore,r))}))},e.prototype.isEqual=function(e){return Ud(this._delegate,e._delegate)},e}(),Tp=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return(0,di.__extends)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new vp(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new vp(this.firestore,void 0===e?zf(this._delegate):zf(this._delegate,e))}catch(e){throw yp(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=Lf(e.firestore,$f),r=zf(e),i=Jd(e.converter,t);return op(n,[hd(ld(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,va.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new vp(t.firestore,e)}))},t.prototype.isEqual=function(e){return Kf(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(mp.eu(this.firestore,e)):this._delegate.withConverter(null))},t}(Ip);function Cp(e){return Lf(e,jf)}var xp=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(ed.bind.apply(ed,(0,di.__spreadArray)([void 0],e)))}return e.documentId=function(){return new e(ji.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=(0,J.getModularInstance)(e))instanceof ed&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),Np=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new pd("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new fd("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new gd("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new md("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new vd("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();var Ap,Pp=n(909),Rp={Firestore:fp,GeoPoint:rd,Timestamp:Pi,Blob:lp,Transaction:pp,WriteBatch:gp,DocumentReference:vp,DocumentSnapshot:wp,Query:Ip,QueryDocumentSnapshot:Ep,QuerySnapshot:kp,CollectionReference:Tp,FieldPath:xp,FieldValue:Np,setLogLevel:function(e){var t;t=e,vi.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Pp.Component("firestore",(function(e){return function(e,t){return new fp(e,new $f(e,t),new hp)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Rp)))})(Ap=Y.default),Ap.registerVersion("@firebase/firestore","2.3.7");var Op="firebasestorage.googleapis.com",Dp=function(e){function t(n,r){var i=e.call(this,Lp(n),"Firebase Storage: "+r+" ("+Lp(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return(0,di.__extends)(t,e),t.prototype._codeEquals=function(e){return Lp(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(J.FirebaseError);function Lp(e){return"storage/"+e}function Mp(){return new Dp("unknown","An unknown error occurred, please check the error payload for server response.")}function Fp(){return new Dp("canceled","User canceled the upload/download.")}function Up(){return new Dp("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function jp(e){return new Dp("invalid-argument",e)}function qp(){return new Dp("app-deleted","The Firebase app was deleted.")}function Vp(e){return new Dp("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Bp(e,t){return new Dp("invalid-format","String does not match format '"+e+"': "+t)}function zp(e){throw new Dp("internal-error","Internal error: "+e)}var Kp={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Wp=function(e,t){this.data=e,this.contentType=t||null};function Hp(e,t){switch(e){case Kp.RAW:return new Wp(Gp(t));case Kp.BASE64:case Kp.BASE64URL:return new Wp(Qp(e,t));case Kp.DATA_URL:return new Wp((n=new Yp(t)).base64?Qp(Kp.BASE64,n.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(e){throw Bp(Kp.DATA_URL,"Malformed data URL.")}return Gp(t)}(n.rest),new Yp(t).contentType)}var n;throw Mp()}function Gp(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);r<=127?t.push(r):r<=2047?t.push(192|r>>6,128|63&r):55296==(64512&r)?n<e.length-1&&56320==(64512&e.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):t.push(239,191,189):56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Qp(e,t){switch(e){case Kp.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Bp(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Kp.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw Bp(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(t){throw Bp(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var $p,Yp=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw Bp(Kp.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=t[1]||null;null!=i&&(this.base64=(r=";base64",(n=i).length>=r.length&&n.substring(n.length-r.length)===r),this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=e.substring(e.indexOf(",")+1)},Xp={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Jp(e){switch(e){case"running":case"pausing":case"canceling":return Xp.RUNNING;case"paused":return Xp.PAUSED;case"success":return Xp.SUCCESS;case"canceled":return Xp.CANCELED;case"error":default:return Xp.ERROR}}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}($p||($p={}));var Zp=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=$p.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=$p.ABORT,t(e)})),e.xhr_.addEventListener("error",(function(){e.errorCode_=$p.NETWORK_ERROR,t(e)})),e.xhr_.addEventListener("load",(function(){t(e)}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw zp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw zp("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw zp("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw zp("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}(),eg=function(){function e(){}return e.prototype.createXhrIo=function(){return new Zp},e}(),tg=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(n){return new e(t,"")}if(""===r.path)return r;throw new Dp("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)",o=new RegExp("^gs://"+i+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://"+(n===Op?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:a}],c=0;c<u.length;c++){var l=u[c],h=l.regex.exec(t);if(h){var f=h[l.indices.bucket],d=h[l.indices.path];d||(d=""),r=new e(f,d),l.postModify(r);break}}if(null==r)throw function(e){return new Dp("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),ng=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function rg(e){return"string"==typeof e||e instanceof String}function ig(e){return og()&&e instanceof Blob}function og(){return"undefined"!=typeof Blob}function ag(e,t,n,r){if(r<t)throw jp("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw jp("Invalid value for '"+e+"'. Expected "+n+" or less.")}function sg(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null==n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function ug(e){var t=encodeURIComponent,n="?";for(var r in e)e.hasOwnProperty(r)&&(n=n+(t(r)+"=")+t(e[r])+"&");return n.slice(0,-1)}var cg=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.xhr;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());!function(e){return void 0!==e}(s)?i():i(s)}catch(e){o(e)}else null!==a?((r=Mp()).serverResponse=a.getResponseText(),e.errorCallback_?o(e.errorCallback_(a,r)):o(r)):n.canceled?o(r=e.appDelete_?qp():Fp()):o(r=new Dp("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new lg(!1,null,!0)):this.backoffId_=function(t,n,r){var i=1,o=null,a=!1,s=0;function u(){return 2===s}var c=!1;function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];c||(c=!0,n.apply(null,e))}function h(t){o=setTimeout((function(){o=null,function(t,n){if(n)t(!1,new lg(!1,null,!0));else{var r=e.pool_.createXhrIo();e.pendingXhr_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(n){null!==e.progressCallback_&&n.removeUploadProgressListener(i),e.pendingXhr_=null;var r=(n=n).getErrorCode()===$p.NO_ERROR,o=n.getStatus();if(r&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new lg(a,n))}else{var s=n.getErrorCode()===$p.ABORT;t(!1,new lg(!1,null,s))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}(f,u())}),t)}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!c)if(e)l.call.apply(l,(0,di.__spreadArray)([null,e],t));else{var r;u()||a?l.call.apply(l,(0,di.__spreadArray)([null,e],t)):(i<64&&(i*=2),1===s?(s=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(e){d||(d=!0,c||(null!==o?(e||(s=2),clearTimeout(o),h(0)):e||(s=1)))}return h(0),setTimeout((function(){a=!0,p(!0)}),r),p}(0,t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),lg=function(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n};function hg(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function fg(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=hg();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(og())return new Blob(e);throw new Dp("unsupported-environment","This browser doesn't seem to support creating Blobs")}var dg=function(){function e(e,t){var n=0,r="";ig(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(ig(this.data_)){var r=(i=this.data_,o=t,a=n,i.webkitSlice?i.webkitSlice(o,a):i.mozSlice?i.mozSlice(o,a):i.slice?i.slice(o,a):null);return null===r?null:new e(r)}var i,o,a;return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(og()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(fg.apply(null,r))}var i=t.map((function(e){return rg(e)?Hp(Kp.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function pg(e){var t;try{t=JSON.parse(e)}catch(e){return null}return function(e){return"object"==typeof e&&!Array.isArray(e)}(t)?t:null}function gg(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function mg(e,t){return t}var vg=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||mg},yg=null;function _g(){if(yg)return yg;var e=[];e.push(new vg("bucket")),e.push(new vg("generation")),e.push(new vg("metageneration")),e.push(new vg("name","fullPath",!0));var t=new vg("name");t.xform=function(e,t){return function(e){return!rg(e)||e.length<2?e:gg(e)}(t)},e.push(t);var n=new vg("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new vg("timeCreated")),e.push(new vg("updated")),e.push(new vg("md5Hash",null,!0)),e.push(new vg("cacheControl",null,!0)),e.push(new vg("contentDisposition",null,!0)),e.push(new vg("contentEncoding",null,!0)),e.push(new vg("contentLanguage",null,!0)),e.push(new vg("contentType",null,!0)),e.push(new vg("metadata","customMetadata",!0)),yg=e}function bg(e,t,n){var r=pg(t);return null===r?null:function(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new tg(n,r);return t._makeStorageReference(i)}})}(r,e),r}(e,r,n)}function wg(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}var Eg=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Ig(e){if(!e)throw Mp()}function Sg(e,t){return function(n,r){var i=bg(e,r,t);return Ig(null!==i),i}}function kg(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=t.getResponseText().includes("Firebase App Check token is invalid")?new Dp("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Dp("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new Dp("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Dp("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function Tg(e){var t=kg(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new Dp("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function Cg(e,t,n){var r=sg(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new Eg(r,"GET",Sg(e,n),i);return o.errorHandler=Tg(t),o}function xg(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=sg(t.bucketOnlyServerUrl(),e.host),s=e.maxOperationRetryTime,u=new Eg(a,"GET",function(e,t){return function(n,r){var i=function(e,t,n){var r=pg(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new tg(t,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var l=c[u];s=e._makeStorageReference(new tg(t,l.name)),r.items.push(s)}return r}(e,t,r)}(e,t,r);return Ig(null!==i),i}}(e,t.bucket),s);return u.urlParams=o,u.errorHandler=kg(t),u}function Ng(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return t&&t.type()||"application/octet-stream"}(0,t)),r}var Ag=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function Pg(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){Ig(!1)}return Ig(!!n&&-1!==(t||["active"]).indexOf(n)),n}var Rg=262144;var Og=function(e,t,n){if(function(e){return"function"==typeof e}(e)||null!=t||null!=n)this.next=e,this.error=t,this.complete=n;else{var r=e;this.next=r.next,this.error=r.error,this.complete=r.complete}};function Dg(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var Lg=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=_g(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=Ng(t,r,i),s={name:a.fullPath},u=sg(o,e.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=wg(a,n),h=e.maxUploadRetryTime,f=new Eg(u,"POST",(function(e){var t;Pg(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){Ig(!1)}return Ig(rg(t)),t}),h);return f.urlParams=s,f.headers=c,f.body=l,f.errorHandler=kg(t),f}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,o=new Eg(n,"POST",(function(e){var t=Pg(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){Ig(!1)}n||Ig(!1);var i=Number(n);return Ig(!isNaN(i)),new Ag(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=kg(t),o}(e._ref.storage,e._ref._location,t,e._blob),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=Rg*this._chunkMultiplier,n=new Ag(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=function(e,t,n,r,i,o,a,s){var u=new Ag(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Dp("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f=h+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},p=r.slice(h,f);if(null===p)throw Up();var g=t.maxUploadRetryTime,m=new Eg(n,"POST",(function(e,n){var i,a=Pg(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?Sg(t,o)(e,n):null,new Ag(s,c,"final"===a,i)}),g);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=kg(e),m}(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(t){return e._error=t,void e._transition("error")}var s=e._ref.storage._makeRequest(a,i,o);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){Rg*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t,n){var r=Cg(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=Ng(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+wg(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=dg.getBlob(c,r,l);if(null===h)throw Up();var f={name:u.fullPath},d=sg(o,e.host),p=e.maxUploadRetryTime,g=new Eg(d,"POST",Sg(e,n),p);return g.urlParams=f,g.headers=a,g.body=h.uploadData(),g.errorHandler=kg(t),g}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Fp(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=Jp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new Og(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(Jp(this._state)){case Xp.SUCCESS:Dg(this._resolve.bind(null,this.snapshot))();break;case Xp.CANCELED:case Xp.ERROR:Dg(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(Jp(this._state)){case Xp.RUNNING:case Xp.PAUSED:e.next&&Dg(e.next.bind(e,this.snapshot))();break;case Xp.SUCCESS:e.complete&&Dg(e.complete.bind(e))();break;case Xp.CANCELED:case Xp.ERROR:e.error&&Dg(e.error.bind(e,this._error))();break;default:e.error&&Dg(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),Mg=function(){function e(e,t){this._service=e,this._location=t instanceof tg?t:tg.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new tg(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return gg(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new tg(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw Vp(e)},e}();function Fg(e){var t={prefixes:[],items:[]};return Ug(e,t).then((function(){return t}))}function Ug(e,t,n){return(0,di.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,di.__generator)(this,(function(a){switch(a.label){case 0:return[4,jg(e,{pageToken:n})];case 1:return r=a.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,Ug(e,t,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function jg(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,di.__generator)(this,(function(i){switch(i.label){case 0:return null!=t&&"number"==typeof t.maxResults&&ag("options.maxResults",1,1e3,t.maxResults),n=t||{},r=xg(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function qg(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){var t;return(0,di.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=function(e,t,n){var r=sg(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new Eg(r,"GET",function(e,t){return function(n,r){var i=bg(e,r,t);return Ig(null!==i),function(e,t,n){var r=pg(t);if(null===r)return null;if(!rg(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(t){var r=e.bucket,i=e.fullPath;return sg("/b/"+o(r)+"/o/"+o(i),n)+ug({alt:"media",token:t})}))[0]}(i,r,e.host)}}(e,n),i);return o.errorHandler=Tg(t),o}(e.storage,e._location,_g()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then((function(e){if(null===e)throw new Dp("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}function Vg(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new tg(e._location.bucket,n);return new Mg(e.storage,r)}function Bg(e){return/^[A-Za-z]+:\/\//.test(e)}function zg(e,t){if(e instanceof Hg){var n=e;if(null==n._bucket)throw new Dp("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new Mg(n,n._bucket);return null!=t?zg(r,t):r}if(void 0!==t){if(t.includes(".."))throw jp('`path` param cannot contain ".."');return Vg(e,t)}return e}function Kg(e,t){if(t&&Bg(t)){if(e instanceof Hg)return new Mg(e,t);throw jp("To use ref(service, url), the first argument must be a Storage instance.")}return zg(e,t)}function Wg(e,t){var n=null==t?void 0:t.storageBucket;return null==n?null:tg.makeFromBucketSpec(n,e)}var Hg=function(){function e(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=Op,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?tg.makeFromBucketSpec(i,this._host):Wg(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=tg.makeFromBucketSpec(this._url,e):this._bucket=Wg(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){ag("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){ag("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return(0,di.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,di.__generator)(this,(function(n){switch(n.label){case 0:return(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._getAppCheckToken=function(){return(0,di.__awaiter)(this,void 0,void 0,(function(){var e;return(0,di.__generator)(this,(function(t){switch(t.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear(),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new Mg(this,e)},e.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new ng(qp());var i=function(e,t,n,r,i,o){var a=ug(e.urlParams),s=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new cg(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},e.prototype.makeRequestWithTokens=function(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,di.__generator)(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=i.sent(),n=t[0],r=t[1],[2,this._makeRequest(e,n,r)]}}))}))},e}();function Gg(e,t){return Kg(e=(0,J.getModularInstance)(e),t)}var Qg,$g,Yg=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),Xg=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new Yg(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new Yg(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"==typeof t?function(e){return t(new Yg(e,i,i._ref))}:{next:t.next?function(e){return t.next(new Yg(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),Jg=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new Zg(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new Zg(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),Zg=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){return new e(function(e,t){return Vg(e,t)}(this._delegate,t),this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new Xg(function(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Lg(e,new dg(t),n)}(e=(0,J.getModularInstance)(e),t,n)}(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=Kp.RAW),this._throwIfRoot("putString");var r=Hp(t,e),i=(0,di.__assign)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Xg(new Lg(this._delegate,new dg(r.data,!0),i),this)},e.prototype.listAll=function(){var e=this;return function(e){return Fg(e=(0,J.getModularInstance)(e))}(this._delegate).then((function(t){return new Jg(t,e.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return jg(e=(0,J.getModularInstance)(e),t)}(this._delegate,e||void 0).then((function(e){return new Jg(e,t.storage)}))},e.prototype.getMetadata=function(){return function(e){return function(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){var t;return(0,di.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=Cg(e.storage,e._location,_g()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=(0,J.getModularInstance)(e))}(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return function(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n;return(0,di.__generator)(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=function(e,t,n,r){var i=sg(t.fullServerUrl(),e.host),o=wg(n,r),a=e.maxOperationRetryTime,s=new Eg(i,"PATCH",Sg(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=Tg(t),s}(e.storage,e._location,t,_g()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}(e=(0,J.getModularInstance)(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return function(e){return qg(e=(0,J.getModularInstance)(e))}(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),function(e){return function(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){var t;return(0,di.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=function(e,t){var n=sg(t.fullServerUrl(),e.host),r=e.maxOperationRetryTime,i=new Eg(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=Tg(t),i}(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=(0,J.getModularInstance)(e))}(this._delegate)},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw Vp(e)},e}(),em=function(){function e(e,t){var n=this;this.app=e,this._delegate=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(Bg(e))throw jp("ref() expected a child path but got a URL, use refFromURL instead.");return new Zg(Gg(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!Bg(e))throw jp("refFromURL() expected a full URL but got a child path, use ref() instead.");try{tg.makeFromUrl(e,this._delegate.host)}catch(e){throw jp("refFromUrl() expected a valid full URL but got an invalid one.")}return new Zg(Gg(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t){!function(e,t,n){e.host="http://"+t+":"+n}(this._delegate,e,t)},e}();Qg=Y.default,$g={TaskState:Xp,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:Kp,Storage:Hg,Reference:Zg},Qg.INTERNAL.registerComponent(new Pp.Component("storage",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new em(r,new Hg(r,i,o,new eg,n,Y.default.SDK_VERSION))}),"PUBLIC").setServiceProps($g).setMultipleInstances(!0)),Qg.registerVersion("@firebase/storage","0.5.5"),Y.default.initializeApp({apiKey:"AIzaSyAXkBcu7FAaemKJylwt-qAOTyl7zFghFts",authDomain:"myti-171bb.firebaseapp.com",projectId:"myti-171bb",storageBucket:"myti-171bb.appspot.com",messagingSenderId:"269984820844",appId:"1:269984820844:web:5c28f30f22bbd61eea7249",measurementId:"G-R65GQZJJ8Q"});var tm=Y.default.firestore(),nm=Y.default.storage(),rm=n(774),im=n.n(rm);const om=function(e){function t(e,r,u,c,f){for(var d,p,g,m,b,E=0,I=0,S=0,k=0,T=0,R=0,D=g=d=0,M=0,F=0,U=0,j=0,q=u.length,V=q-1,B="",z="",K="",W="";M<q;){if(p=u.charCodeAt(M),M===V&&0!==I+k+S+E&&(0!==I&&(p=47===I?10:47),k=S=E=0,q++,V++),0===I+k+S+E){if(M===V&&(0<F&&(B=B.replace(h,"")),0<B.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:B+=u.charAt(M)}p=59}switch(p){case 123:for(d=(B=B.trim()).charCodeAt(0),g=1,j=++M;M<q;){switch(p=u.charCodeAt(M)){case 123:g++;break;case 125:g--;break;case 47:switch(p=u.charCodeAt(M+1)){case 42:case 47:e:{for(D=M+1;D<V;++D)switch(u.charCodeAt(D)){case 47:if(42===p&&42===u.charCodeAt(D-1)&&M+2!==D){M=D+1;break e}break;case 10:if(47===p){M=D+1;break e}}M=D}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<V&&u.charCodeAt(M)!==p;);}if(0===g)break;M++}switch(g=u.substring(j,M),0===d&&(d=(B=B.replace(l,"").trim()).charCodeAt(0)),d){case 64:switch(0<F&&(B=B.replace(h,"")),p=B.charCodeAt(1)){case 100:case 109:case 115:case 45:F=r;break;default:F=P}if(j=(g=t(r,F,g,p,f+1)).length,0<O&&(b=s(3,g,F=n(P,B,U),r,x,C,j,p,f,c),B=F.join(""),void 0!==b&&0===(j=(g=b.trim()).length)&&(p=0,g="")),0<j)switch(p){case 115:B=B.replace(w,a);case 100:case 109:case 45:g=B+"{"+g+"}";break;case 107:g=(B=B.replace(v,"$1 $2"))+"{"+g+"}",g=1===A||2===A&&o("@"+g,3)?"@-webkit-"+g+"@"+g:"@"+g;break;default:g=B+g,112===c&&(z+=g,g="")}else g="";break;default:g=t(r,n(r,B,U),g,c,f+1)}K+=g,g=U=F=D=d=0,B="",p=u.charCodeAt(++M);break;case 125:case 59:if(1<(j=(B=(0<F?B.replace(h,""):B).trim()).length))switch(0===D&&(d=B.charCodeAt(0),45===d||96<d&&123>d)&&(j=(B=B.replace(" ",":")).length),0<O&&void 0!==(b=s(1,B,r,e,x,C,z.length,c,f,c))&&0===(j=(B=b.trim()).length)&&(B="\0\0"),d=B.charCodeAt(0),p=B.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){W+=B+u.charAt(M);break}default:58!==B.charCodeAt(j-1)&&(z+=i(B,d,p,B.charCodeAt(2)))}U=F=D=d=0,B="",p=u.charCodeAt(++M)}}switch(p){case 13:case 10:47===I?I=0:0===1+d&&107!==c&&0<B.length&&(F=1,B+="\0"),0<O*L&&s(0,B,r,e,x,C,z.length,c,f,c),C=1,x++;break;case 59:case 125:if(0===I+k+S+E){C++;break}default:switch(C++,m=u.charAt(M),p){case 9:case 32:if(0===k+E+I)switch(T){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===k+I+E&&(F=U=1,m="\f"+m);break;case 108:if(0===k+I+E+N&&0<D)switch(M-D){case 2:112===T&&58===u.charCodeAt(M-3)&&(N=T);case 8:111===R&&(N=R)}break;case 58:0===k+I+E&&(D=M);break;case 44:0===I+S+k+E&&(F=1,m+="\r");break;case 34:case 39:0===I&&(k=k===p?0:0===k?p:k);break;case 91:0===k+I+S&&E++;break;case 93:0===k+I+S&&E--;break;case 41:0===k+I+E&&S--;break;case 40:if(0===k+I+E){if(0===d)switch(2*T+3*R){case 533:break;default:d=1}S++}break;case 64:0===I+S+k+E+D+g&&(g=1);break;case 42:case 47:if(!(0<k+E+S))switch(I){case 0:switch(2*p+3*u.charCodeAt(M+1)){case 235:I=47;break;case 220:j=M,I=42}break;case 42:47===p&&42===T&&j+2!==M&&(33===u.charCodeAt(j+2)&&(z+=u.substring(j,M+1)),m="",I=0)}}0===I&&(B+=m)}R=T,T=p,M++}if(0<(j=z.length)){if(F=r,0<O&&void 0!==(b=s(2,z,F,e,x,C,j,c,f,c))&&0===(z=b).length)return W+z+K;if(z=F.join(",")+"{"+z+"}",0!=A*N){switch(2!==A||o(z,2)||(N=0),N){case 111:z=z.replace(_,":-moz-$1")+z;break;case 112:z=z.replace(y,"::-webkit-input-$1")+z.replace(y,"::-moz-$1")+z.replace(y,":-ms-input-$1")+z}N=0}}return W+z+K}function n(e,t,n){var i=t.trim().split(g);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<o;++s)for(var c=0;c<a;++c)t[u++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var a=e+";",s=2*t+3*n+4*r;if(944===s){e=a.indexOf(":",9)+1;var u=a.substring(e,a.length-1).trim();return u=a.substring(0,e).trim()+u+";",1===A||2===A&&o(u,1)?"-webkit-"+u+u:u}if(0===A||2===A&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(T,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return d.test(a)?a.replace(f,":-webkit-")+a.replace(f,":-moz-")+a:a;case 1e3:switch(t=(u=a.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=a.replace(b,"tb");break;case 232:u=a.replace(b,"tb-rl");break;case 220:u=a.replace(b,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(u=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return u=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+u+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(I,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(I,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===k.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+r&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+a}return a}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(S,"$1"),n,t)}function a(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(E," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,o,a,s,u,l){for(var h,f=0,d=t;f<O;++f)switch(h=R[f].call(c,e,d,n,r,i,o,a,s,u,l)){case void 0:case!1:case!0:case null:break;default:d=h}if(d!==t)return d}function u(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!=typeof e?A=1:(A=2,D=e):A=0),u}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<O){var i=s(-1,n,r,r,x,C,0,0,0,0);void 0!==i&&"string"==typeof i&&(n=i)}var o=t(P,r,n,0,0);return 0<O&&void 0!==(i=s(-2,o,r,r,x,C,o.length,0,0,0))&&(o=i),N=0,C=x=1,o}var l=/^\0+/g,h=/[\0\r\f]/g,f=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,g=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,v=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,_=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,E=/([\s\S]*?);/g,I=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,k=/stretch|:\s*\w+\-(?:conte|avail)/,T=/([^-])(image-set\()/,C=1,x=1,N=0,A=1,P=[],R=[],O=0,D=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:O=R.length=0;break;default:if("function"==typeof t)R[O++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=u,void 0!==e&&u(e),c},am={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var sm=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;const um=(cm={},function(e){return void 0===cm[e]&&(cm[e]=(t=e,sm.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)<91)),cm[e];var t});var cm;function lm(){return(lm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var hm=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},fm=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,N.typeOf)(e)},dm=Object.freeze([]),pm=Object.freeze({});function gm(e){return"function"==typeof e}function mm(e){return e.displayName||e.name||"Component"}function vm(e){return e&&"string"==typeof e.styledComponentId}var ym="undefined"!=typeof process&&(process.env.REACT_APP_SC_ATTR||process.env.SC_ATTR)||"data-styled",_m="undefined"!=typeof window&&"HTMLElement"in window,bm=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==process.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&process.env.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==process.env.SC_DISABLE_SPEEDY&&""!==process.env.SC_DISABLE_SPEEDY&&"false"!==process.env.SC_DISABLE_SPEEDY&&process.env.SC_DISABLE_SPEEDY),wm={};function Em(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var Im=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&Em(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,o=r;o<i;o++)t+=this.tag.getRule(o)+"/*!sc*/\n";return t},e}(),Sm=new Map,km=new Map,Tm=1,Cm=function(e){if(Sm.has(e))return Sm.get(e);for(;km.has(Tm);)Tm++;var t=Tm++;return Sm.set(e,t),km.set(t,e),t},xm=function(e){return km.get(e)},Nm=function(e,t){Sm.set(e,t),km.set(t,e)},Am="style["+ym+'][data-styled-version="5.3.0"]',Pm=new RegExp("^"+ym+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Rm=function(e,t,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&e.registerName(t,r)},Om=function(e,t){for(var n=t.innerHTML.split("/*!sc*/\n"),r=[],i=0,o=n.length;i<o;i++){var a=n[i].trim();if(a){var s=a.match(Pm);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(Nm(c,u),Rm(e,c,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(a)}}},Dm=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},Lm=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(ym))return r}}(n),o=void 0!==i?i.nextSibling:null;r.setAttribute(ym,"active"),r.setAttribute("data-styled-version","5.3.0");var a=Dm();return a&&r.setAttribute("nonce",a),n.insertBefore(r,o),r},Mm=function(){function e(e){var t=this.element=Lm(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}Em(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),Fm=function(){function e(e){var t=this.element=Lm(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Um=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),jm=_m,qm={isServer:!_m,useCSSOMInjection:!bm},Vm=function(){function e(e,t,n){void 0===e&&(e=pm),void 0===t&&(t={}),this.options=lm({},qm,{},e),this.gs=t,this.names=new Map(n),!this.options.isServer&&_m&&jm&&(jm=!1,function(e){for(var t=document.querySelectorAll(Am),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(ym)&&(Om(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return Cm(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(lm({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new Um(i):r?new Mm(i):new Fm(i),new Im(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(Cm(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(Cm(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(Cm(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var o=xm(i);if(void 0!==o){var a=e.names.get(o),s=t.getGroup(i);if(void 0!==a&&0!==s.length){var u=ym+".g"+i+'[id="'+o+'"]',c="";void 0!==a&&a.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),Bm=/(a)(d)/gi,zm=function(e){return String.fromCharCode(e+(e>25?39:97))};function Km(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=zm(t%52)+n;return(zm(t%52)+n).replace(Bm,"$1-$2")}var Wm=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Hm=function(e){return Wm(5381,e)};function Gm(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(gm(n)&&!vm(n))return!1}return!0}var Qm=Hm("5.3.0"),$m=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Gm(e),this.componentId=t,this.baseHash=Wm(Qm,t),this.baseStyle=n,Vm.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var o=dv(this.rules,e,t,n).join(""),a=Km(Wm(this.baseHash,o.length)>>>0);if(!t.hasNameForId(r,a)){var s=n(o,"."+a,void 0,r);t.insertRules(r,a,s)}i.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,c=Wm(this.baseHash,n.hash),l="",h=0;h<u;h++){var f=this.rules[h];if("string"==typeof f)l+=f;else if(f){var d=dv(f,e,t,n),p=Array.isArray(d)?d.join(""):d;c=Wm(c,p+h),l+=p}}if(l){var g=Km(c>>>0);if(!t.hasNameForId(r,g)){var m=n(l,"."+g,void 0,r);t.insertRules(r,g,m)}i.push(g)}}return i.join(" ")},e}(),Ym=/^\s*\/\/.*$/gm,Xm=[":","[",".","#"];function Jm(e){var t,n,r,i,o=void 0===e?pm:e,a=o.options,s=void 0===a?pm:a,u=o.plugins,c=void 0===u?dm:u,l=new om(s),h=[],f=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,o,a,s,u,c,l,h){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===h?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){h.push(e)})),d=function(e,r,o){return 0===r&&-1!==Xm.indexOf(o[n.length])||o.match(i)?e:"."+t};function p(e,o,a,s){void 0===s&&(s="&");var u=e.replace(Ym,""),c=o&&a?a+" "+o+" { "+u+" }":u;return t=s,n=o,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(a||!o?"":o,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},f,function(e){if(-2===e){var t=h;return h=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||Em(15),Wm(e,t.name)}),5381).toString():"",p}var Zm=e.createContext(),ev=(Zm.Consumer,e.createContext()),tv=(ev.Consumer,new Vm),nv=Jm();function rv(){return(0,e.useContext)(Zm)||tv}function iv(){return(0,e.useContext)(ev)||nv}function ov(t){var n=(0,e.useState)(t.stylisPlugins),r=n[0],i=n[1],o=rv(),a=(0,e.useMemo)((function(){var e=o;return t.sheet?e=t.sheet:t.target&&(e=e.reconstructWithOptions({target:t.target},!1)),t.disableCSSOMInjection&&(e=e.reconstructWithOptions({useCSSOMInjection:!1})),e}),[t.disableCSSOMInjection,t.sheet,t.target]),s=(0,e.useMemo)((function(){return Jm({options:{prefix:!t.disableVendorPrefixes},plugins:r})}),[t.disableVendorPrefixes,r]);return(0,e.useEffect)((function(){im()(r,t.stylisPlugins)||i(t.stylisPlugins)}),[t.stylisPlugins]),e.createElement(Zm.Provider,{value:a},e.createElement(ev.Provider,{value:s},t.children))}var av=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=nv);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return Em(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=nv),this.name+e.hash},e}(),sv=/([A-Z])/,uv=/([A-Z])/g,cv=/^ms-/,lv=function(e){return"-"+e.toLowerCase()};function hv(e){return sv.test(e)?e.replace(uv,lv).replace(cv,"-ms-"):e}var fv=function(e){return null==e||!1===e||""===e};function dv(e,t,n,r){if(Array.isArray(e)){for(var i,o=[],a=0,s=e.length;a<s;a+=1)""!==(i=dv(e[a],t,n,r))&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}return fv(e)?"":vm(e)?"."+e.styledComponentId:gm(e)?"function"!=typeof(u=e)||u.prototype&&u.prototype.isReactComponent||!t?e:dv(e(t),t,n,r):e instanceof av?n?(e.inject(n,r),e.getName(r)):e:fm(e)?function e(t,n){var r,i,o=[];for(var a in t)t.hasOwnProperty(a)&&!fv(t[a])&&(fm(t[a])?o.push.apply(o,e(t[a],a)):gm(t[a])?o.push(hv(a)+":",t[a],";"):o.push(hv(a)+": "+(r=a,(null==(i=t[a])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in am?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(o,["}"]):o}(e):e.toString();var u}function pv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return gm(e)||fm(e)?dv(hm(dm,[e].concat(n))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:dv(hm(e,n))}new Set;var gv=function(e,t,n){return void 0===n&&(n=pm),e.theme!==n.theme&&e.theme||t||n.theme},mv=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,vv=/(^-|-$)/g;function yv(e){return e.replace(mv,"-").replace(vv,"")}var _v=function(e){return Km(Hm(e)>>>0)};function bv(e){return"string"==typeof e&&!0}var wv=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Ev=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Iv(e,t,n){var r=e[n];wv(t)&&wv(r)?Sv(r,t):e[n]=t}function Sv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];if(wv(a))for(var s in a)Ev(s)&&Iv(e,a[s],s)}return e}var kv=e.createContext();kv.Consumer;var Tv={};function Cv(t,n,r){var i=vm(t),o=!bv(t),a=n.attrs,s=void 0===a?dm:a,u=n.componentId,c=void 0===u?function(e,t){var n="string"!=typeof e?"sc":yv(e);Tv[n]=(Tv[n]||0)+1;var r=n+"-"+_v("5.3.0"+n+Tv[n]);return t?t+"-"+r:r}(n.displayName,n.parentComponentId):u,l=n.displayName,h=void 0===l?function(e){return bv(e)?"styled."+e:"Styled("+mm(e)+")"}(t):l,f=n.displayName&&n.componentId?yv(n.displayName)+"-"+n.componentId:n.componentId||c,d=i&&t.attrs?Array.prototype.concat(t.attrs,s).filter(Boolean):s,p=n.shouldForwardProp;i&&t.shouldForwardProp&&(p=n.shouldForwardProp?function(e,r,i){return t.shouldForwardProp(e,r,i)&&n.shouldForwardProp(e,r,i)}:t.shouldForwardProp);var g,m=new $m(r,f,i?t.componentStyle:void 0),v=m.isStatic&&0===s.length,y=function(t,n){return function(t,n,r,i){var o=t.attrs,a=t.componentStyle,s=t.defaultProps,u=t.foldedComponentIds,c=t.shouldForwardProp,l=t.styledComponentId,h=t.target,f=function(e,t,n){void 0===e&&(e=pm);var r=lm({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,o,a=e;for(t in gm(a)&&(a=a(r)),a)r[t]=i[t]="className"===t?(n=i[t],o=a[t],n&&o?n+" "+o:n||o):a[t]})),[r,i]}(gv(n,(0,e.useContext)(kv),s)||pm,n,o),d=f[0],p=f[1],g=function(e,t,n,r){var i=rv(),o=iv();return t?e.generateAndInjectStyles(pm,i,o):e.generateAndInjectStyles(n,i,o)}(a,i,d),m=r,v=p.$as||n.$as||p.as||n.as||h,y=bv(v),_=p!==n?lm({},n,{},p):n,b={};for(var w in _)"$"!==w[0]&&"as"!==w&&("forwardedAs"===w?b.as=_[w]:(c?c(w,um,v):!y||um(w))&&(b[w]=_[w]));return n.style&&p.style!==n.style&&(b.style=lm({},n.style,{},p.style)),b.className=Array.prototype.concat(u,l,g!==l?g:null,n.className,p.className).filter(Boolean).join(" "),b.ref=m,(0,e.createElement)(v,b)}(g,t,n,v)};return y.displayName=h,(g=e.forwardRef(y)).attrs=d,g.componentStyle=m,g.displayName=h,g.shouldForwardProp=p,g.foldedComponentIds=i?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):dm,g.styledComponentId=f,g.target=i?t.target:t,g.withComponent=function(e){var t=n.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["componentId"]),o=t&&t+"-"+(bv(e)?e:yv(mm(e)));return Cv(e,lm({},i,{attrs:d,componentId:o}),r)},Object.defineProperty(g,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=i?Sv({},t.defaultProps,e):e}}),g.toString=function(){return"."+g.styledComponentId},o&&R()(g,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),g}var xv=function(e){return function e(t,n,r){if(void 0===r&&(r=pm),!(0,N.isValidElementType)(n))return Em(1,String(n));var i=function(){return t(n,r,pv.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,lm({},r,{},i))},i.attrs=function(i){return e(t,n,lm({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(Cv,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){xv[e]=xv(e)}));var Nv=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Gm(e),Vm.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(dv(this.rules,t,n,r).join(""),""),o=this.componentId+e;n.insertRules(o,o,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&Vm.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();function Av(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=pv.apply(void 0,[t].concat(r)),a="sc-global-"+_v(JSON.stringify(o)),s=new Nv(o,a);function u(t){var n=rv(),r=iv(),i=(0,e.useContext)(kv),o=(0,e.useRef)(n.allocateGSInstance(a)).current;return(0,e.useLayoutEffect)((function(){return c(o,t,n,i,r),function(){return s.removeStyles(o,n)}}),[o,t,n,i,r]),null}function c(e,t,n,r,i){if(s.isStatic)s.renderStyles(e,wm,n,i);else{var o=lm({},t,{theme:gv(t,r,u.defaultProps)});s.renderStyles(e,o,n,i)}}return e.memo(u)}!function(){var t=function(){var t=this;this._emitSheetCSS=function(){var e=t.instance.toString(),n=Dm();return"<style "+[n&&'nonce="'+n+'"',ym+'="true"','data-styled-version="5.3.0"'].filter(Boolean).join(" ")+">"+e+"</style>"},this.getStyleTags=function(){return t.sealed?Em(2):t._emitSheetCSS()},this.getStyleElement=function(){var n;if(t.sealed)return Em(2);var r=((n={})[ym]="",n["data-styled-version"]="5.3.0",n.dangerouslySetInnerHTML={__html:t.instance.toString()},n),i=Dm();return i&&(r.nonce=i),[e.createElement("style",lm({},r,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new Vm({isServer:!0}),this.sealed=!1}.prototype;t.collectStyles=function(t){return this.sealed?Em(2):e.createElement(ov,{sheet:this.instance},t)},t.interleaveWithNodeStream=function(e){return Em(3)}}();const Pv=xv;function Rv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ov=Pv.div.withConfig({displayName:"HomePage__Wrap",componentId:"jj9173-0"})(["min-width:1200px;height:1800px;background:transparent linear-gradient(180deg,rgba(7,0,28,1) 0%,rgba(24,15,51,1) 34%,rgba(58,45,96,1) 100%) 0% 0% no-repeat padding-box;margin:0 auto;display:flex;flex-direction:column;align-items:center;padding-top:50px;@media (max-width:1199px){min-width:700px;}@media (max-width:699px) and (min-width:360px){min-width:360px;}"]);const Dv=function(){var t,n,r=(t=(0,e.useState)(null),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Rv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rv(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=r[0],o=r[1];return nm.ref("background").child("ti10_main.mp4").getDownloadURL().then((function(e){return o(e)})),e.createElement(Ov,null,e.createElement("div",null,"HP"),e.createElement("video",{src:i,autoPlay:"true",preload:"auto",loop:!0,style:{width:"100%"}}))};var Lv,Mv;function Fv(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Uv="rgb(168,73,237)",jv="rgb(34,14,49)",qv="rgb(173,173,173)",Vv="#fff",Bv="rgb(255,227,70)",zv=Av(Lv||(Lv=Fv(["\n    html, body, div, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, a, abbr, acronym, address, big, cite, code, del, dfn, em, img, ins, kbd, q, s, samp, small, strike, strong, sub, sup, tt, var, b, u, i, center, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tbody, tfoot, thead, tr, th, td, article, aside, canvas, details, embed, figure, figcaption, footer, header, hgroup, menu, nav, output, ruby, section, summary, time, mark, audio, video {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    font-size: 100%;\n    font: inherit;\n    vertical-align: baseline;\n    box-sizing: border-box;\n    }\n    address, caption, cite, code, dfn, em, strong, th, var, b {\n    font-weight: normal;\n    font-style: normal;\n    }\n    abbr, acronym {\n    border: 0;\n    }\n    article, aside, details, figcaption, figure, footer, header, hgroup, menu, nav, section {\n    display: block;\n    }\n    *,\n    *::after,\n    *::before {\n    margin: 0;\n    padding: 0;\n    box-sizing: inherit;\n    }\n    html {\n    text-size-adjust: 100%;\n    box-sizing: border-box;\n    }\n    body {\n        line-height: 1;\n    }\n    ol, ul {\n    list-style: none;\n    }\n    blockquote, q {\n    quotes: none;\n    }\n    blockquote {\n    &:before,   &:after {\n        content: '';\n        content: none;\n    }\n    }\n    q {\n    &:before,   &:after {\n        content: '';\n        content: none;\n    }\n    }\n    table {\n    border-collapse: collapse;\n    border-spacing: 0;\n    }\n    caption, th {\n    text-align: left;\n    }\n    textarea {\n    resize: none;\n    }\n    a {\n    text-decoration: none;\n    cursor: pointer;\n    }\n    button {\n    padding: 0;\n    border: none;\n    background: none;\n    cursor:pointer;\n    }\n"]))),Kv=Av(Mv||(Mv=Fv(["\n    p{\n        font-size: 16px;\n    }\n\n    background:rgb(58,45,96);\n\n  \n"]))),Wv=Pv.div.withConfig({displayName:"globalStyle__Wrap",componentId:"uaci0t-0"})(["min-width:1200px;min-height:800px;color:",";background:transparent linear-gradient(180deg,rgba(7,0,28,1) 0%,rgba(24,15,51,1) 34%,rgba(58,45,96,1) 100%) 0% 0% no-repeat padding-box;margin:0 auto;display:flex;flex-direction:column;align-items:center;padding-top:120px;@media (max-width:1199px){min-width:700px;}@media (max-width:699px) and (min-width:360px){min-width:360px;}"],qv);const Hv=n.p+"dd15e9a2a3db844cb9a95e68164aed76.png",Gv=n.p+"9e38754e177d2f691987232acf358009.png",Qv=n.p+"a14b63aad8e554286f99a14d100d9481.png",$v=n.p+"706539194031822d7b953ccb97f09764.png";var Yv=Pv.div.withConfig({displayName:"Navibar__NavibarWrap",componentId:"sc-1q2hsti-0"})(["width:100%;height:80px;display:flex;justify-content:space-between;align-items:center;background:rgb(29,12,52);color:",";padding:20px;font-size:24px;position:fixed;top:0;z-index:2;@media (max-width:900px){}@media (max-width:500px){}"],qv),Xv=(Pv.div.withConfig({displayName:"Navibar__Blur",componentId:"sc-1q2hsti-1"})(["width:100%;height:100%;background:rgba(0,0,0,0.73);"]),Pv.div.withConfig({displayName:"Navibar__LogoDiv",componentId:"sc-1q2hsti-2"})(["display:flex;align-items:center;img{width:40px;height:40px;margin-right:10px;}@media (max-width:500px){width:auto;p{display:none;}img{margin-right:0;}}"])),Jv=Pv.img.withConfig({displayName:"Navibar__MenuI",componentId:"sc-1q2hsti-3"})(["display:none;@media (max-width:800px){display:inline-block;width:30px;}"]),Zv=Pv.ul.withConfig({displayName:"Navibar__PageUL",componentId:"sc-1q2hsti-4"})(["width:400px;display:flex;justify-content:space-around;font-size:16px;li{color:","}@media (max-width:800px){display:none;}"],qv),ey=Pv.div.withConfig({displayName:"Navibar__SearchRegisterWrap",componentId:"sc-1q2hsti-5"})(["position:relative;img{width:18px;position:absolute;z-index:1;top:6px;left:8px;}@media (max-width:800px){img{left:-36px;}}@media (max-width:500px){img{display:none;}}"]),ty=Pv.input.withConfig({displayName:"Navibar__SearchInput",componentId:"sc-1q2hsti-6"})(["width:160px;height:30px;border:3px solid rgb(83,83,83);border-radius:10px;background:rgba(67,67,67,56);padding-inline-start:30px;margin-right:16px;@media (max-width:800px){display:none;}"]),ny=Pv.button.withConfig({displayName:"Navibar__Button",componentId:"sc-1q2hsti-7"})(["color:",";border:2px solid ",";border-radius:56px;padding:4px 10px;margin-right:30px;:hover{color:",";background:",";cursor:pointer;}@media (max-width:800px){margin-right:0;}"],Uv,Uv,Vv,Uv);const ry=function(t){var n=t.showLoginPopup,r=t.isSigned,i=t.user;return e.createElement(Yv,null,e.createElement(Jv,{src:$v,alt:""}),e.createElement(Xv,null,e.createElement("img",{src:Gv,alt:""}),e.createElement("p",null,"MyTI")),e.createElement(Zv,null,e.createElement(G,{to:"/"},e.createElement("li",null,"Home")),e.createElement(G,{to:"/tournaments"},e.createElement("li",null,"Tournaments")),e.createElement(G,{to:"/stream"},e.createElement("li",null,"Stream")),!0===r?e.createElement(G,{to:"/member"},e.createElement("li",null,"Member")):null),e.createElement(ey,null,e.createElement("img",{src:Qv,alt:""}),e.createElement(ty,{type:"text",placeholder:"Tournaments..."}),e.createElement(ny,{onClick:n},r?i:"Sign in")))};var iy=Pv.div.withConfig({displayName:"RegisterPopupSty__Blur",componentId:"sc-1yefic5-0"})(["display:flex;width:100%;height:1200px;background:rgba(0,0,0,0.73);position:fixed;z-index:2;"]),oy=Pv.div.attrs((function(e){return{color:e.success||qv}})).withConfig({displayName:"RegisterPopupSty__LRPopupWrap",componentId:"sc-1yefic5-1"})(["display:flex;flex-direction:column;background:",";color:",";padding:16px 32px;width:336px;border-radius:10px;position:fixed;z-index:5;top:80px;right:34%;"],jv,(function(e){return e.color})),ay=Pv.button.withConfig({displayName:"RegisterPopupSty__SignInBtn",componentId:"sc-1yefic5-2"})(["position:absolute;color:",";font-size:16px;top:30px;right:20px;"],Bv),sy=Pv.form.withConfig({displayName:"RegisterPopupSty__RegisterForm",componentId:"sc-1yefic5-3"})(["display:flex;flex-direction:column;h2{font-size:24px;color:",";margin-bottom:40px;}"],Vv),uy=Pv.label.withConfig({displayName:"RegisterPopupSty__Label",componentId:"sc-1yefic5-4"})(["color:",";margin-bottom:12px;"],Vv),cy=Pv.input.withConfig({displayName:"RegisterPopupSty__Input",componentId:"sc-1yefic5-5"})(["width:276px;height:40px;color:",";padding-inline-start:10px;margin-bottom:32px;background:rgba(0,0,0,0);border:2px solid ",";border-radius:10px;:focus{border:2px solid ",";}:hover{border:2px solid ",";}"],Vv,qv,Uv,Uv),ly=Pv.button.withConfig({displayName:"RegisterPopupSty__RegisterBtn",componentId:"sc-1yefic5-6"})(["width:276px;height:40px;font-size:16px;color:",";background:",";border-radius:10px;margin-bottom:48px;"],Vv,Uv),hy=Pv.div.withConfig({displayName:"RegisterPopupSty__SeparateDiv",componentId:"sc-1yefic5-7"})(["color:",";width:276px;display:flex;justify-content:space-around;align-items:center;margin-bottom:40px;hr{width:92px;height:1px;}"],qv),fy=Pv.button.withConfig({displayName:"RegisterPopupSty__RegisterGoogleBtn",componentId:"sc-1yefic5-8"})(["width:276px;height:40px;color:",";border:2px solid ",";border-radius:10px;"],qv,qv);function dy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return py(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?py(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function py(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const gy=function(t){var n=t.clickBlur,r=t.checkLogin,i=t.signOut,o=t.switchPopup,a=dy((0,e.useState)(""),2),s=a[0],u=a[1],c=dy((0,e.useState)(""),2),l=c[0],h=c[1],f=dy((0,e.useState)(""),2),d=f[0],p=f[1],g=dy((0,e.useState)(!1),2),m=g[0],v=g[1],y=function(e){tm.collection("member").doc(e).set({uid:e,email:l,username:s,nickname:s,user_option:{user_subscribe:!1,user_team:"",user_tour:[]}},{merge:!0}).then((function(){})).catch((function(e){return console.log(e)}))};return e.createElement(e.Fragment,null,e.createElement(iy,{onClick:n}),m?e.createElement(oy,{success:"#fff"}," ",e.createElement("p",null,"註冊並登入成功 請等待稍後跳轉")," "):e.createElement(oy,null,e.createElement(ay,{onClick:function(){return o("login")}},"Sign In"),e.createElement(sy,{onSubmit:function(e){e.preventDefault(),Y.default.auth().createUserWithEmailAndPassword(l,d).then((function(e){var t=e.user;y(t.uid),Y.default.auth().onAuthStateChanged((function(e){e&&tm.collection("member").doc(e.uid).get().then((function(t){r(e.uid,t.data().username),v(!0)}))}))})).catch((function(e){return console.log(e)}))}},e.createElement("h2",null,"Sign Up"),e.createElement(uy,{htmlFor:"username"},"Username"),e.createElement(cy,{id:"username",type:"text",onChange:function(e){return u(e.target.value)},value:s}),e.createElement(uy,{htmlFor:"email"},"Email"),e.createElement(cy,{id:"email",type:"mail",onChange:function(e){return h(e.target.value)},value:l}),e.createElement(uy,{htmlFor:"password"},"Password"),e.createElement(cy,{id:"password",type:"text",onChange:function(e){return p(e.target.value)},value:d}),e.createElement(ly,{type:"submit"},"Sign Up")),e.createElement(hy,null,e.createElement("hr",null),e.createElement("p",null,"or"),e.createElement("hr",null)),e.createElement(fy,{onClick:function(){var e=new Y.default.auth.GoogleAuthProvider;Y.default.auth().signInWithPopup(e).then((function(e){e.credential.accessToken;var t=e.user;y(t.uid)})).catch((function(e){return console.log(e)}))}},"Sign up with Google"),e.createElement("button",{onClick:function(){Y.default.auth().signOut().then((function(){console.log("登出惹"),i()}))},style:{marginTop:"20px",color:"#fff"}},"暫時登出鈕")))};var my=Pv.div.withConfig({displayName:"LoginPopupSty__Blur",componentId:"sc-7vm40z-0"})(["display:flex;width:100%;height:1200px;background:rgba(0,0,0,0.73);position:fixed;z-index:2;"]),vy=Pv.div.attrs((function(e){return{color:e.success||qv}})).withConfig({displayName:"LoginPopupSty__LRPopupWrap",componentId:"sc-7vm40z-1"})(["display:flex;flex-direction:column;background:",";color:",";padding:16px 32px;width:336px;height:519px;border-radius:10px;position:fixed;z-index:5;top:80px;right:34%;"],jv,(function(e){return e.color})),yy=Pv.button.withConfig({displayName:"LoginPopupSty__SignInBtn",componentId:"sc-7vm40z-2"})(["position:absolute;color:",";font-size:16px;top:30px;right:20px;"],Bv),_y=Pv.form.withConfig({displayName:"LoginPopupSty__LoginForm",componentId:"sc-7vm40z-3"})(["display:flex;flex-direction:column;h2{font-size:24px;color:",";margin-bottom:40px;}"],Vv),by=Pv.label.withConfig({displayName:"LoginPopupSty__Label",componentId:"sc-7vm40z-4"})(["color:",";margin-bottom:12px;"],Vv),wy=Pv.input.withConfig({displayName:"LoginPopupSty__Input",componentId:"sc-7vm40z-5"})(["width:276px;height:40px;color:",";padding-inline-start:10px;margin-bottom:32px;background:rgba(0,0,0,0);border:2px solid ",";border-radius:10px;:focus{border:2px solid ",";}:hover{border:2px solid ",";}"],Vv,qv,Uv,Uv),Ey=Pv.button.withConfig({displayName:"LoginPopupSty__LoginBtn",componentId:"sc-7vm40z-6"})(["width:276px;height:40px;font-size:16px;color:",";background:",";border-radius:10px;margin-bottom:48px;"],Vv,Uv),Iy=Pv.div.withConfig({displayName:"LoginPopupSty__SeparateDiv",componentId:"sc-7vm40z-7"})(["color:",";width:276px;display:flex;justify-content:space-around;align-items:center;margin-bottom:40px;hr{width:92px;height:1px;}"],qv),Sy=Pv.button.withConfig({displayName:"LoginPopupSty__LoginGoogleBtn",componentId:"sc-7vm40z-8"})(["width:276px;height:40px;color:",";border:2px solid ",";border-radius:10px;"],qv,qv);function ky(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ty(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ty(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ty(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Cy=function(t){var n=t.clickBlur,r=t.checkLogin,i=t.signOut,o=t.switchPopup,a=ky((0,e.useState)(""),2),s=a[0],u=a[1],c=ky((0,e.useState)(""),2),l=c[0],h=c[1],f=ky((0,e.useState)(!1),2),d=f[0],p=f[1];return e.createElement(e.Fragment,null,e.createElement(my,{onClick:n}),d?e.createElement(vy,{success:"#fff"}," ",e.createElement("p",null,"登入成功 請等待稍後跳轉")," "):e.createElement(vy,null,e.createElement(yy,{onClick:function(){return o("signup")}},"Sign up"),e.createElement(_y,{onSubmit:function(e){e.preventDefault(),Y.default.auth().signInWithEmailAndPassword(s,l).then((function(){Y.default.auth().onAuthStateChanged((function(e){e&&tm.collection("member").doc(e.uid).get().then((function(t){r(e.uid,t.data().username),p(!0)}))}))}))}},e.createElement("h2",null,"Sign In"),e.createElement(by,{htmlFor:"email"},"Email"),e.createElement(wy,{id:"email",type:"mail",onChange:function(e){return u(e.target.value)}}),e.createElement(by,{htmlFor:"password"},"Password"),e.createElement(wy,{id:"password",type:"text",onChange:function(e){return h(e.target.value)}}),e.createElement(Ey,{type:"submit"},"Sign In")),e.createElement(Iy,null,e.createElement("hr",null),e.createElement("p",null,"or"),e.createElement("hr",null)),e.createElement(Sy,null,"Sign up with Google"),e.createElement("button",{onClick:function(){Y.default.auth().signOut().then((function(){console.log("登出惹"),i()}))},style:{marginTop:"20px",color:"#fff"}},"暫時登出鈕")))},xy=n.p+"23f9f3096ed96dca2c33cd993573bdce.png";var Ny=Pv.div.withConfig({displayName:"Header__Wrap",componentId:"sc-1agpgj8-0"})(["margin-top:20px;position:relative;margin-bottom:152px;@media (max-width:1199px){width:700px;position:static;display:flex;flex-direction:column;align-items:center;margin-bottom:100px;}@media (max-width:699px){width:100%;position:static;display:flex;flex-direction:column;align-items:center;margin-bottom:30px;}"]),Ay=Pv.div.withConfig({displayName:"Header__TitleDiv",componentId:"sc-1agpgj8-1"})(["display:flex;flex-direction:column;margin:0 auto;justify-content:center;align-items:center;@media (max-width:699px) and (min-width:360px){flex-direction:row;}"]),Py=Pv.p.withConfig({displayName:"Header__P",componentId:"sc-1agpgj8-2"})(["color:rgb(173,173,173);margin-bottom:52px;font-size:20px;@media (max-width:699px) and (min-width:360px){display:none;font-size:14px;margin-right:8px;margin-bottom:0;text-align:center;}"]),Ry=Pv.img.withConfig({displayName:"Header__Logo",componentId:"sc-1agpgj8-3"})(["width:20px;margin-right:8px;"]),Oy=Pv.h1.withConfig({displayName:"Header__H1",componentId:"sc-1agpgj8-4"})(["font-size:36px;color:#fff;@media (max-width:699px) and (min-width:360px){font-size:16px;}"]),Dy=Pv.button.withConfig({displayName:"Header__TourButton",componentId:"sc-1agpgj8-5"})(["width:180px;height:48px;display:flex;justify-content:center;align-items:center;margin-right:100px;border-radius:5px;background:#FFFFFF24;color:#C7C7C7;font-size:16px;position:absolute;right:-500px;bottom:0px;@media (max-width:1199px) and (min-width:699px){width:140px;height:48px;right:-250px;bottom:0px;font-size:14px;position:static;margin-top:40px;margin-right:0;padding:8px;}@media (max-width:699px){display:none;}"]),Ly=Pv.img.withConfig({displayName:"Header__TourI",componentId:"sc-1agpgj8-6"})(["width:24px;margin-right:8px;"]);const My=function(){return e.createElement(Ny,null,e.createElement(Ay,null,e.createElement(Py,null,e.createElement(Ry,{src:Hv}),"DOTA2"),e.createElement(Oy,null,"2021 WePlay AniMajor")),e.createElement(Dy,null,e.createElement(Ly,{src:xy,alt:""}),e.createElement("p",null,"Tournaments")))},Fy=n.p+"a3ad119649659226061f77512b7502fc.png",Uy=n.p+"59241c1384681d36f8ca0272cce806e7.png";var jy=Pv.div.withConfig({displayName:"BattleSty__Wrap",componentId:"sc-14s57yu-0"})(["width:100%;color:#fff;margin-bottom:152px;font-size:24px;position:relative;@media (max-width:1199px) and{min-width:700px;margin-bottom:150px;}@media (max-width:700px) and (min-width:360px){margin-bottom:30px;}"]),qy=Pv.div.withConfig({displayName:"BattleSty__BattleDiv",componentId:"sc-14s57yu-1"})(["display:flex;width:100%;margin:0 auto;margin-bottom:50px;justify-content:space-around;align-items:center;margin-bottom:100px;background:#A849ED19;padding:20px 10%;@media (max-width:1199px){}@media (max-width:700px) and (min-width:360px){width:98%;margin-bottom:20px;}"]),Vy=Pv.div.withConfig({displayName:"BattleSty__BattleBG",componentId:"sc-14s57yu-2"})([""]),By=Pv.div.withConfig({displayName:"BattleSty__TeamDiv",componentId:"sc-14s57yu-3"})(["width:240px;height:300px;background:",";display:flex;flex-direction:column;align-items:center;padding:20px;h3{color:","}@media (max-width:1199px) and (min-width:700px){width:200px;}@media (max-width:699px) and (min-width:360px){width:100px;height:60px;padding:8px;text-align:center;justify-content:center;flex-flow:row wrap;h3{font-size:14px;}}"],(function(e){return"team_1"===e.team?"#0027FF22":"#BC459334"}),qv),zy=Pv.div.withConfig({displayName:"BattleSty__TeamLogoDiv",componentId:"sc-14s57yu-4"})(["height:198px;line-height:198px;@media (max-width:699px) and (min-width:360px){display:none;height:auto;line-height:0;}"]),Ky=Pv.img.withConfig({displayName:"BattleSty__TeamLogo",componentId:"sc-14s57yu-5"})(["width:150px;vertical-align:middle;object-fit:contain;@media (max-width:699px) and (min-width:360px){width:20px;}"]),Wy=Pv.div.withConfig({displayName:"BattleSty__IntroDiv",componentId:"sc-14s57yu-6"})(["width:200px;@media (max-width:699px) and (min-width:360px){width:92px;height:44px;}"]),Hy=Pv.ul.withConfig({displayName:"BattleSty__IntroUl",componentId:"sc-14s57yu-7"})(["color:rgba(173,173,173,1);display:flex;flex-direction:column;align-items:center;height:300px;justify-content:flex-end;li{margin-bottom:28px;}.live{width:80px;color:yellow;border:1px solid yellow;border-radius:5px;padding:8px;display:flex;font-size:16px;}.live:before{content:'';display:'inline-block';width:15px;border-radius:7.5px;background-color:red;margin-right:8px;}@media (max-width:699px) and (min-width:360px){width:100%;justify-content:flex-start;height:100%;li{font-size:10px;margin-bottom:8px;}li:last-child{display:none;}}"]),Gy=Pv.button.withConfig({displayName:"BattleSty__VoteBtn",componentId:"sc-14s57yu-8"})(["width:80px;padding:4px 8px;color:",";border:1px solid ",";border-radius:16px;cursor:pointer;:hover{color:#fff;background:",";border:1px solid ",";transform:scale(1.2);}@media (max-width:699px) and (min-width:360px){width:60px;height:20px;font-size:8px;}"],(function(e){return"team_1"===e.team?"#2445FF":"#BC4593"}),(function(e){return"team_1"===e.team?"#2445FF":"#BC4593"}),(function(e){return"team_1"===e.team?"#2445FF":"#BC4593"}),(function(e){return"team_1"===e.team?"#2445FF":"#BC4593"})),Qy=Pv.div.withConfig({displayName:"BattleSty__RateDiv",componentId:"sc-14s57yu-9"})(["width:960px;margin:0 auto;display:flex;flex-direction:column;align-items:center;color:rgba(173,173,173,1);p{font-size:20px;margin-bottom:16px}@media (max-width:1199px){width:600px;}@media (max-width:699px){width:98%;p{font-size:14px;}}"]),$y=Pv.div.withConfig({displayName:"BattleSty__VoteRateDiv",componentId:"sc-14s57yu-10"})(["width:600px;height:30px;position:relative;@media (max-width:699px){width:100%;height:20px}"]),Yy=Pv.span.withConfig({displayName:"BattleSty__VoteRateT1",componentId:"sc-14s57yu-11"})(["font-size:20px;padding:5px;width:",";background:rgb(0,39,255);position:absolute;text-align:right;left:0;border-radius:16px 0 0 16px;@media (max-width:699px){font-size:12px;}"],(function(e){return e.rate})),Xy=Pv.span.withConfig({displayName:"BattleSty__VoteRateT2",componentId:"sc-14s57yu-12"})(["font-size:20px;padding:5px 10px;width:",";background:rgb(188,69,147);position:absolute;text-align:left;right:0;border-radius:0 16px 16px 0;@media (max-width:699px){font-size:12px;}"],(function(e){return e.rate}));function Jy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Zy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zy(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const e_=function(t){var n=t.isSigned,r=(t.user,Jy((0,e.useState)({rate:"50%",count:0}),2)),i=r[0],o=r[1],a=Jy((0,e.useState)({rate:"50%",count:0}),2),s=a[0],u=a[1],c=function(){tm.collection("live_game").doc("WePlay_0614_PSGLGD").get().then((function(e){var t=e.data().fans_rate.team_1_count,n=e.data().fans_rate.team_2_count;if(t&&n){var r=Math.round(t/(t+n)*1e4)/100,i=Math.round(100*(100-r))/100;o({rate:r+"%",count:t}),u({rate:i+"%",count:n})}}))};return(0,e.useEffect)((function(){c();var e=tm.collection("live_game").where("title_en","==","WePlay AniMajor").onSnapshot((function(e){e.docChanges().forEach((function(e){"modified"===e.type&&c()}))}));return function(){e()}}),[]),e.createElement(jy,null,e.createElement(Vy,null),e.createElement(qy,null,e.createElement(By,{team:"team_1"},e.createElement("h3",null,"PSG.LGD"),e.createElement(zy,null,e.createElement(Ky,{src:Fy,alt:""})),!1===n?e.createElement(Gy,{disabled:!0},"Sign in first"):e.createElement(Gy,{onClick:function(e){e.preventDefault(),tm.collection("live_game").doc("WePlay_0614_PSGLGD").update({"fans_rate.team_1_count":i.count+1})},team:"team_1"},"Voting !")),e.createElement(Wy,null,e.createElement(Hy,null,e.createElement("li",null,"BO3"),e.createElement("li",null,"2020-09-09"),e.createElement("li",null,"19:00"),e.createElement("li",{className:"live"},"LIVE"))),e.createElement(By,{team:"team_2"},e.createElement("h3",null,"ELEPHANT"),e.createElement(zy,null,e.createElement(Ky,{src:Uy,alt:""})),!1===n?e.createElement(Gy,{disabled:!0},"Sign in first"):e.createElement(Gy,{onClick:function(e){e.preventDefault(),tm.collection("live_game").doc("WePlay_0614_PSGLGD").update({"fans_rate.team_2_count":s.count+1})},team:"team_2"},"Voting !"))),e.createElement(Qy,null,e.createElement("p",null,"Fans Vote"),e.createElement($y,null,e.createElement(Yy,{rate:i.rate},i.rate),e.createElement(Xy,{rate:s.rate},s.rate))))},t_=n.p+"7887775e0fe2524b8b3abf3f875ce0a0.png",n_=n.p+"53237d8409b98000a805a2eae11cc9e5.png",r_=n.p+"121a83d00daab3085474fd7556e2da1d.png";var i_=Pv.div.withConfig({displayName:"LiveChatSty__LiveChatWrap",componentId:"g1clu4-0"})(["display:flex;flex-direction:column;min-width:100%;justify-content:space-around;color:#fff;@media (max-width:1199px){height:auto;}@media (max-width:699px) and (min-width:360px){margin-bottom:20px;}"]),o_=Pv.div.withConfig({displayName:"LiveChatSty__StreamSelectDiv",componentId:"g1clu4-1"})([":first-child{margin-left:100px;}.block{color:#fff;background:",";transform:none;}@media (max-width:699px){:first-child{margin-left:30%;}}"],Uv),a_=Pv.button.withConfig({displayName:"LiveChatSty__StreamSelectBtn",componentId:"g1clu4-2"})(["width:120px;height:48px;font-size:16px;margin-bottom:20px;margin-right:20px;border:1px solid ",";border-radius:5px;color:",";cursor:pointer;:hover{transform:scale(1.1);}:focus{color:#fff;background:",";transform:none;}@media (max-width:699px){width:60px;height:36px;font-size:12px;}"],Uv,Uv,Uv),s_=Pv.div.withConfig({displayName:"LiveChatSty__StreamChatWrap",componentId:"g1clu4-3"})(["display:flex;justify-content:space-around;@media (max-width:1199px){flex-direction:column;align-items:center;}@media (max-width:699px) and (min-width:360px){width:98%;}"]),u_=Pv.div.withConfig({displayName:"LiveChatSty__StreamDiv",componentId:"g1clu4-4"})(["width:800px;height:468px;border:1px solid ",";@media (max-width:1199px) and (min-width:700px){width:680px;height:360px;margin-bottom:20px;}@media (max-width:699px) and (min-width:360px){width:90%;height:240px;margin-bottom:20px;}"],Uv),c_=(Pv.iframe.withConfig({displayName:"LiveChatSty__Iframe",componentId:"g1clu4-5"})([""]),Pv.div.withConfig({displayName:"LiveChatSty__ChatDiv",componentId:"g1clu4-6"})(["width:380px;height:468px;@media (max-width:699px){width:90%;}"])),l_=Pv.div.withConfig({displayName:"LiveChatSty__ChatTitle",componentId:"g1clu4-7"})(["position:relative;background:#5c2088;height:40px;text-align:center;vertical-align:middle;line-height:40px;color:",";font-size:18px;@media (max-width:699px){font-size:14px;}"],qv),h_=Pv.img.withConfig({displayName:"LiveChatSty__MiniI",componentId:"g1clu4-8"})(["width:20px;height:20px;position:absolute;top:10px;right:16px;:hover{background:#fff;}@media (max-width:699px){width:16px;height:16px;}"]),f_=Pv.div.withConfig({displayName:"LiveChatSty__ChatSpace",componentId:"g1clu4-9"})(["background:rgb(38,4,64);height:320px;border:4px solid #5C2088;border-top:none;padding:8px 20px;overflow:scroll;overflow-x:hidden;word-wrap:normal;display:",";-webkit-scrollbar-thumb{-webkit-box-shadow:inset 0 0 6px ","}"],(function(e){return e.hide}),Uv),d_=Pv.form.withConfig({displayName:"LiveChatSty__ChatType",componentId:"g1clu4-10"})(["display:",";padding:8px 16px;border:4px solid #5C2088;border-top:none;p{margin-bottom:8px;};img{width:20px;}"],(function(e){return e.hide})),p_=Pv.li.withConfig({displayName:"LiveChatSty__Li",componentId:"g1clu4-11"})(["color:",";margin-bottom:8px;line-height:1.3em;@media (max-width:699px){font-size:12px;}"],qv),g_=Pv.div.withConfig({displayName:"LiveChatSty__LeftDiv",componentId:"g1clu4-12"})(["margin-right:24px;"]),m_=Pv.input.withConfig({displayName:"LiveChatSty__ChatInput",componentId:"g1clu4-13"})(["width:300px;height:30px;outline:0;border-width:0 0 2px;background:rgba(1,1,1,0);color:#fff;margin-bottom:8px;:focus{border:1px solid #A849ED;}"]),v_=Pv.p.withConfig({displayName:"LiveChatSty__LimitP",componentId:"g1clu4-14"})(["font-size:8px;color:",";"],(function(e){return e.color||qv})),y_=Pv.button.withConfig({displayName:"LiveChatSty__SendBtn",componentId:"g1clu4-15"})(["img{}"]),__=Pv.img.withConfig({displayName:"LiveChatSty__SendImg",componentId:"g1clu4-16"})(["opacity:",""],(function(e){return e.disabled?"0.2":"1"}));function b_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||w_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w_(e,t){if(e){if("string"==typeof e)return E_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E_(e,t):void 0}}function E_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I_="chat_room/WePlay_0614_PSGLGD/messages";const S_=function(t){var n=t.isSigned,r=t.user,i=b_((0,e.useState)([]),2),o=i[0],a=i[1],s=b_((0,e.useState)({text:"",username:r,key:"",team:n_,timestamp:0}),2),u=s[0],c=s[1],l=b_((0,e.useState)(""),2),h=l[0],f=l[1],d=b_((0,e.useState)(!0),2),p=d[0],g=d[1],m=b_((0,e.useState)("flex"),2),v=m[0],y=m[1],_=b_((0,e.useState)({youtube:"none",twitch:"block",huya:"none"}),2),b=_[0],w=_[1],E=function(){var e=[];tm.collection(I_).orderBy("timestamp","asc").get().then((function(t){t.forEach((function(t){t.data().text&&e.push({username:t.data().username,text:t.data().text,key:t.data().timestamp,team:t.data().user_team})})),a(e)}))};return(0,e.useEffect)((function(){E();var e=tm.collection(I_).onSnapshot((function(e){e.docChanges().forEach((function(e){"added"===e.type&&E()}))}));return function(){e()}}),[]),e.createElement(i_,null,e.createElement(o_,{onClick:function(e){return function(e){switch(e.target.id){case"twitch":w({youtube:"none",twitch:"block",huya:"none"});break;case"huya":w({youtube:"none",twitch:"none",huya:"block"});break;case"youtube":w({youtube:"block",twitch:"none",huya:"none"})}}(e)}},e.createElement(a_,{id:"twitch",className:b.twitch,selected:b.twitch},"English"),e.createElement(a_,{id:"huya",className:b.huya,selected:b.huya},"Chinese")),e.createElement(s_,null,e.createElement(u_,null,e.createElement("iframe",{style:{display:"".concat(b.twitch)},frameborder:"0",allow:"fullscreen",scrolling:"no",width:"100%",height:"100%",src:"https://player.twitch.tv/?channel=beyondthesummit&parent=localhost&autoplay=false"})),e.createElement(c_,null,e.createElement(l_,null,e.createElement("p",null,"Chat Room"),e.createElement(h_,{src:r_,alt:"minimize",onClick:function(){y("flex"===v?"none":"flex")}})),e.createElement(f_,{id:"showMessage",hide:v},e.createElement("ul",null,o?o.map((function(t){return e.createElement(p_,{key:t.key},e.createElement("img",{src:t.team,alt:""}),t.username,"：",t.text,t.team)})):e.createElement("li",null,"還沒有人發言呢！趕緊成為第一個留言者！"))),e.createElement(d_,{onSubmit:function(e){if(e.preventDefault(),!u.text)return alert("空白個屁");tm.collection("chat_room/WePlay_0614_PSGLGD/messages").add(u).then((function(){chat_input.value="";var e,t=[].concat(function(e){if(Array.isArray(e))return E_(e)}(e=o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||w_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[u]);a(t),c({text:"",username:r,key:"",team:"",timestamp:""})})).catch((function(e){return console.error(e)}))},hide:v},e.createElement(g_,null,e.createElement("p",{id:"chat_user"},r),!1===n?e.createElement(m_,{placeholder:"Please sign in to chat.",style:{cursor:"not-allowed"},disabled:!0}):e.createElement(m_,{id:"chat_input",onChange:function(e){return function(e){e.target.value.length>100?f(fontWaring):(f(""),c({username:r,text:e.target.value,key:r+Date.now(),team:"",timestamp:parseInt(Date.now())}),g(!1))}(e)},value:u.text,type:"text",placeholder:"Write a message..."}),e.createElement(v_,{color:h},"( limit 100 words )")),e.createElement(y_,{type:"submit"},e.createElement(__,{id:"send_btn",disabled:p,src:t_,alt:"send"}))))))};var k_=Pv.div.withConfig({displayName:"LiveGame__Wrap",componentId:"sc-6yaba3-0"})(["min-width:1200px;background:transparent linear-gradient(180deg,rgba(7,0,28,1) 0%,rgba(24,15,51,1) 34%,rgba(58,45,96,1) 100%) 0% 0% no-repeat padding-box;margin:0 auto;display:flex;flex-direction:column;align-items:center;padding-top:120px;@media (max-width:1199px){min-width:700px;}@media (max-width:699px) and (min-width:360px){min-width:360px;}"]);const T_=function(t){var n=t.isSigned,r=t.user;return e.createElement(k_,null,e.createElement(My,{isSigned:n,user:r}),e.createElement(e_,{isSigned:n,user:r}),e.createElement(S_,{isSigned:n,user:r}))};var C_=Pv.div.withConfig({displayName:"AllTournaments__Wrap",componentId:"sc-11erfgo-0"})(["min-width:1200px;height:1800px;background:transparent linear-gradient(180deg,rgba(7,0,28,1) 0%,rgba(24,15,51,1) 34%,rgba(58,45,96,1) 100%) 0% 0% no-repeat padding-box;margin:0 auto;display:flex;flex-direction:column;align-items:center;padding-top:120px;@media (max-width:1199px){min-width:700px;}@media (max-width:699px) and (min-width:360px){min-width:360px;}"]),x_=Pv.ul.withConfig({displayName:"AllTournaments__StateUL",componentId:"sc-11erfgo-1"})(["display:flex;flex-direction:column;justify-content:space-around;color:",";position:absolute;top:20%;left:8%;width:160px;height:320px;.pick{color:",";font-size:24px;}.pick:before{content:'';display:inline-block;width:24px;border-radius:12px;background-color:",";margin-right:20px;height:24px;}.noPick{font-size:22px;}.noPick:before{content:'';display:inline-block;width:18px;border-radius:8px;background-color:",";margin-right:20px;height:18px;}"],qv,Bv,Bv,qv),N_=Pv.li.withConfig({displayName:"AllTournaments__StateLi",componentId:"sc-11erfgo-2"})([""]),A_=Pv.div.withConfig({displayName:"AllTournaments__OngoingWrap",componentId:"sc-11erfgo-3"})(["margin-top:20px;"]),P_=Pv.h2.withConfig({displayName:"AllTournaments__H2",componentId:"sc-11erfgo-4"})(["font-size:24px;font-weight:bold;color:",";margin-bottom:20px;margin-left:14%;:before{content:' 1';color:",";display:inline;width:8px;background-color:",";margin-right:20px;}"],Vv,Uv,Uv),R_=Pv.div.withConfig({displayName:"AllTournaments__OngoingBoardDiv",componentId:"sc-11erfgo-5"})(["width:928px;height:430px;background:rgb(43,51,96);border:2px solid rgb(168,73,237);border-radius:8px;margin-top:10px;margin-left:14%;"]),O_=Pv.div.withConfig({displayName:"AllTournaments__TitleDiv",componentId:"sc-11erfgo-6"})(["height:60px;background:rgb(70,75,134);border-bottom:2px solid rgb(168,73,237);border-radius:8px 8px 0 0;color:#fff;padding:8px 16px;ul:first-child{height:100%;display:flex;text-align:center;justify-content:space-evenly;align-items:center;}"]),D_=Pv.ul.withConfig({displayName:"AllTournaments__TourListUL",componentId:"sc-11erfgo-7"})(["display:flex;flex-direction:column;color:#fff;"]),L_=Pv.li.withConfig({displayName:"AllTournaments__TourLi",componentId:"sc-11erfgo-8"})(["display:flex;flex-direction:row;height:64px;padding:8px 16px;justify-content:space-evenly;align-items:center;text-align:center;div img{width:30px;}div:nth-child(1){width:",";}span:nth-child(2){width:",";}div:nth-child(3){width:",";}span:nth-child(4){width:",";line-height:1.2em;}span:nth-child(5){width:",";}div:nth-child(6){width:",";}"],"9%","25%","18%","40%","18%","10%");const M_=function(){return console.log(123),e.createElement(C_,null,e.createElement(x_,null,e.createElement(N_,{className:"pick"},"Ongoing"),e.createElement(N_,{className:"noPick"},"Upcoming"),e.createElement(N_,{className:"noPick"},"Finish")),e.createElement(A_,null,e.createElement(P_,null,"Ongoing"),e.createElement(R_,null,e.createElement(O_,null,e.createElement("ul",null,e.createElement("li",{style:{width:"9%"}},"mark"),e.createElement("li",{style:{width:"25%"}},"Date"),e.createElement("li",{style:{width:"18%"}},"logo"),e.createElement("li",{style:{width:"40%"}},"Tournament"),e.createElement("li",{style:{width:"18%"}},"Location"),e.createElement("li",{style:{width:"10%"}},"Info"))),e.createElement(D_,null,e.createElement(L_,null,e.createElement("div",null,e.createElement("img",{src:xy,alt:""})),e.createElement("span",null,"2020.03.15-03.20"),e.createElement("div",null,e.createElement("img",{src:xy,alt:""})),e.createElement("span",null,"ESLOne洛杉磯Major"),e.createElement("span",null,"美國洛杉磯"),e.createElement("div",null,e.createElement("img",{src:xy,alt:""}))),e.createElement(L_,null,e.createElement("div",null,e.createElement("img",{src:xy,alt:""})),e.createElement("span",null,"2020.03.15-03.20"),e.createElement("div",null,e.createElement("img",{src:xy,alt:""})),e.createElement("span",null,"Dota Pro Circuit 2021: Season 2 - China Upper Division"),e.createElement("span",null,"美國洛杉磯"),e.createElement("div",null,e.createElement("img",{src:xy,alt:""}))),e.createElement(L_,null,e.createElement("div",null,e.createElement("img",{src:xy,alt:""})),e.createElement("span",null,"2020.03.15-03.20"),e.createElement("div",null,e.createElement("img",{src:xy,alt:""})),e.createElement("span",null,"ESLOne洛杉磯Major"),e.createElement("span",null,"美國洛杉磯"),e.createElement("div",null,e.createElement("img",{src:xy,alt:""})))))))};var F_;n(446),(F_=fp).prototype.loadBundle=function(e){return function(e,t){var n=Yf(e=Lf(e,$f)),r=new Qf;return function(e,t,n,r){var i=this,o=function(e,t){return function(e,t){return new of(e,t)}(function(e,t){if(e instanceof Uint8Array)return nf(e,t);if(e instanceof ArrayBuffer)return nf(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,yl(t));e.asyncQueue.enqueueAndForget((function(){return(0,di.__awaiter)(i,void 0,void 0,(function(){var t;return(0,di.__generator)(this,(function(n){switch(n.label){case 0:return t=Xh,[4,mf(e)];case 1:return t.apply(void 0,[n.sent(),o,r]),[2]}}))}))}))}(n,e._databaseId,t,r),r}(this._delegate,e)},F_.prototype.namedQuery=function(e){var t,n,r=this;return(t=this._delegate,n=e,function(e,t){var n=this;return e.asyncQueue.enqueue((function(){return(0,di.__awaiter)(n,void 0,void 0,(function(){var n;return(0,di.__generator)(this,(function(r){switch(r.label){case 0:return n=function(e,t){var n=ki(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Qe.getNamedQuery(e,t)}))},[4,pf(e)];case 1:return[2,n.apply(void 0,[r.sent(),t])]}}))}))}))}(Yf(t=Lf(t,$f)),n).then((function(e){return e?new qf(t,null,e.query):null}))).then((function(e){return e?new Ip(r,e):null}))};var U_={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},j_=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return(0,di.__extends)(t,e),t}(Error),q_=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}return e.prototype.getAuthToken=function(){return(0,di.__awaiter)(this,void 0,void 0,(function(){var e;return(0,di.__generator)(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getInstanceIdToken=function(){return(0,di.__awaiter)(this,void 0,void 0,(function(){return(0,di.__generator)(this,(function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getContext=function(){return(0,di.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,di.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},e}();function V_(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var B_=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"==typeof e||"object"==typeof e)return V_(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"==typeof e||"object"==typeof e?V_(e,(function(e){return t.decode(e)})):e},e}(),z_=function(){function e(e,t,n,r,i,o){var a=this;void 0===i&&(i="us-central1"),this.app_=e,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new B_,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new q_(t,n),this.cancelAllRequests=new Promise((function(e){a.deleteService=function(){return e()}}));try{var s=new URL(i);this.customDomain=s.origin,this.region="us-central1"}catch(e){this.customDomain=null,this.region=i}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return(0,di.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,di.__generator)(this,(function(a){switch(a.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=a.sent())&&(n["X-Firebase-AppCheck"]=r),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 3:return i=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,i.json()];case 7:return o=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}}))}))},e.prototype.getAppCheckToken=function(){return(0,di.__awaiter)(this,void 0,void 0,(function(){var e;return(0,di.__generator)(this,(function(t){switch(t.label){case 0:return(e=this.appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype.call=function(e,t,n){return(0,di.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f,d;return(0,di.__generator)(this,(function(p){switch(p.label){case 0:return r=this._url(e),t=this.serializer.encode(t),i={data:t},o={},[4,this.contextProvider.getContext()];case 1:return(a=p.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,u=function(e){var t,n=new Promise((function(n,r){t=setTimeout((function(){r(new j_("deadline-exceeded","deadline-exceeded"))}),e)}));return{timer:t,promise:n}}(s),c=u.timer,l=u.promise,[4,Promise.race([K_(c,this.postJSON(r,i,o)),l,K_(c,this.cancelAllRequests)])];case 2:if(!(h=p.sent()))throw new j_("cancelled","Firebase Functions instance was deleted.");if(f=function(e,t,n){var r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,o=void 0;try{var a=t&&t.error;if(a){var s=a.status;if("string"==typeof s){if(!U_[s])return new j_("internal","internal");r=U_[s],i=s}var u=a.message;"string"==typeof u&&(i=u),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(e){}return"ok"===r?null:new j_(r,i,o)}(h.status,h.json,this.serializer))throw f;if(!h.json)throw new j_("internal","Response is not valid JSON object.");if(void 0===(d=h.json.data)&&(d=h.json.result),void 0===d)throw new j_("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}}))}))},e}();function K_(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n;return(0,di.__generator)(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}!function(e,t){var n={Functions:z_};e.INTERNAL.registerComponent(new Pp.Component("functions",(function(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal"),s=e.getProvider("messaging");return new z_(i,o,s,a,r,t)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(Y.default,fetch.bind(self)),Y.default.registerVersion("@firebase/functions","0.6.12");var W_,H_=n(676),G_="w:0.4.29",Q_=((W_={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',W_["not-registered"]="Firebase Installation is not registered.",W_["installation-not-found"]="Firebase Installation not found.",W_["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',W_["app-offline"]="Could not process request. Application offline.",W_["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",W_),$_=new J.ErrorFactory("installations","Installations",Q_);function Y_(e){return e instanceof J.FirebaseError&&e.code.includes("request-failed")}function X_(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function J_(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function Z_(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,di.__generator)(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,$_.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function eb(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function tb(e,t){var n=t.refreshToken,r=eb(e);return r.append("Authorization",function(e){return"FIS_v2 "+e}(n)),r}function nb(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){var t;return(0,di.__generator)(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function rb(e,t){var n=t.fid;return(0,di.__awaiter)(this,void 0,void 0,(function(){var t,r,i,o,a,s;return(0,di.__generator)(this,(function(u){switch(u.label){case 0:return t=X_(e),r=eb(e),i={fid:n,authVersion:"FIS_v2",appId:e.appId,sdkVersion:G_},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,nb((function(){return fetch(t,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return[2,{fid:(s=u.sent()).fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:J_(s.authToken)}];case 3:return[4,Z_("Create Installation",a)];case 4:throw u.sent()}}))}))}function ib(e){return new Promise((function(t){setTimeout(t,e)}))}var ob=/^[cdef][\w-]{21}$/;function ab(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,(0,di.__spreadArray)([],(0,di.__read)(t)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return ob.test(t)?t:""}catch(e){return""}}function sb(e){return e.appName+"!"+e.appId}var ub=new Map;function cb(e,t){var n=sb(e);lb(n,t),function(e,t){var n=fb();n&&n.postMessage({key:e,fid:t}),db()}(n,t)}function lb(e,t){var n,r,i=ub.get(e);if(i)try{for(var o=(0,di.__values)(i),a=o.next();!a.done;a=o.next())(0,a.value)(t)}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var hb=null;function fb(){return!hb&&"BroadcastChannel"in self&&((hb=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){lb(e.data.key,e.data.fid)}),hb}function db(){0===ub.size&&hb&&(hb.close(),hb=null)}var pb,gb="firebase-installations-store",mb=null;function vb(){return mb||(mb=(0,H_.openDb)("firebase-installations-database",1,(function(e){switch(e.oldVersion){case 0:e.createObjectStore(gb)}}))),mb}function yb(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,di.__generator)(this,(function(s){switch(s.label){case 0:return n=sb(e),[4,vb()];case 1:return r=s.sent(),i=r.transaction(gb,"readwrite"),[4,(o=i.objectStore(gb)).get(n)];case 2:return a=s.sent(),[4,o.put(t,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===t.fid||cb(e,t.fid),[2,t]}}))}))}function _b(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,di.__generator)(this,(function(i){switch(i.label){case 0:return t=sb(e),[4,vb()];case 1:return n=i.sent(),[4,(r=n.transaction(gb,"readwrite")).objectStore(gb).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function bb(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,di.__generator)(this,(function(u){switch(u.label){case 0:return n=sb(e),[4,vb()];case 1:return r=u.sent(),i=r.transaction(gb,"readwrite"),[4,(o=i.objectStore(gb)).get(n)];case 2:return a=u.sent(),void 0!==(s=t(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||cb(e,s.fid),[2,s]}}))}))}function wb(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,di.__generator)(this,(function(i){switch(i.label){case 0:return[4,bb(e,(function(n){var r=function(e){return Sb(e||{fid:ab(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject($_.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,di.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,rb(e,t)];case 1:return n=i.sent(),[2,yb(e,n)];case 2:return Y_(r=i.sent())&&409===r.customData.serverCode?[4,_b(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,yb(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Eb(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function Eb(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return(0,di.__generator)(this,(function(o){switch(o.label){case 0:return[4,Ib(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,ib(100)];case 3:return o.sent(),[4,Ib(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,wb(e)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}}))}))}function Ib(e){return bb(e,(function(e){if(!e)throw $_.create("installation-not-found");return Sb(e)}))}function Sb(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function kb(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return(0,di.__awaiter)(this,void 0,void 0,(function(){var e,i,o,a,s,u;return(0,di.__generator)(this,(function(c){switch(c.label){case 0:return e=function(e,t){var n=t.fid;return X_(e)+"/"+n+"/authTokens:generate"}(n,t),i=tb(n,t),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:G_}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,nb((function(){return fetch(e,s)}))];case 1:return(u=c.sent()).ok?[4,u.json()]:[3,3];case 2:return[2,J_(c.sent())];case 3:return[4,Z_("Generate Auth Token",u)];case 4:throw c.sent()}}))}))}function Tb(e,t){return void 0===t&&(t=!1),(0,di.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,di.__generator)(this,(function(o){switch(o.label){case 0:return[4,bb(e.appConfig,(function(r){if(!xb(r))throw $_.create("not-registered");var i,o=r.authToken;if(!t&&(2===(i=o).requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(i)))return r;if(1===o.requestStatus)return n=function(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,di.__generator)(this,(function(i){switch(i.label){case 0:return[4,Cb(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,ib(100)];case 3:return i.sent(),[4,Cb(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,Tb(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw $_.create("app-offline");var a=function(e){var t={requestStatus:1,requestTime:Date.now()};return(0,di.__assign)((0,di.__assign)({},e),{authToken:t})}(r);return n=function(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,di.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,kb(e,t)];case 1:return n=o.sent(),i=(0,di.__assign)((0,di.__assign)({},t),{authToken:n}),[4,yb(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!Y_(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,_b(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=(0,di.__assign)((0,di.__assign)({},t),{authToken:{requestStatus:0}}),[4,yb(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,a),a}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function Cb(e){return bb(e,(function(e){if(!xb(e))throw $_.create("not-registered");var t;return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?(0,di.__assign)((0,di.__assign)({},e),{authToken:{requestStatus:0}}):e}))}function xb(e){return void 0!==e&&2===e.registrationStatus}function Nb(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){var t;return(0,di.__generator)(this,(function(n){switch(n.label){case 0:return[4,wb(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function Ab(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return(0,di.__generator)(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return X_(e)+"/"+n}(e,t),r=tb(e,t),i={method:"DELETE",headers:r},[4,nb((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,Z_("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function Pb(e){return $_.create("missing-app-config-values",{valueName:e})}!function(e){e.INTERNAL.registerComponent(new Pp.Component("installations",(function(e){var t=e.getProvider("app").getImmediate(),n={appConfig:function(e){var t,n;if(!e||!e.options)throw Pb("App Configuration");if(!e.name)throw Pb("App Name");try{for(var r=(0,di.__values)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw Pb(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:e.getProvider("platform-logger")};return{app:t,getId:function(){return function(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,di.__generator)(this,(function(i){switch(i.label){case 0:return[4,wb(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):Tb(e).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),(0,di.__awaiter)(this,void 0,void 0,(function(){return(0,di.__generator)(this,(function(n){switch(n.label){case 0:return[4,Nb(e.appConfig)];case 1:return n.sent(),[4,Tb(e,t)];case 2:return[2,n.sent().token]}}))}))}(n,e)},delete:function(){return function(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,di.__generator)(this,(function(r){switch(r.label){case 0:return[4,bb(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw $_.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw $_.create("app-offline");case 3:return[4,Ab(t,n)];case 4:return r.sent(),[4,_b(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(e){return function(e,t){var n=e.appConfig;return function(e,t){fb();var n=sb(e),r=ub.get(n);r||(r=new Set,ub.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=sb(e),r=ub.get(n);r&&(r.delete(t),0===r.size&&ub.delete(n),db())}(n,t)}}(n,e)}}}),"PUBLIC")),e.registerVersion("@firebase/installations","0.4.29")}(Y.default);var Rb,Ob=((pb={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',pb["only-available-in-window"]="This method is available in a Window context.",pb["only-available-in-sw"]="This method is available in a service worker context.",pb["permission-default"]="The notification permission was not granted and dismissed instead.",pb["permission-blocked"]="The notification permission was not granted and blocked instead.",pb["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",pb["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",pb["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",pb["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",pb["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",pb["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",pb["token-update-no-token"]="FCM returned no token when updating the user to push.",pb["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",pb["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",pb["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",pb["invalid-vapid-key"]="The public VAPID key must be a string.",pb["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",pb),Db=new J.ErrorFactory("messaging","Messaging",Ob),Lb="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";function Mb(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,(0,di.__spreadArray)([],(0,di.__read)(t)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Fb(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(Rb||(Rb={}));var Ub="fcm_token_details_db",jb="fcm_token_object_Store";function qb(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,di.__generator)(this,(function(r){switch(r.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!r.sent().map((function(e){return e.name})).includes(Ub))return[2,null];r.label=2;case 2:return t=null,[4,(0,H_.openDb)(Ub,5,(function(r){return(0,di.__awaiter)(n,void 0,void 0,(function(){var n,i,o,a;return(0,di.__generator)(this,(function(s){switch(s.label){case 0:return r.oldVersion<2?[2]:r.objectStoreNames.contains(jb)?[4,(n=r.transaction.objectStore(jb)).index("fcmSenderId").get(e)]:[2];case 1:return i=s.sent(),[4,n.clear()];case 2:if(s.sent(),!i)return[2];if(2===r.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];t={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:Mb(o.vapidKey)}}}else(3===r.oldVersion||4===r.oldVersion)&&(t={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:Mb(o.auth),p256dh:Mb(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:Mb(o.vapidKey)}});return[2]}}))}))}))];case 3:return r.sent().close(),[4,(0,H_.deleteDb)(Ub)];case 4:return r.sent(),[4,(0,H_.deleteDb)("fcm_vapid_details_db")];case 5:return r.sent(),[4,(0,H_.deleteDb)("undefined")];case 6:return r.sent(),[2,Vb(t)?t:null]}}))}))}function Vb(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}var Bb="firebase-messaging-store",zb=null;function Kb(){return zb||(zb=(0,H_.openDb)("firebase-messaging-database",1,(function(e){switch(e.oldVersion){case 0:e.createObjectStore(Bb)}}))),zb}function Wb(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,di.__generator)(this,(function(i){switch(i.label){case 0:return t=Qb(e),[4,Kb()];case 1:return[4,i.sent().transaction(Bb).objectStore(Bb).get(t)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,qb(e.appConfig.senderId)];case 4:return(r=i.sent())?[4,Hb(e,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function Hb(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,di.__generator)(this,(function(o){switch(o.label){case 0:return n=Qb(e),[4,Kb()];case 1:return r=o.sent(),[4,(i=r.transaction(Bb,"readwrite")).objectStore(Bb).put(t,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,t]}}))}))}function Gb(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,di.__generator)(this,(function(i){switch(i.label){case 0:return t=Qb(e),[4,Kb()];case 1:return n=i.sent(),[4,(r=n.transaction(Bb,"readwrite")).objectStore(Bb).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function Qb(e){return e.appConfig.appId}function $b(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,di.__generator)(this,(function(u){switch(u.label){case 0:return[4,Zb(e)];case 1:n=u.sent(),r=ew(t),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(Jb(e.appConfig),i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),Db.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,Db.create("token-subscribe-failed",{errorInfo:s});if(!o.token)throw Db.create("token-subscribe-no-token");return[2,o.token]}}))}))}function Yb(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,di.__generator)(this,(function(u){switch(u.label){case 0:return[4,Zb(e)];case 1:n=u.sent(),r=ew(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(Jb(e.appConfig)+"/"+t.token,i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),Db.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,Db.create("token-update-failed",{errorInfo:s});if(!o.token)throw Db.create("token-update-no-token");return[2,o.token]}}))}))}function Xb(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,di.__generator)(this,(function(s){switch(s.label){case 0:return[4,Zb(e)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(Jb(e.appConfig)+"/"+t,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw o=i.error.message,Db.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw a=s.sent(),Db.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}}))}))}function Jb(e){return"https://fcmregistrations.googleapis.com/v1/projects/"+e.projectId+"/registrations"}function Zb(e){var t=e.appConfig,n=e.installations;return(0,di.__awaiter)(this,void 0,void 0,(function(){var e;return(0,di.__generator)(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}}))}))}function ew(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,o={web:{endpoint:r,auth:n,p256dh:t}};return i!==Lb&&(o.web.applicationPubKey=i),o}function tw(e,t,n){return(0,di.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return(0,di.__generator)(this,(function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw Db.create("permission-blocked");return[4,ow(t,n)];case 1:return r=s.sent(),[4,Wb(e)];case 2:return i=s.sent(),o={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:Mb(r.getKey("auth")),p256dh:Mb(r.getKey("p256dh"))},i?[3,3]:[2,iw(e,o)];case 3:if(u=i.subscriptionOptions,l=(c=o).vapidKey===u.vapidKey,h=c.endpoint===u.endpoint,f=c.auth===u.auth,d=c.p256dh===u.p256dh,l&&h&&f&&d)return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,Xb(e,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,iw(e,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,rw({token:i.token,createTime:Date.now(),subscriptionOptions:o},e,t)]:[2,i.token];case 9:return[2]}var u,c,l,h,f,d}))}))}function nw(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,di.__generator)(this,(function(i){switch(i.label){case 0:return[4,Wb(e)];case 1:return(n=i.sent())?[4,Xb(e,n.token)]:[3,4];case 2:return i.sent(),[4,Gb(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function rw(e,t,n){return(0,di.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,di.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,Yb(t,e)];case 1:return r=a.sent(),i=(0,di.__assign)((0,di.__assign)({},e),{token:r,createTime:Date.now()}),[4,Hb(t,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,nw(t,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}function iw(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,di.__generator)(this,(function(i){switch(i.label){case 0:return[4,$b(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,Hb(e,r)];case 2:return i.sent(),[2,r.token]}}))}))}function ow(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n;return(0,di.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Fb(t)})]}}))}))}function aw(e){return"object"==typeof e&&!!e&&"google.c.a.c_id"in e}function sw(e){return new Promise((function(t){setTimeout(t,e)}))}var uw=function(){function e(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(e){e.waitUntil(t.onPush(e))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(t.onSubChange(e))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(t.onNotificationClick(e))}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!=typeof e)throw Db.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},e.prototype.getToken=function(){var e,t;return(0,di.__awaiter)(this,void 0,void 0,(function(){var n;return(0,di.__generator)(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,Wb(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(t=null===(e=null==n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:Lb,r.label=2;case 2:return[2,tw(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},e.prototype.deleteToken=function(){return nw(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw Db.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw Db.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw Db.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw Db.create("only-available-in-window")},e.prototype.onMessage=function(){throw Db.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw Db.create("only-available-in-window")},e.prototype.onPush=function(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return(0,di.__generator)(this,(function(o){switch(o.label){case 0:return(t=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(e){return null}}(e))?[4,fw()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,hw(n,t)]:(r=!1,t.notification?[4,dw(cw(t))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(e){var t={from:e.from,collapseKey:e.collapse_key};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}(t,e),t}(t),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,sw(1e3)]);case 4:return o.sent(),[2]}}))}))},e.prototype.onSubChange=function(e){var t,n;return(0,di.__awaiter)(this,void 0,void 0,(function(){var r;return(0,di.__generator)(this,(function(i){switch(i.label){case 0:return e.newSubscription?[3,2]:[4,nw(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,Wb(this.firebaseDependencies)];case 3:return r=i.sent(),[4,nw(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,tw(this.firebaseDependencies,self.registration,null!==(n=null===(t=null==r?void 0:r.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:Lb)];case 5:return i.sent(),[2]}}))}))},e.prototype.onNotificationClick=function(e){var t,n;return(0,di.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s;return(0,di.__generator)(this,(function(u){switch(u.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n.FCM_MSG)?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),(i=function(e){var t,n,r,i=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;return i||(aw(e.data)?self.location.origin:null)}(r))?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,lw(o)]):[2]):[2];case 1:return(s=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=u.sent(),[4,sw(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:return s?(r.messageType=Rb.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}}))}))},e}();function cw(e){var t,n=(0,di.__assign)({},e.notification);return n.data=((t={}).FCM_MSG=e,t),n}function lw(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return(0,di.__generator)(this,(function(u){switch(u.label){case 0:return[4,fw()];case 1:t=u.sent();try{for(n=(0,di.__values)(t),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),e.host===o.host)return[2,i]}catch(e){a={error:e}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}function hw(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=Rb.PUSH_RECEIVED;try{for(var i=(0,di.__values)(e),o=i.next();!o.done;o=i.next())o.value.postMessage(t)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function fw(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function dw(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}var pw=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(e){return t.messageEventListener(e)}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,di.__generator)(this,(function(r){switch(r.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===Rb.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(e){return delete e.messageType,delete e.isFirebaseMessaging,e}(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),aw(n=t.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){return(0,di.__generator)(this,(function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw Db.create("permission-blocked");return[4,this.updateVapidKey(null==e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null==e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,tw(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},e.prototype.updateVapidKey=function(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){return(0,di.__generator)(this,(function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=Lb),[2]}))}))},e.prototype.updateSwReg=function(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){return(0,di.__generator)(this,(function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw Db.create("invalid-sw-registration");return this.swRegistration=e,[2]}}))}))},e.prototype.registerDefaultSw=function(){return(0,di.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,di.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw t=n.sent(),Db.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}}))}))},e.prototype.deleteToken=function(){return(0,di.__awaiter)(this,void 0,void 0,(function(){return(0,di.__generator)(this,(function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,nw(this.firebaseDependencies,this.swRegistration)]}}))}))},e.prototype.requestPermission=function(){return(0,di.__awaiter)(this,void 0,void 0,(function(){var e;return(0,di.__generator)(this,(function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?Db.create("permission-blocked"):Db.create("permission-default")}}))}))},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw Db.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw Db.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw Db.create("invalid-sw-registration");if(this.swRegistration)throw Db.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw Db.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw Db.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n;return(0,di.__generator)(this,(function(r){switch(r.label){case 0:return n=function(e){switch(e){case Rb.NOTIFICATION_CLICKED:return"notification_open";case Rb.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t["google.c.a.c_id"],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},e}();function gw(e){return Db.create("missing-app-config-values",{valueName:e})}var mw={isSupported:vw};function vw(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}Y.default.INTERNAL.registerComponent(new Pp.Component("messaging",(function(e){var t=e.getProvider("app").getImmediate(),n={app:t,appConfig:function(e){var t,n;if(!e||!e.options)throw gw("App Configuration Object");if(!e.name)throw gw("App Name");var r=e.options;try{for(var i=(0,di.__values)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw gw(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!vw())throw Db.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new uw(n):new pw(n)}),"PUBLIC").setServiceProps(mw));var yw,_w,bw,ww="0.4.15",Ew=ww,Iw="FB-PERF-TRACE-MEASURE",Sw="_wt_",kw="_fcp",Tw="_fid",Cw="@firebase/performance/config",xw="@firebase/performance/configexpire",Nw="Performance",Aw=((yw={})["trace started"]="Trace {$traceName} was started before.",yw["trace stopped"]="Trace {$traceName} is not running.",yw["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",yw["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",yw["no window"]="Window is not available.",yw["no app id"]="App id is not available.",yw["no project id"]="Project id is not available.",yw["no api key"]="Api key is not available.",yw["invalid cc log"]="Attempted to queue invalid cc event",yw["FB not default"]="Performance can only start when Firebase app instance is the default one.",yw["RC response not ok"]="RC response is not ok",yw["invalid attribute name"]="Attribute name {$attributeName} is invalid.",yw["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",yw["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",yw["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",yw),Pw=new J.ErrorFactory("performance",Nw,Aw),Rw=new Z.Logger(Nw);Rw.logLevel=Z.LogLevel.INFO;var Ow,Dw=function(){function e(e){if(this.window=e,!e)throw Pw.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,J.isIndexedDBAvailable)()||(Rw.info("IndexedDB is not supported by current browswer"),!1):(Rw.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},e.prototype.setupObserver=function(e,t){this.PerformanceObserver&&new this.PerformanceObserver((function(e){for(var n=0,r=e.getEntries();n<r.length;n++){var i=r[n];t(i)}})).observe({entryTypes:[e]})},e.getInstance=function(){return void 0===_w&&(_w=new e(bw)),_w},e}();function Lw(e,t){var n=e.length-t.length;if(n<0||n>1)throw Pw.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var Mw,Fw,Uw=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=Lw("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=Lw("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw Pw.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw Pw.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw Pw.create("no api key");return e},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return void 0===Ow&&(Ow=new e),Ow},e}();function jw(){return Mw}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"}(Fw||(Fw={}));var qw=["firebase_","google_","ga_"],Vw=new RegExp("^[a-zA-Z]\\w*$");function Bw(){var e=Dw.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function zw(){switch(Dw.getInstance().document.visibilityState){case"visible":return Fw.VISIBLE;case"hidden":return Fw.HIDDEN;default:return Fw.UNKNOWN}}function Kw(){var e=Dw.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var Ww="Could not fetch config, will use default configs";function Hw(e){if(!e)return e;var t=Uw.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=true,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=Gw(t.tracesSamplingRate),t.logNetworkAfterSampling=Gw(t.networkRequestsSamplingRate),e}function Gw(e){return Math.random()<=e}var Qw,$w=1;function Yw(){return $w=2,Qw=Qw||function(){var e=Dw.getInstance().document;return new Promise((function(t){if(e&&"complete"!==e.readyState){var n=function(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()}))}().then((function(){return(e=Uw.getInstance().installationsService.getId()).then((function(e){Mw=e})),e;var e})).then((function(e){return function(e){var t=function(){var e=Dw.getInstance().localStorage;if(e){var t=e.getItem(xw);if(t&&Number(t)>Date.now()){var n=e.getItem(Cw);if(n)try{return JSON.parse(n)}catch(e){return}}}}();return t?(Hw(t),Promise.resolve()):function(e){return(t=Uw.getInstance().installationsService.getToken(),t.then((function(e){})),t).then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+Uw.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+Uw.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:Uw.getInstance().getAppId(),app_version:Ew,sdk_version:"0.0.1"})});return fetch(r).then((function(e){if(e.ok)return e.json();throw Pw.create("RC response not ok")}))})).catch((function(){Rw.info(Ww)}));var t}(e).then(Hw).then((function(e){return function(e){var t=Dw.getInstance().localStorage;e&&t&&(t.setItem(Cw,JSON.stringify(e)),t.setItem(xw,String(Date.now()+60*Uw.getInstance().configTimeToLive*60*1e3)))}(e)}),(function(){}))}(e)})).then((function(){return Xw()}),(function(){return Xw()}))}function Xw(){$w=3}var Jw,Zw=1e4,eE=3,tE=[],nE=!1;function rE(e){setTimeout((function(){var e,t;if(0!==eE)return tE.length?(t=(e=tE.splice(0,1e3)).map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}})),void function(e,t){return function(e){var t=Uw.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then((function(e){return e.ok||Rw.info("Call to Firebase backend failed."),e.json()})).then((function(e){var n=Number(e.nextRequestWaitMillis),r=Zw;isNaN(n)||(r=Math.max(n,r));var i=e.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(tE=(0,di.__spreadArray)((0,di.__spreadArray)([],t),tE),Rw.info("Retry transport request later.")),eE=3,rE(r)}))}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Uw.getInstance().logSource,log_event:t},e).catch((function(){tE=(0,di.__spreadArray)((0,di.__spreadArray)([],e),tE),eE--,Rw.info("Tries left: "+eE+"."),rE(Zw)}))):rE(Zw)}),e)}function iE(e){if(!e.eventTime||!e.message)throw Pw.create("invalid cc log");tE=(0,di.__spreadArray)((0,di.__spreadArray)([],tE),[e])}function oE(e,t){Jw||(Jw=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];iE({message:e.apply(void 0,t),eventTime:Date.now()})}}(uE)),Jw(e,t)}function aE(e){var t=Uw.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&Dw.getInstance().requiredApisAvailable()&&(e.isAuto&&zw()!==Fw.VISIBLE||(3===$w?sE(e):Yw().then((function(){return sE(e)}),(function(){return sE(e)}))))}function sE(e){if(jw()){var t=Uw.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout((function(){return oE(e,1)}),0)}}function uE(e,t){return 0===t?(r={url:(n=e).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:cE(),network_request_metric:r},JSON.stringify(i)):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);var r={application_info:cE(),trace_metric:t};return JSON.stringify(r)}(e);var n,r,i}function cE(){return{google_app_id:Uw.getInstance().getAppId(),app_instance_id:jw(),web_app_info:{sdk_version:Ew,page_url:Dw.getInstance().getUrl(),service_worker_status:Bw(),visibility_state:zw(),effective_connection_type:Kw()},application_process_state:0}}var lE=["_fp",kw,Tw],hE=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=Dw.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw Pw.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw Pw.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),aE(this)},e.prototype.record=function(e,t,n){if(e<=0)throw Pw.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw Pw.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=(0,di.__assign)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}aE(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},e.prototype.putMetric=function(e,t){if(i=e,o=this.name,0===i.length||i.length>100||!(o&&o.startsWith(Sw)&&lE.indexOf(i)>-1)&&i.startsWith("_"))throw Pw.create("invalid custom metric name",{customMetricName:e});var n,r,i,o;this.counters[e]=(n=t,(r=Math.floor(n))<n&&Rw.info("Metric value should be an Integer, setting the value as : "+r+"."),r)},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n,r=!(0===(n=e).length||n.length>40||qw.some((function(e){return n.startsWith(e)}))||!n.match(Vw)),i=function(e){return 0!==e.length&&e.length<=100}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw Pw.create("invalid attribute name",{attributeName:e});if(!i)throw Pw.create("invalid attribute value",{attributeValue:t})}},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return(0,di.__assign)({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},e.createOobTrace=function(t,n,r){var i=Dw.getInstance().getUrl();if(i){var o=new e(Sw+i,!0),a=Math.floor(1e3*Dw.getInstance().getTimeOrigin());if(o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd))),n){var s=n.find((function(e){return"first-paint"===e.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find((function(e){return"first-contentful-paint"===e.name}));u&&u.startTime&&o.putMetric(kw,Math.floor(1e3*u.startTime)),r&&o.putMetric(Tw,Math.floor(1e3*r))}aE(o)}},e.createUserTimingTrace=function(t){aE(new e(t,!1,t))},e}();function fE(e){var t=e;if(t&&void 0!==t.responseStart){var n=Dw.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+n)),i=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function(e){var t=Uw.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout((function(){return oE(e,0)}),0)}}({url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function dE(){jw()&&(setTimeout((function(){return function(){var e=Dw.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout((function(){hE.createOobTrace(t,n),r=void 0}),5e3);e.onFirstInputDelay((function(e){r&&(clearTimeout(r),hE.createOobTrace(t,n,e))}))}else hE.createOobTrace(t,n)}()}),0),setTimeout((function(){return function(){for(var e=Dw.getInstance(),t=0,n=e.getEntriesByType("resource");t<n.length;t++)fE(n[t]);e.setupObserver("resource",fE)}()}),0),setTimeout((function(){return function(){for(var e=Dw.getInstance(),t=0,n=e.getEntriesByType("measure");t<n.length;t++)pE(n[t]);e.setupObserver("measure",pE)}()}),0))}function pE(e){var t=e.name;t.substring(0,Iw.length)!==Iw&&hE.createUserTimingTrace(t)}var gE=function(){function e(e){this.app=e,Dw.getInstance().requiredApisAvailable()&&(0,J.validateIndexedDBOpenable)().then((function(e){e&&(nE||(rE(5500),nE=!0),Yw().then(dE,dE))})).catch((function(e){Rw.info("Environment doesn't support IndexedDB: "+e)}))}return e.prototype.trace=function(e){return new hE(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return Uw.getInstance().instrumentationEnabled},set:function(e){Uw.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return Uw.getInstance().dataCollectionEnabled},set:function(e){Uw.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),e}();!function(e){e.INTERNAL.registerComponent(new Pp.Component("performance",(function(e){return function(e,t){if("[DEFAULT]"!==e.name)throw Pw.create("FB not default");if("undefined"==typeof window)throw Pw.create("no window");return function(e){bw=e}(window),Uw.getInstance().firebaseAppInstance=e,Uw.getInstance().installationsService=t,new gE(e)}(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC")),e.registerVersion("@firebase/performance",ww)}(Y.default);var mE,vE,yE="https://www.googletagmanager.com/gtag/js";!function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"}(mE||(mE={})),function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(vE||(vE={}));var _E,bE=new Z.Logger("@firebase/analytics");function wE(e,t,n,r,i,o){return(0,di.__awaiter)(this,void 0,void 0,(function(){var a,s,u,c;return(0,di.__generator)(this,(function(l){switch(l.label){case 0:a=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=l.sent(),(u=s.find((function(e){return e.measurementId===i})))?[4,t[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),bE.error(c),[3,8];case 8:return e(mE.CONFIG,i,o),[2]}}))}))}function EE(e,t,n,r,i){return(0,di.__awaiter)(this,void 0,void 0,(function(){var o,a,s,u,c,l,h,f;return(0,di.__generator)(this,(function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=d.sent(),u=function(e){var n=s.find((function(t){return t.measurementId===e})),r=n&&t[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=a;c<l.length&&(h=l[c],"break"!==u(h));c++);d.label=2;case 2:return 0===o.length&&(o=Object.values(t)),[4,Promise.all(o)];case 3:return d.sent(),e(mE.EVENT,r,i||{}),[3,5];case 4:return f=d.sent(),bE.error(f),[3,5];case 5:return[2]}}))}))}var IE=((_E={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",_E["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",_E["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",_E["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",_E["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",_E["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",_E["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",_E["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',_E["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',_E),SE=new J.ErrorFactory("analytics","Analytics",IE),kE=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}());function TE(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function CE(e){var t;return(0,di.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return(0,di.__generator)(this,(function(c){switch(c.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:TE(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(a=c.sent()).status||304===a.status)return[3,6];s="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.json()];case 3:return u=c.sent(),(null===(t=u.error)||void 0===t?void 0:t.message)&&(s=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw SE.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}}))}))}function xE(e,t,n,r){var i=t.throttleEndTimeMillis,o=t.backoffCount;return void 0===r&&(r=kE),(0,di.__awaiter)(this,void 0,void 0,(function(){var t,a,s,u,c,l,h;return(0,di.__generator)(this,(function(f){switch(f.label){case 0:t=e.appId,a=e.measurementId,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,NE(n,i)];case 2:return f.sent(),[3,4];case 3:if(s=f.sent(),a)return bE.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:t,measurementId:a}];throw s;case 4:return f.trys.push([4,6,,7]),[4,CE(e)];case 5:return u=f.sent(),r.deleteThrottleMetadata(t),[2,u];case 6:if(!function(e){if(!(e instanceof J.FirebaseError&&e.customData))return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(c=f.sent())){if(r.deleteThrottleMetadata(t),a)return bE.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:t,measurementId:a}];throw c}return l=503===Number(c.customData.httpStatus)?(0,J.calculateBackoffMillis)(o,r.intervalMillis,30):(0,J.calculateBackoffMillis)(o,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(t,h),bE.debug("Calling attemptFetch again in "+l+" millis"),[2,xE(e,h,n,r)];case 7:return[2]}}))}))}function NE(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(SE.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var AE=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}();var PE,RE,OE={},DE=[],LE={},ME="dataLayer",FE="gtag",UE=!1;function jE(e){if(UE)throw SE.create("already-initialized");e.dataLayerName&&(ME=e.dataLayerName),e.gtagName&&(FE=e.gtagName)}function qE(e,t){!function(){var e=[];if((0,J.isBrowserExtension)()&&e.push("This is a browser extension environment."),(0,J.areCookiesEnabled)()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"("+(t+1)+") "+e})).join(" "),n=SE.create("invalid-analytics-context",{errorInfo:t});bE.warn(n.message)}}();var n=e.options.appId;if(!n)throw SE.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw SE.create("no-api-key");bE.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=OE[n])throw SE.create("already-exists",{id:n});if(!UE){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(ME);var r=function(e,t,n,r,i){var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){return function(i,o,a){return(0,di.__awaiter)(this,void 0,void 0,(function(){var s;return(0,di.__generator)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==mE.EVENT?[3,2]:[4,EE(e,t,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==mE.CONFIG?[3,4]:[4,wE(e,t,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:e(mE.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),bE.error(s),[3,7];case 7:return[2]}}))}))}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}(OE,DE,LE,ME,FE),i=r.wrappedGtag,o=r.gtagCore;RE=i,PE=o,UE=!0}return OE[n]=function(e,t,n,r,i,o){return(0,di.__awaiter)(this,void 0,void 0,(function(){var a,s,u,c,l,h,f;return(0,di.__generator)(this,(function(d){switch(d.label){case 0:return(a=function(e,t,n){return void 0===t&&(t=kE),(0,di.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u=this;return(0,di.__generator)(this,(function(c){if(n=e.options,r=n.appId,i=n.apiKey,o=n.measurementId,!r)throw SE.create("no-app-id");if(!i){if(o)return[2,{measurementId:o,appId:r}];throw SE.create("no-api-key")}return a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new AE,setTimeout((function(){return(0,di.__awaiter)(u,void 0,void 0,(function(){return(0,di.__generator)(this,(function(e){return s.abort(),[2]}))}))}),6e4),[2,xE({appId:r,apiKey:i,measurementId:o},a,s,t)]}))}))}(e)).then((function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&bE.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return bE.error(e)})),t.push(a),s=function(){return(0,di.__awaiter)(this,void 0,void 0,(function(){var e;return(0,di.__generator)(this,(function(t){switch(t.label){case 0:return(0,J.isIndexedDBAvailable)()?[3,1]:(bE.warn(SE.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,(0,J.validateIndexedDBOpenable)()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),bE.warn(SE.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(e){return e?r.getId():void 0})),[4,Promise.all([a,s])];case 1:return u=d.sent(),c=u[0],l=u[1],function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(yE))return r}return null}()||function(e,t){var n=document.createElement("script");n.src=yE+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}(o,c.measurementId),i("js",new Date),(f={}).origin="firebase",f.update=!0,h=f,null!=l&&(h.firebase_id=l),i(mE.CONFIG,c.measurementId,h),[2,c.measurementId]}}))}))}(e,DE,LE,t,PE,ME),{app:e,logEvent:function(e,t,r){(function(e,t,n,r,i){return(0,di.__awaiter)(this,void 0,void 0,(function(){var o,a;return(0,di.__generator)(this,(function(s){switch(s.label){case 0:return i&&i.global?(e(mE.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:o=s.sent(),a=(0,di.__assign)((0,di.__assign)({},r),{send_to:o}),e(mE.EVENT,n,a),s.label=3;case 3:return[2]}}))}))})(RE,OE[n],e,t,r).catch((function(e){return bE.error(e)}))},setCurrentScreen:function(e,t){(function(e,t,n,r){return(0,di.__awaiter)(this,void 0,void 0,(function(){var i;return(0,di.__generator)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(mE.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(mE.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(RE,OE[n],e,t).catch((function(e){return bE.error(e)}))},setUserId:function(e,t){(function(e,t,n,r){return(0,di.__awaiter)(this,void 0,void 0,(function(){var i;return(0,di.__generator)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(mE.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(mE.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(RE,OE[n],e,t).catch((function(e){return bE.error(e)}))},setUserProperties:function(e,t){(function(e,t,n,r){return(0,di.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u;return(0,di.__generator)(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return e(mE.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:u=c.sent(),e(mE.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(RE,OE[n],e,t).catch((function(e){return bE.error(e)}))},setAnalyticsCollectionEnabled:function(e){(function(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n;return(0,di.__generator)(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}}))}))})(OE[n],e).catch((function(e){return bE.error(e)}))},INTERNAL:{delete:function(){return delete OE[n],Promise.resolve()}}}}var VE="analytics";function BE(){return(0,di.__awaiter)(this,void 0,void 0,(function(){return(0,di.__generator)(this,(function(e){switch(e.label){case 0:if((0,J.isBrowserExtension)())return[2,!1];if(!(0,J.areCookiesEnabled)())return[2,!1];if(!(0,J.isIndexedDBAvailable)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,(0,J.validateIndexedDBOpenable)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}!function(e){e.INTERNAL.registerComponent(new Pp.Component(VE,(function(e){return qE(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:jE,EventName:vE,isSupported:BE})),e.INTERNAL.registerComponent(new Pp.Component("analytics-internal",(function(e){try{return{logEvent:e.getProvider(VE).getImmediate().logEvent}}catch(e){throw SE.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),e.registerVersion("@firebase/analytics","0.6.13")}(Y.default);var zE,KE=function(){function e(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}return e.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+r+"."),r},e.prototype.fetch=function(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o;return(0,di.__generator)(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return t=a.sent(),n=t[0],(r=t[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}}))}))},e}(),WE=((zE={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",zE["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",zE["registration-api-key"]="Undefined API key. Check Firebase app initialization.",zE["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",zE["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",zE["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",zE["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",zE["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",zE["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",zE["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',zE["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',zE["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",zE["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",zE),HE=new J.ErrorFactory("remoteconfig","Remote Config",WE),GE=function(){function e(e,t,n,r,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return e.prototype.fetch=function(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l,h,f,d,p,g,m,v,y,_;return(0,di.__generator)(this,(function(b){switch(b.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:t=b.sent(),n=t[0],r=t[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},s={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===w&&(w=navigator),w.languages&&w.languages[0]||w.language)},u={method:"POST",headers:a,body:JSON.stringify(s)},c=fetch(o,u),l=new Promise((function(t,n){e.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),b.label=2;case 2:return b.trys.push([2,5,,6]),[4,Promise.race([c,l])];case 3:return b.sent(),[4,c];case 4:return h=b.sent(),[3,6];case 5:throw f=b.sent(),d="fetch-client-network","AbortError"===f.name&&(d="fetch-timeout"),HE.create(d,{originalErrorMessage:f.message});case 6:if(p=h.status,g=h.headers.get("ETag")||void 0,200!==h.status)return[3,11];y=void 0,b.label=7;case 7:return b.trys.push([7,9,,10]),[4,h.json()];case 8:return y=b.sent(),[3,10];case 9:throw _=b.sent(),HE.create("fetch-client-parse",{originalErrorMessage:_.message});case 10:m=y.entries,v=y.state,b.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===v?p=500:"NO_CHANGE"===v?p=304:"NO_TEMPLATE"!==v&&"EMPTY_CONFIG"!==v||(m={}),304!==p&&200!==p)throw HE.create("fetch-status",{httpStatus:p});return[2,{status:p,eTag:g,config:m}]}var w}))}))},e}(),QE=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}(),$E=["1","true","t","yes","y","on"],YE=function(){function e(e,t){void 0===t&&(t=""),this._source=e,this._value=t}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return"static"!==this._source&&$E.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},e.prototype.getSource=function(){return this._source},e}(),XE=function(){function e(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return e.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=Z.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=Z.LogLevel.SILENT;break;default:this._logger.logLevel=Z.LogLevel.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return(0,di.__awaiter)(this,void 0,void 0,(function(){var e,t,n;return(0,di.__generator)(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=r.sent(),t=e[0],n=e[1],t&&t.config&&t.eTag&&t.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},e.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){e._isInitializationComplete=!0}))),this._initializePromise},e.prototype.fetch=function(){return(0,di.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r=this;return(0,di.__generator)(this,(function(i){switch(i.label){case 0:e=new QE,setTimeout((function(){return(0,di.__awaiter)(r,void 0,void 0,(function(){return(0,di.__generator)(this,(function(t){return e.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return t=i.sent(),n=function(e,t){return e instanceof J.FirebaseError&&-1!==e.code.indexOf("fetch-throttle")}(t)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),t;case 6:return[2]}}))}))},e.prototype.fetchAndActivate=function(){return(0,di.__awaiter)(this,void 0,void 0,(function(){return(0,di.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}}))}))},e.prototype.getAll=function(){var e,t,n=this;return(e=this._storageCache.getActiveConfig(),t=this.defaultConfig,void 0===e&&(e={}),void 0===t&&(t={}),Object.keys((0,di.__assign)((0,di.__assign)({},e),t))).reduce((function(e,t){return e[t]=n.getValue(t),e}),{})},e.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},e.prototype.getNumber=function(e){return this.getValue(e).asNumber()},e.prototype.getString=function(e){return this.getValue(e).asString()},e.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new YE("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new YE("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new YE("static"))},e}();function JE(e,t){var n=e.target.error||void 0;return HE.create(t,{originalErrorMessage:n&&n.message})}var ZE="app_namespace_store",eI=function(){function e(e,t,n,r){void 0===r&&(r=new Promise((function(e,t){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(e){t(JE(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(ZE,{keyPath:"compositeKey"})}}}))),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(e){return this.set("active_config",e)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,di.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([ZE],"readonly").objectStore(ZE),a=n.createCompositeKey(e);try{var s=o.get(a);s.onerror=function(e){i(JE(e,"storage-get"))},s.onsuccess=function(e){var t=e.target.result;r(t?t.value:void 0)}}catch(e){i(HE.create("storage-get",{originalErrorMessage:e&&e.message}))}}))]}}))}))},e.prototype.set=function(e,t){return(0,di.__awaiter)(this,void 0,void 0,(function(){var n,r=this;return(0,di.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction([ZE],"readwrite").objectStore(ZE),s=r.createCompositeKey(e);try{var u=a.put({compositeKey:s,value:t});u.onerror=function(e){o(JE(e,"storage-set"))},u.onsuccess=function(){i()}}catch(e){o(HE.create("storage-set",{originalErrorMessage:e&&e.message}))}}))]}}))}))},e.prototype.delete=function(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,di.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([ZE],"readwrite").objectStore(ZE),a=n.createCompositeKey(e);try{var s=o.delete(a);s.onerror=function(e){i(JE(e,"storage-delete"))},s.onsuccess=function(){r()}}catch(e){i(HE.create("storage-delete",{originalErrorMessage:e&&e.message}))}}))]}}))}))},e.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},e}(),tI=function(){function e(e){this.storage=e}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return(0,di.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i,o;return(0,di.__generator)(this,(function(a){switch(a.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,t];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}}))}))},e.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},e.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},e}();function nI(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(HE.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var rI,iI=function(){function e(e,t){this.client=e,this.storage=t}return e.prototype.fetch=function(e){return(0,di.__awaiter)(this,void 0,void 0,(function(){var t;return(0,di.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}}))}))},e.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return(0,di.__awaiter)(this,void 0,void 0,(function(){var t,i,o;return(0,di.__generator)(this,(function(a){switch(a.label){case 0:return[4,nI(e.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,t];case 5:if(!function(e){if(!(e instanceof J.FirebaseError&&e.customData))return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i=a.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+(0,J.calculateBackoffMillis)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(e,o)];case 7:return[2]}}))}))},e}(),oI="@firebase/remote-config";(rI=Y.default).INTERNAL.registerComponent(new Pp.Component("remoteConfig",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"==typeof window)throw HE.create("registration-window");var o=r.options,a=o.projectId,s=o.apiKey,u=o.appId;if(!a)throw HE.create("registration-project-id");if(!s)throw HE.create("registration-api-key");if(!u)throw HE.create("registration-app-id");n=n||"firebase";var c=new eI(u,r.name,n),l=new tI(c),h=new Z.Logger(oI);h.logLevel=Z.LogLevel.ERROR;var f=new GE(i,rI.SDK_VERSION,n,a,s,u),d=new iI(f,c),p=new KE(d,c,l,h),g=new XE(r,p,l,c,h);return g.ensureInitialized(),g}),"PUBLIC").setMultipleInstances(!0)),rI.registerVersion(oI,"0.1.40"),n(224);var aI="8.6.8";Y.default.registerVersion("firebase",aI,"app"),Y.default.SDK_VERSION=aI,console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),Y.default.registerVersion("firebase","8.6.8");var sI=Pv.div.withConfig({displayName:"AccountSettingSty__AccountWrap",componentId:"sc-19gxrv9-0"})(["width:952px;border:1px solid ",";border-radius:16px;background:#1F1D33;"],Uv),uI=Pv.ul.withConfig({displayName:"AccountSettingSty__UL",componentId:"sc-19gxrv9-1"})(["padding:0px 80px;"]),cI=Pv.li.withConfig({displayName:"AccountSettingSty__Li",componentId:"sc-19gxrv9-2"})(["position:relative;border-bottom:1px solid ",";margin-bottom:30px;img{width:20px;position:absolute;right:80px;cursor:pointer;}.edit{display:none;}.active{display:block;}"],jv),lI=Pv.h1.withConfig({displayName:"AccountSettingSty__H1",componentId:"sc-19gxrv9-3"})(["font-size:24px;height:60px;background:#464B86;text-align:center;line-height:60px;border-radius:16px 16px 0 0;margin-bottom:30px;"]),hI=Pv.div.withConfig({displayName:"AccountSettingSty__TitleDiv",componentId:"sc-19gxrv9-4"})(["h3{font-size:16px;color:",";margin-bottom:20px;}p{font-size:20px;color:#DCACFF;margin-bottom:20px;}"],Uv),fI=Pv.div.withConfig({displayName:"AccountSettingSty__EditDiv",componentId:"sc-19gxrv9-5"})(["margin-bottom:16px;p{font-size:14px;margin-bottom:20px;}"]),dI=Pv.input.withConfig({displayName:"AccountSettingSty__Input",componentId:"sc-19gxrv9-6"})(["height:28px;margin-right:20px;"]),pI=Pv.button.withConfig({displayName:"AccountSettingSty__Button",componentId:"sc-19gxrv9-7"})(["width:60px;height:28px;margin-right:10px;border:1px solid ",";background:",";color:",";"],(function(e){return"save"===e.className?"none":Uv}),(function(e){return"save"===e.className?Uv:null}),(function(e){return"save"===e.className?"#fff":Uv}));function gI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||mI(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mI(e,t){if(e){if("string"==typeof e)return vI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vI(e,t):void 0}}function vI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const yI=function(t){var n=t.user,r=t.userToken,i=t.userEmail,o=t.userBirth,a=gI((0,e.useState)([]),2),s=a[0],u=a[1],c=gI((0,e.useState)(""),2),l=c[0],h=c[1],f=gI((0,e.useState)(""),2),d=f[0],p=f[1],g=gI((0,e.useState)(""),2),m=g[0],v=g[1],y=[{title:"Username",value:n},{title:"Email Address",value:i},{title:"Password",value:"****"},{title:"Birthday",value:o}].map((function(t,n){var r=s.includes(t.title)?"active":"";return e.createElement(cI,{key:t.title},"Email Address"===t.title?null:e.createElement("img",{src:r_,alt:"edit",onClick:function(){return function(e){if(s.includes(e)){var t=s.filter((function(t){return t!==e}));u(t)}else u([].concat(function(e){if(Array.isArray(e))return vI(e)}(n=s)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||mI(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e]));var n}(t.title)}}),e.createElement(hI,null,e.createElement("h3",null,t.title),e.createElement("p",null,t.value)),e.createElement(fI,{className:"edit ".concat(r)},e.createElement("p",null,"Update your ",t.title,":"),e.createElement(dI,{type:"text",id:t.title,onChange:function(e){return _(e.target.value,e.target.id)},value:"Username"===t.title?l:"Password"===t.title?d:m}),e.createElement(pI,{className:"save",id:t.title,onClick:function(e){return b(e.target.id)}},"Save"),e.createElement(pI,{className:"cancel",id:t.title,onClick:function(e){return w(e.target.id)}},"Cancel")))})),_=function(e,t){switch(t){case"Username":h(e);break;case"Password":p(e);break;case"Birthday":v(e)}},b=function(e){switch("Username"===e?tm.collection("member").doc(r).update({username:l}).then((function(){return h("")})).catch((function(e){return console.log(e)})):"Birthday"===e&&tm.collection("member").doc(r).update({user_birth:m}).then((function(){return v("")})).catch((function(e){return console.log(e)})),e){case"Username":h(l);break;case"Password":p(d);break;case"Birthday":v(m)}},w=function(e){switch(e){case"Username":h("");break;case"Password":p("");break;case"Birthday":v("")}};return e.createElement(sI,null,e.createElement(lI,null,"Account Settings"),e.createElement(uI,null,y))};var _I=Pv.div.withConfig({displayName:"TeamsSettingSty__TeamsSettingWrap",componentId:"sc-1snoc5s-0"})(["width:952px;"]),bI=Pv.div.withConfig({displayName:"TeamsSettingSty__FavoriteWrap",componentId:"sc-1snoc5s-1"})(["width:100%;display:flex;justify-content:space-around;align-items:center;margin-bottom:40px;h2{font-size:24px;}"]),wI=Pv.img.withConfig({displayName:"TeamsSettingSty__StarI",componentId:"sc-1snoc5s-2"})(["width:28px;margin-bottom:20px;"]),EI=Pv.div.withConfig({displayName:"TeamsSettingSty__IconWrap",componentId:"sc-1snoc5s-3"})(["display:flex;flex-direction:column;align-items:center;"]),II=Pv.img.withConfig({displayName:"TeamsSettingSty__MemberTeamLogo",componentId:"sc-1snoc5s-4"})(["width:120px;"]),SI=Pv.div.withConfig({displayName:"TeamsSettingSty__SelectTeamWrap",componentId:"sc-1snoc5s-5"})(["width:100%;p,input{margin-bottom:16px;}"]),kI=Pv.ul.withConfig({displayName:"TeamsSettingSty__AllTeamUL",componentId:"sc-1snoc5s-6"})(["width:100%;display:flex;flex-wrap:wrap;justify-content:space-around;"]),TI=Pv.li.withConfig({displayName:"TeamsSettingSty__TeamItemWrapLi",componentId:"sc-1snoc5s-7"})(["width:176px;display:flex;flex-direction:column;align-items:center;background:#262955;padding:20px 20px;margin-bottom:16px;p{margin-bottom:10px;}hr{width:176px;border:2px solid #07001C;margin-bottom:10px;}"]),CI=Pv.input.withConfig({displayName:"TeamsSettingSty__SearchTeamInput",componentId:"sc-1snoc5s-8"})(["width:240px;height:36px;"]);const xI=n.p+"d0cbd94e0a4a62fc2bf4fc9fa8990405.png",NI=function(){return e.createElement(_I,null,e.createElement(bI,null,e.createElement("h2",null,"My favorite team"),e.createElement(EI,null,e.createElement(wI,{src:xI,alt:""}),e.createElement(II,{src:Fy,alt:""}))),e.createElement(SI,null,e.createElement("p",null,"Pick the ONE team you go to bat for. "),e.createElement(CI,{type:"text",placeholder:"Type team..."}),e.createElement(kI,null,function(){for(var t=[],n=1;n<17;n++)t.push(e.createElement(TI,null,e.createElement("p",null,"PSG.LGD"),e.createElement("hr",null),e.createElement(II,{src:Fy,alt:""})));return t}())))};function AI(e){return function(e){if(Array.isArray(e))return OI(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||RI(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||RI(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function RI(e,t){if(e){if("string"==typeof e)return OI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?OI(e,t):void 0}}function OI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var DI=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],LI=["January","February","March","April","May","June","July","August","September","October","November","December"];var MI="rgba(168,73,237,0.27)",FI=Pv.div.withConfig({displayName:"UserCalendarSty__UserCalendarWrap",componentId:"sc-18ev413-0"})(["width:900px;background:#231D40;padding:12px;"]),UI=Pv.div.withConfig({displayName:"UserCalendarSty__SelectMonthDiv",componentId:"sc-18ev413-1"})(["margin-bottom:16px;display:flex;align-items:center;button{margin-right:12px;}"]),jI=Pv.button.withConfig({displayName:"UserCalendarSty__MonthBtn",componentId:"sc-18ev413-2"})(["color:",";background:#282B58;width:80px;height:40px;"],Vv),qI=Pv.button.withConfig({displayName:"UserCalendarSty__TodayBtn",componentId:"sc-18ev413-3"})(["color:",";background:#282B58;width:80px;height:40px;"],Vv),VI=Pv.ul.withConfig({displayName:"UserCalendarSty__DayUl",componentId:"sc-18ev413-4"})(["display:flex;width:100%;list-style:none;color:",";font-weight:bold;li{width:99%;border:1px solid ",";border-right:none;text-align:center;padding:8px 16px;}li:nth-last-child(1){border-right:1px solid ",";}"],Uv,MI,MI),BI=Pv.ul.withConfig({displayName:"UserCalendarSty__AllRowsUl",componentId:"sc-18ev413-5"})(["display:flex;flex-direction:column;list-style:none;width:100%;li{list-style:none;overflow:hidden;}"]),zI=Pv.ul.withConfig({displayName:"UserCalendarSty__RowsWrap",componentId:"sc-18ev413-6"})(["display:flex;li{width:99%;height:100px;text-align:center;border:1px solid ",";border-right:none;border-top:none;}li:nth-last-child(1){border-right:1px solid ",";}p{text-align:right;padding:4px;}"],MI,MI);function KI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return WI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?WI(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function WI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const HI=function(t){t.userToken;var n=t.userTour,r=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:DI,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:LI,r=new Date,i="".concat(r.getFullYear(),"-").concat(r.getMonth()+1,"-").concat(r.getDate()),o=[0,1,2,3,4,5,6],a=PI((0,e.useState)(r),2),s=a[0],u=a[1],c=new Date(s.getFullYear(),s.getMonth(),0),l=new Date(s.getFullYear(),s.getMonth(),1).getDay(),h=new Date(s.getFullYear(),s.getMonth()+1,0).getDate(),f=o.indexOf(l)+1,d=c.getDate()-o.indexOf(l)+1,p=1,g=1,m=6,v=7,y={},_=1;_<m+1;_++)for(var b=0;b<v;b++)y[_]||(y[_]=[]),1===_?b<f?(y[_]=[].concat(AI(y[_]),[{classes:"in-prev-month ",date:"".concat(0===s.getMonth()?s.getFullYear()-1:s.getFullYear(),"-").concat(0===s.getMonth()?12:s.getMonth(),"-").concat(d),value:d}]),d++):(y[_]=[].concat(AI(y[_]),[{classes:"in-now-month",date:"".concat(s.getFullYear(),"-").concat(s.getMonth()+1,"-").concat(p),value:p}]),p++):_>1&&p<h+1?(y[_]=[].concat(AI(y[_]),[{classes:"in-now-month",date:"".concat(s.getFullYear(),"-").concat(s.getMonth()+1,"-").concat(p),value:p}]),p++):(y[_]=[].concat(AI(y[_]),[{classes:"in-next-month",date:"".concat(s.getMonth()+2===13?s.getFullYear()+1:s.getFullYear(),"-").concat(s.getMonth()+2===13?1:s.getMonth()+2,"-").concat(g),value:g}]),g++);return{daysName:t,monthNames:n,todayFormat:i,calendarRows:y,selectedDate:s,getPrevMonth:function(){u((function(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}))},getNextMonth:function(){u((function(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}))}}}(),i=r.daysName,o=r.monthNames,a=r.todayFormat,s=r.calendarRows,u=r.selectedDate,c=r.getPrevMonth,l=r.getNextMonth,h=KI((0,e.useState)(!0),2),f=h[0],d=h[1],p=KI((0,e.useState)(n),2),g=p[0],m=(p[1],KI((0,e.useState)(null),2)),v=m[0],y=m[1];return(0,e.useEffect)((function(){if(g){var e=g.map((function(e){return{title:e.tourTitle,date:e.tourStart}}));y(e),d(!1)}}),[]),f?e.createElement("div",null," Loading"):e.createElement(FI,null,e.createElement(UI,null,e.createElement(jI,{onClick:c},"Prev"),e.createElement(qI,null,"Today"),e.createElement(jI,{onClick:l},"Next"),e.createElement("p",null,"".concat(o[u.getMonth()]," - ").concat(u.getFullYear()))),e.createElement(VI,null,i.map((function(t){return e.createElement("li",{key:t},t)}))),e.createElement(BI,null,Object.values(s).map((function(t){return e.createElement(zI,{key:t[0].date},t.map((function(t){return t.date===a?e.createElement("li",{key:t.date,className:"".concat(t.classes," today ").concat(t.date),onClick:function(){return dateClickHandler(t.date)}},e.createElement("p",null,t.value),v?v.filter((function(e){return t.date===e.date})).map((function(t){return e.createElement("div",{style:{background:"pink"}},t.title)})):null):e.createElement("li",{key:t.date,className:"".concat(t.classes," ").concat(t.date),onClick:function(){return dateClickHandler(t.date)}},e.createElement("p",null,t.value),v?v.filter((function(e){return t.date===e.date})).map((function(t){return e.createElement("div",{style:{background:"pink"}},t.title)})):null)})))}))))},GI=function(t){t.isSigned;var n=t.user,r=t.userToken,i=t.userEmail,o=t.userTeam,a=t.userTour,s=t.userBirth;return console.log("Member",r),e.createElement(V,null,e.createElement(Wv,null,e.createElement(e.Fragment,null,e.createElement("div",{style:{marginBottom:"40px"}},e.createElement(G,{to:"/member"},"Account"),e.createElement(G,{to:"/member/userteam"},"Team"),e.createElement(G,{to:"/member/calendar"},"Tour Calendar")),e.createElement(q,null,e.createElement(j,{exact:!0,path:"/member"},e.createElement(yI,{user:n,userToken:r,userEmail:i,userBirth:s})),e.createElement(j,{path:"/member/userteam"},e.createElement(NI,{userToken:r,userTeam:o})),e.createElement(j,null,e.createElement(HI,{path:"/member/calendar",userToken:r,userTour:a}))))))};function QI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$I(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const YI=function(){var t=QI((0,e.useState)(!0),2),n=t[0],r=t[1],i=QI((0,e.useState)(!0),2),o=i[0],a=i[1],s=QI((0,e.useState)(null),2),u=s[0],c=s[1],l=QI((0,e.useState)(null),2),h=l[0],f=l[1],d=QI((0,e.useState)(null),2),p=d[0],g=d[1],m=QI((0,e.useState)(null),2),v=(m[0],m[1],QI((0,e.useState)(null),2)),y=v[0],_=v[1],b=QI((0,e.useState)(null),2),w=b[0],E=b[1],I=QI((0,e.useState)(null),2),S=I[0],k=I[1],T=QI((0,e.useState)(!1),2),C=T[0],x=T[1],N=QI((0,e.useState)(!1),2),A=N[0],P=N[1],R=function(e){"login"===e?(x(!0),P(!1)):(x(!1),P(!0))},O=function(){x(!1),P(!1)},D=function(e,t){e&&(a(!0),c(t),f(e))},L=function(){a(!1),c(null)},M=function(e){return a(!0),c(e.username),f(e.uid),g(e.email),_(e.user_team),E(e.user_tour),k(e.user_birth),e.uid};return(0,e.useEffect)((function(){Y.default.auth().onAuthStateChanged((function(e){e&&tm.collection("member").doc(e.uid).get().then((function(e){return M(e.data())})).then((function(e){r(!1),tm.collection("member").doc(e).onSnapshot((function(e){M(e.data())}))})).catch((function(e){return console.log(e)}))}))}),[]),n?e.createElement("div",null," Loading..."):e.createElement(V,null,e.createElement(zv,null),e.createElement(Kv,null),e.createElement(ry,{showLoginPopup:function(){x(!0)},isSigned:o,user:u}),C?e.createElement(Cy,{clickBlur:O,checkLogin:D,signOut:L,switchPopup:R}):null,A?e.createElement(gy,{clickBlur:O,checkLogin:D,signOut:L,switchPopup:R}):null,e.createElement(q,null,e.createElement(j,{path:"/",exact:!0},e.createElement(Dv,{isSigned:o,user:u})),e.createElement(j,{path:"/tournaments"},e.createElement(M_,{isSigned:o,user:u,userTour:w})),e.createElement(j,{path:"/stream"},e.createElement(T_,{isSigned:o,user:u})),e.createElement(j,{path:"/member"},e.createElement(GI,{isSigned:o,user:u,userToken:h,userEmail:p,userTeam:y,userTour:w,userBirth:S}))))};console.log("123"),t.render(e.createElement(YI,null),document.getElementById("root"))})()})();